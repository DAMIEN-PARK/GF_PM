<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Ïã§Ïäµ - GrowFit Employee</title>

    <!-- Í≥µÌÜµ CSS -->
    <link rel="stylesheet" href="../common/variables.css">
    <link rel="stylesheet" href="../common/layout.css">
    <link rel="stylesheet" href="../common/components.css">

    <style>
        /* ========== Practice MSP Ï†ÑÏö© Ïä§ÌÉÄÏùº ========== */
        :root {
            --employee-primary: #10b981;
            --employee-primary-light: #34d399;
            --employee-primary-dark: #059669;
            --employee-secondary: #06b6d4;
            --employee-accent: #f59e0b;

            /* Î™®Îç∏Î≥Ñ ÏÉâÏÉÅ */
            --gpt-color: #10a37f;
            --claude-color: #d97757;
            --gemini-color: #4285f4;
        }

        /* ========== LLM ÏÑ†ÌÉù Ìå®ÎÑê ========== */
        .model-selector {
            background: var(--background);
            border: 1px solid var(--border);
            border-radius: var(--radius-lg);
            padding: var(--space-4);
            margin-bottom: var(--space-4);
        }

        .model-selector__header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: var(--space-3);
        }

        .model-selector__title {
            font-size: var(--text-base);
            font-weight: var(--font-semibold);
            color: var(--text-primary);
            display: flex;
            align-items: center;
            gap: var(--space-2);
        }

        .model-selector__count {
            font-size: var(--text-sm);
            color: var(--text-secondary);
            background: var(--surface);
            padding: var(--space-1) var(--space-3);
            border-radius: var(--radius-full);
        }

        .model-selector__grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: var(--space-3);
        }

        .model-checkbox {
            position: relative;
            cursor: pointer;
        }

        .model-checkbox__input {
            position: absolute;
            opacity: 0;
            pointer-events: none;
        }

        .model-checkbox__label {
            display: flex;
            align-items: center;
            gap: var(--space-3);
            padding: var(--space-4);
            border: 2px solid var(--border);
            border-radius: var(--radius-md);
            background: white;
            transition: all 0.2s;
            cursor: pointer;
        }

        .model-checkbox__input:checked + .model-checkbox__label {
            border-color: var(--employee-primary);
            background: rgba(16, 185, 129, 0.05);
        }

        .model-checkbox__checkmark {
            width: 20px;
            height: 20px;
            border: 2px solid var(--border);
            border-radius: var(--radius-base);
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            transition: all 0.2s;
            font-size: 12px;
        }

        .model-checkbox__input:checked + .model-checkbox__label .model-checkbox__checkmark {
            background: var(--employee-primary);
            border-color: var(--employee-primary);
            color: white;
        }

        .model-checkbox__icon {
            width: 40px;
            height: 40px;
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            flex-shrink: 0;
        }

        .model-checkbox__icon--gpt {
            background: rgba(16, 163, 127, 0.1);
            color: var(--gpt-color);
        }

        .model-checkbox__icon--claude {
            background: rgba(217, 119, 87, 0.1);
            color: var(--claude-color);
        }

        .model-checkbox__icon--gemini {
            background: rgba(66, 133, 244, 0.1);
            color: var(--gemini-color);
        }

        .model-checkbox__info {
            flex: 1;
        }

        .model-checkbox__name {
            font-size: var(--text-sm);
            font-weight: var(--font-semibold);
            color: var(--text-primary);
            margin-bottom: var(--space-1);
        }

        .model-checkbox__desc {
            font-size: var(--text-xs);
            color: var(--text-secondary);
        }

        /* Ïã§Ïäµ Î™®Îìú Ï†ÑÌôò */
        .mode-switcher {
            background: var(--background);
            border: 1px solid var(--border);
            border-radius: var(--radius-lg);
            padding: var(--space-3);
            margin-bottom: var(--space-3);
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .mode-tabs {
            display: flex;
            gap: var(--space-2);
            background: var(--surface);
            padding: var(--space-1);
            border-radius: var(--radius-md);
        }

        .mode-tab {
            padding: var(--space-2) var(--space-4);
            border: none;
            border-radius: var(--radius-md);
            background: transparent;
            font-size: var(--text-sm);
            font-weight: var(--font-medium);
            color: var(--text-secondary);
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: var(--space-2);
        }

        .mode-tab:hover {
            color: var(--text-primary);
            background: var(--background);
        }

        .mode-tab--active {
            background: white;
            color: var(--employee-primary);
            font-weight: var(--font-semibold);
            box-shadow: var(--shadow-sm);
        }

        .mode-tab__icon {
            font-size: 16px;
        }

        /* ÏÑ†ÌÉùÎêú Î™®Îç∏ ÌëúÏãú */
        .selected-models {
            display: flex;
            gap: var(--space-1);
        }

        .selected-model {
            width: 36px;
            height: 36px;
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            cursor: pointer;
            transition: all 0.2s;
            position: relative;
        }

        .selected-model--gpt {
            background: rgba(16, 163, 127, 0.1);
            border: 2px solid var(--gpt-color);
        }

        .selected-model--claude {
            background: rgba(217, 119, 87, 0.1);
            border: 2px solid var(--claude-color);
        }

        .selected-model--gemini {
            background: rgba(66, 133, 244, 0.1);
            border: 2px solid var(--gemini-color);
        }

        .selected-model:hover {
            transform: scale(1.05);
        }

        .selected-model--inactive {
            opacity: 0.3;
            border-style: dashed;
        }

        /* ÏïÑÏù¥ÏΩò Î≤ÑÌäº */
        .btn-icon {
            width: 36px;
            height: 36px;
            border: 1px solid var(--border);
            border-radius: var(--radius-md);
            background: white;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 16px;
        }

        .btn-icon:hover {
            background: var(--surface);
            border-color: var(--employee-primary);
        }

        .btn-icon:active {
            transform: scale(0.95);
        }

        /* ÏòµÏÖò Î©îÎâ¥ (ÎìúÎ°≠Îã§Ïö¥) */
        .options-menu {
            position: absolute;
            top: calc(100% + 8px);
            left: 0;
            background: white;
            border: 1px solid var(--border);
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-lg);
            padding: var(--space-3);
            min-width: 320px;
            z-index: var(--z-dropdown);
            display: none;
        }

        .options-menu--open {
            display: block;
            animation: slideDown 0.2s ease-out;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .options-section {
            margin-bottom: var(--space-4);
        }

        .options-section:last-child {
            margin-bottom: 0;
        }

        .options-section__title {
            font-size: var(--text-xs);
            font-weight: var(--font-semibold);
            color: var(--text-secondary);
            margin-bottom: var(--space-2);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .options-list {
            display: flex;
            flex-direction: column;
            gap: var(--space-1);
        }

        .option-item {
            display: flex;
            align-items: center;
            gap: var(--space-2);
            padding: var(--space-2);
            border-radius: var(--radius-md);
            cursor: pointer;
            transition: all 0.2s;
        }

        .option-item:hover {
            background: var(--surface);
        }

        .option-item__checkbox {
            width: 18px;
            height: 18px;
            border: 2px solid var(--border);
            border-radius: var(--radius-sm);
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
        }

        .option-item--checked .option-item__checkbox {
            background: var(--employee-primary);
            border-color: var(--employee-primary);
            color: white;
        }

        .option-item__icon {
            font-size: 18px;
        }

        .option-item__content {
            flex: 1;
        }

        .option-item__name {
            font-size: var(--text-sm);
            font-weight: var(--font-medium);
            color: var(--text-primary);
        }

        .option-item__desc {
            font-size: var(--text-xs);
            color: var(--text-secondary);
        }

        /* ========== ÏÑ†ÌÉù Î™®Îã¨ ========== */
        .selector-modal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            z-index: var(--z-modal);
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: opacity 0.2s;
        }

        .selector-modal--open {
            opacity: 1;
        }

        .selector-modal__overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
        }

        .selector-modal__content {
            position: relative;
            background: white;
            border-radius: var(--radius-lg);
            width: 90%;
            max-width: 500px;
            max-height: 80vh;
            display: flex;
            flex-direction: column;
            box-shadow: var(--shadow-xl);
            animation: modalSlideUp 0.2s ease-out;
        }

        @keyframes modalSlideUp {
            from {
                transform: translateY(20px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .selector-modal__header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: var(--space-4);
            border-bottom: 1px solid var(--border);
        }

        .selector-modal__title {
            font-size: var(--text-lg);
            font-weight: var(--font-semibold);
            color: var(--text-primary);
        }

        .selector-modal__close {
            width: 32px;
            height: 32px;
            border: none;
            background: transparent;
            border-radius: var(--radius-md);
            font-size: 20px;
            color: var(--text-secondary);
            cursor: pointer;
            transition: all 0.2s;
        }

        .selector-modal__close:hover {
            background: var(--surface);
            color: var(--text-primary);
        }

        .selector-modal__body {
            flex: 1;
            overflow-y: auto;
            padding: var(--space-4);
        }

        /* ÏÑ†ÌÉùÏûê Í≤ÄÏÉâ */
        .selector-search {
            margin-bottom: var(--space-3);
        }

        .selector-search input {
            width: 100%;
            padding: var(--space-3);
            border: 1px solid var(--border);
            border-radius: var(--radius-md);
            font-size: var(--text-sm);
            transition: all 0.2s;
        }

        .selector-search input:focus {
            outline: none;
            border-color: var(--employee-primary);
            box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.1);
        }

        /* ÏÑ†ÌÉùÏûê Î¶¨Ïä§Ìä∏ */
        .selector-list {
            display: flex;
            flex-direction: column;
            gap: var(--space-1);
        }

        .selector-item {
            display: flex;
            align-items: center;
            gap: var(--space-3);
            padding: var(--space-3);
            border-radius: var(--radius-md);
            cursor: pointer;
            transition: all 0.2s;
        }

        .selector-item:hover {
            background: var(--surface);
        }

        .selector-item__icon {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            background: var(--surface);
            border-radius: var(--radius-md);
            flex-shrink: 0;
        }

        .selector-item__content {
            flex: 1;
            min-width: 0;
        }

        .selector-item__name {
            font-size: var(--text-sm);
            font-weight: var(--font-medium);
            color: var(--text-primary);
            margin-bottom: var(--space-1);
        }

        .selector-item__desc {
            font-size: var(--text-xs);
            color: var(--text-secondary);
        }

        .selector-divider {
            height: 1px;
            background: var(--border);
            margin: var(--space-2) 0;
        }

        /* Ïª®ÌÖçÏä§Ìä∏ Î∞î - ÏÇ≠Ï†úÎê®, ÏòµÏÖò Î©îÎâ¥Î°ú ÌÜµÌï© */

        /* ========== Îã®Ïùº Î™®Îìú Ï†ÑÏö© Ïä§ÌÉÄÏùº ========== */
        
        /* ÏôºÏ™Ω Ìå®ÎÑê: Î™®Îç∏ ÏÑ§Ï†ï */
        .model-settings-panel {
            background: var(--background);
            border: 1px solid var(--border);
            border-radius: var(--radius-lg);
            padding: var(--space-4);
            display: flex;
            flex-direction: column;
            gap: var(--space-4);
            overflow-y: auto;
        }

        .settings-section {
            display: flex;
            flex-direction: column;
            gap: var(--space-3);
        }

        .settings-section__title {
            font-size: var(--text-sm);
            font-weight: var(--font-semibold);
            color: var(--text-primary);
            display: flex;
            align-items: center;
            gap: var(--space-2);
        }

        .form-group {
            display: flex;
            flex-direction: column;
            gap: var(--space-2);
        }

        .form-label {
            font-size: var(--text-sm);
            font-weight: var(--font-medium);
            color: var(--text-secondary);
        }

        .form-select {
            width: 100%;
            padding: var(--space-2) var(--space-3);
            border: 1px solid var(--border);
            border-radius: var(--radius-md);
            font-size: var(--text-sm);
            color: var(--text-primary);
            background: var(--background);
            cursor: pointer;
            transition: all 0.2s;
        }

        .form-select:focus {
            outline: none;
            border-color: var(--employee-primary);
            box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.1);
        }

        .model-info {
            background: var(--surface);
            border: 1px solid var(--border);
            border-radius: var(--radius-md);
            padding: var(--space-3);
        }

        .model-info__header {
            display: flex;
            align-items: center;
            gap: var(--space-2);
            margin-bottom: var(--space-2);
        }

        .model-info__title {
            font-size: var(--text-sm);
            font-weight: var(--font-semibold);
        }

        .model-info__content {
            display: flex;
            flex-direction: column;
            gap: var(--space-2);
        }

        .model-info__item {
            display: flex;
            justify-content: space-between;
            font-size: var(--text-sm);
        }

        .model-info__label {
            color: var(--text-secondary);
        }

        .model-info__value {
            font-weight: var(--font-medium);
        }

        /* Ï§ëÏïô Ìå®ÎÑê: Ï±ÑÌåÖ */
        .chat-panel {
            background: var(--background);
            border: 1px solid var(--border);
            border-radius: var(--radius-lg);
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: var(--space-4);
            display: flex;
            flex-direction: column;
            gap: var(--space-3);
        }

        .chat-welcome {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100%;
            text-align: center;
            color: var(--text-secondary);
        }

        .chat-welcome__icon {
            font-size: 48px;
            margin-bottom: var(--space-4);
        }

        .chat-welcome__title {
            font-size: var(--text-xl);
            font-weight: var(--font-bold);
            margin-bottom: var(--space-2);
            color: var(--text-primary);
        }

        .chat-welcome__description {
            font-size: var(--text-sm);
        }

        .message {
            display: flex;
            gap: var(--space-3);
            max-width: 100%;
        }

        .message--user {
            flex-direction: row-reverse;
        }

        .message__avatar {
            width: 36px;
            height: 36px;
            border-radius: var(--radius-full);
            flex-shrink: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: var(--font-semibold);
            font-size: var(--text-sm);
        }

        .message--user .message__avatar {
            background: var(--employee-primary);
            color: white;
        }

        .message--ai .message__avatar {
            background: var(--gray-200);
            color: var(--gray-600);
        }

        .message__content {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: var(--space-2);
        }

        .message__header {
            display: flex;
            align-items: center;
            gap: var(--space-2);
        }

        .message__name {
            font-size: var(--text-sm);
            font-weight: var(--font-semibold);
        }

        .message__time {
            font-size: var(--text-xs);
            color: var(--text-tertiary);
        }

        .message__body {
            background: var(--surface);
            padding: var(--space-3);
            border-radius: var(--radius-md);
            font-size: var(--text-sm);
            line-height: 1.6;
        }

        .message--user .message__body {
            background: var(--employee-primary);
            color: white;
        }

        /* Ï±ÑÌåÖ ÏûÖÎ†• */
        .chat-input {
            border-top: 1px solid var(--border);
            padding: var(--space-4);
            background: var(--background);
        }

        .chat-input__field {
            width: 100%;
            min-height: 60px;
            max-height: 200px;
            padding: var(--space-3);
            border: 2px solid var(--border);
            border-radius: var(--radius-md);
            font-size: var(--text-sm);
            font-family: inherit;
            resize: vertical;
            transition: all 0.2s;
        }

        .chat-input__field:focus {
            outline: none;
            border-color: var(--employee-primary);
            box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.1);
        }

        .chat-input__actions {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: var(--space-3);
        }

        .chat-input__tools {
            display: flex;
            gap: var(--space-2);
        }

        .tool-btn {
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 1px solid var(--border);
            border-radius: var(--radius-md);
            background: white;
            color: var(--text-secondary);
            cursor: pointer;
            transition: all 0.2s;
        }

        .tool-btn:hover {
            border-color: var(--employee-primary);
            color: var(--employee-primary);
            background: rgba(16, 185, 129, 0.05);
        }

        /* Ïò§Î•∏Ï™Ω Ìå®ÎÑê: ÎåÄÌôî ÌûàÏä§ÌÜ†Î¶¨ */
        .history-panel {
            background: var(--background);
            border: 1px solid var(--border);
            border-radius: var(--radius-lg);
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .history-panel__header {
            padding: var(--space-4);
            border-bottom: 1px solid var(--border);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .history-panel__title {
            font-size: var(--text-base);
            font-weight: var(--font-semibold);
        }

        .history-panel__list {
            flex: 1;
            overflow-y: auto;
            padding: var(--space-3);
            display: flex;
            flex-direction: column;
            gap: var(--space-2);
        }

        .history-item {
            padding: var(--space-3);
            border: 1px solid var(--border);
            border-radius: var(--radius-md);
            cursor: pointer;
            transition: all 0.2s;
        }

        .history-item:hover {
            border-color: var(--employee-primary);
            background: rgba(16, 185, 129, 0.05);
        }

        .history-item--active {
            border-color: var(--employee-primary);
            background: rgba(16, 185, 129, 0.1);
        }

        .history-item__title {
            font-size: var(--text-sm);
            font-weight: var(--font-medium);
            margin-bottom: var(--space-1);
            color: var(--text-primary);
        }

        .history-item__preview {
            font-size: var(--text-xs);
            color: var(--text-secondary);
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }

        .history-item__meta {
            display: flex;
            align-items: center;
            gap: var(--space-2);
            margin-top: var(--space-2);
            font-size: var(--text-xs);
            color: var(--text-tertiary);
        }

        .history__empty {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: var(--space-8) var(--space-4);
            text-align: center;
        }

        .history__empty-icon {
            font-size: 32px;
            margin-bottom: var(--space-3);
            opacity: 0.5;
        }

        .history__empty-text {
            font-size: var(--text-sm);
            color: var(--text-secondary);
        }

                /* Îã®Ïùº Î™®Îìú Î†àÏù¥ÏïÑÏõÉ */
        .single-mode-container {
            display: grid;
            grid-template-columns: 280px 1fr 320px;
            gap: var(--space-4);
            height: calc(100vh - var(--header-height) - 180px);
        }

        /* Î≥ëÎ†¨ Î™®Îìú Î†àÏù¥ÏïÑÏõÉ */
        .parallel-mode-container {
            display: flex;
            flex-direction: column;
            gap: var(--space-3);
            height: calc(100vh - var(--header-height) - 140px);
        }

        /* ÌîÑÎ°¨ÌîÑÌä∏ ÏûÖÎ†• ÏòÅÏó≠ (Î≥ëÎ†¨ Î™®Îìú) */
        .parallel-input-section {
            background: var(--background);
            border: 1px solid var(--border);
            border-radius: var(--radius-lg);
            padding: var(--space-3);
            position: relative;
        }

        .parallel-input-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--space-3);
        }

        .parallel-input-title {
            font-size: var(--text-base);
            font-weight: var(--font-semibold);
            color: var(--text-primary);
        }

        .parallel-input-wrapper {
            display: flex;
            gap: var(--space-2);
            align-items: end;
        }

        .parallel-input {
            flex: 1;
            min-height: 48px;
            max-height: 200px;
            padding: var(--space-3);
            border: 2px solid var(--border);
            border-radius: var(--radius-lg);
            font-size: var(--text-sm);
            color: var(--text-primary);
            resize: vertical;
            font-family: inherit;
            transition: all 0.2s;
        }

        .parallel-input:focus {
            outline: none;
            border-color: var(--employee-primary);
            box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.1);
        }

        .parallel-send-btn {
            width: 48px;
            height: 48px;
            background: var(--employee-primary);
            border: none;
            border-radius: var(--radius-full);
            color: white;
            font-size: 20px;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .parallel-send-btn:hover {
            background: var(--employee-primary-dark);
            transform: scale(1.05);
        }

        .parallel-send-btn:active {
            transform: scale(0.95);
        }

        .parallel-send-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        /* 3Î∂ÑÌï† ÏùëÎãµ ÏòÅÏó≠ */
        .parallel-responses {
            flex: 1;
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: var(--space-3);
            overflow: hidden;
            min-height: 600px;
        }

        .response-panel {
            background: var(--background);
            border: 2px solid var(--border);
            border-radius: var(--radius-lg);
            display: flex;
            flex-direction: column;
            overflow: hidden;
            transition: all 0.2s;
            min-height: 600px;
        }

        .response-panel:hover {
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .response-panel--gpt {
            border-color: var(--gpt-color);
        }

        .response-panel--claude {
            border-color: var(--claude-color);
        }

        .response-panel--gemini {
            border-color: var(--gemini-color);
        }

        /* ÏùëÎãµ Ìå®ÎÑê Ìó§Îçî */
        .response-header {
            padding: var(--space-2) var(--space-3);
            border-bottom: 1px solid var(--border);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .response-header--gpt {
            background: linear-gradient(135deg, rgba(16, 163, 127, 0.1), rgba(16, 163, 127, 0.05));
        }

        .response-header--claude {
            background: linear-gradient(135deg, rgba(217, 119, 87, 0.1), rgba(217, 119, 87, 0.05));
        }

        .response-header--gemini {
            background: linear-gradient(135deg, rgba(66, 133, 244, 0.1), rgba(66, 133, 244, 0.05));
        }

        .response-model-info {
            display: flex;
            align-items: center;
            gap: var(--space-2);
        }

        .response-model-icon {
            width: 32px;
            height: 32px;
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            color: white;
        }

        .response-model-icon--gpt {
            background: var(--gpt-color);
        }

        .response-model-icon--claude {
            background: var(--claude-color);
        }

        .response-model-icon--gemini {
            background: var(--gemini-color);
        }

        .response-model-name {
            font-size: var(--text-sm);
            font-weight: var(--font-bold);
            color: var(--text-primary);
        }

        .response-model-version {
            font-size: var(--text-xs);
            color: var(--text-secondary);
        }

        .response-metrics {
            display: flex;
            gap: var(--space-3);
            align-items: center;
        }

        .response-metric {
            display: flex;
            align-items: center;
            gap: var(--space-1);
            font-size: var(--text-xs);
            color: var(--text-secondary);
        }

        .response-metric__icon {
            font-size: 14px;
        }

        .response-metric__value {
            font-weight: var(--font-semibold);
        }

        /* ÏùëÎãµ ÏΩòÌÖêÏ∏† */
        .response-content {
            flex: 1;
            padding: var(--space-4);
            overflow-y: auto;
            font-size: var(--text-sm);
            line-height: 1.7;
            color: var(--text-primary);
            min-height: 500px;
        }

        .response-content::-webkit-scrollbar {
            width: 8px;
        }

        .response-content::-webkit-scrollbar-thumb {
            background: var(--gray-300);
            border-radius: var(--radius-full);
        }

        .response-content::-webkit-scrollbar-thumb:hover {
            background: var(--gray-400);
        }

        .response-content::-webkit-scrollbar-track {
            background: var(--gray-100);
        }

        /* Î°úÎî© ÏÉÅÌÉú */
        .response-loading {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100%;
            color: var(--text-secondary);
            min-height: 300px;
        }

        .response-loading__spinner {
            width: 40px;
            height: 40px;
            border: 3px solid var(--gray-200);
            border-top-color: var(--employee-primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: var(--space-3);
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }

        .response-loading__text {
            font-size: var(--text-sm);
        }

        /* Îπà ÏÉÅÌÉú */
        .response-empty {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100%;
            color: var(--text-secondary);
            text-align: center;
            padding: var(--space-6);
            min-height: 300px;
        }

        .response-empty__icon {
            font-size: 48px;
            margin-bottom: var(--space-3);
            opacity: 0.5;
        }

        .response-empty__text {
            font-size: var(--text-sm);
        }

        /* ÏùëÎãµ Ïï°ÏÖò */
        .response-actions {
            padding: var(--space-2) var(--space-3);
            border-top: 1px solid var(--border);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .response-rating {
            display: flex;
            gap: var(--space-2);
        }

        .rating-btn {
            width: 32px;
            height: 32px;
            border: 1px solid var(--border);
            border-radius: var(--radius-md);
            background: white;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
        }

        .rating-btn:hover {
            border-color: var(--employee-primary);
            background: var(--surface);
        }

        .rating-btn--active {
            background: var(--employee-primary);
            border-color: var(--employee-primary);
            color: white;
        }

        .response-action-btns {
            display: flex;
            gap: var(--space-2);
        }

        /* ÏΩîÎìú Î∏îÎ°ù */
        .code-block {
            background: #1e1e1e;
            border-radius: var(--radius-md);
            padding: var(--space-3);
            margin: var(--space-3) 0;
            position: relative;
        }

        .code-block__header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--space-2);
            padding-bottom: var(--space-2);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .code-block__lang {
            font-size: var(--text-xs);
            color: #888;
        }

        .code-block__copy {
            padding: 4px 8px;
            background: rgba(255, 255, 255, 0.1);
            border: none;
            border-radius: var(--radius-sm);
            color: white;
            font-size: var(--text-xs);
            cursor: pointer;
            transition: all 0.2s;
        }

        .code-block__copy:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .code-block pre {
            margin: 0;
            color: #d4d4d4;
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            font-size: var(--text-sm);
            line-height: 1.5;
            overflow-x: auto;
        }

        /* Î∞òÏùëÌòï */
        @media (max-width: 1400px) {
            .parallel-responses {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .response-panel {
                min-height: 500px;
            }
        }

        @media (max-width: 1024px) {
            .model-selector__grid {
                grid-template-columns: 1fr;
            }
            
            .parallel-responses {
                grid-template-columns: 1fr;
            }
            
            .response-panel {
                min-height: 400px;
            }
        }

        @media (max-width: 768px) {
            .mode-switcher {
                padding: var(--space-2);
            }
            
            .mode-tab {
                padding: var(--space-2) var(--space-3);
                font-size: var(--text-xs);
            }
            
            .mode-tab span:not(.mode-tab__icon) {
                display: none;
            }

            .parallel-input-wrapper {
                flex-direction: column;
            }

            .parallel-send-btn {
                width: 100%;
                border-radius: var(--radius-md);
                height: 48px;
            }
            
            .parallel-input-header > div:first-child {
                flex-wrap: wrap;
            }
            
            .selected-models {
                order: -1;
                width: 100%;
                justify-content: center;
                margin-bottom: var(--space-2);
            }
            
            .options-menu {
                left: var(--space-2);
                right: var(--space-2);
                min-width: auto;
            }

            .model-selector__grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>

<body>
    <div id="app">
        <!-- Header -->
        <header class="header">
            <div class="header__left">
                <button id="menuToggle" class="header__icon-button hidden-desktop">
                    <span>‚ò∞</span>
                </button>
                <a href="dashboard.html" class="header__logo">
                    <span class="header__logo-icon">üå±</span>
                    <span>GrowFit</span>
                </a>
            </div>

            <div class="header__right">
                <button id="notificationBtn" class="header__icon-button">
                    <span>üîî</span>
                    <span class="header__badge">3</span>
                </button>

                <div id="profileBtn" class="header__profile">
                    <div class="header__avatar" style="background: linear-gradient(135deg, #10b981, #06b6d4);">ÍπÄ</div>
                    <span class="hidden-mobile">ÍπÄÏßÅÏõê</span>
                    <span class="hidden-mobile">‚ñº</span>
                </div>
            </div>
        </header>

        <div class="container">
            <!-- Sidebar -->
            <aside class="sidebar sidebar--open">
                <div class="sidebar__user">
                    <div class="sidebar__user-info">
                        <div class="sidebar__user-avatar"
                            style="background: linear-gradient(135deg, #10b981, #06b6d4);">ÍπÄ</div>
                        <div class="sidebar__user-details">
                            <div class="sidebar__user-name">ÍπÄÏßÅÏõê</div>
                            <div class="sidebar__user-role">AI Ïã§ÏäµÏÉù</div>
                        </div>
                    </div>
                </div>

                <nav class="sidebar__nav">
                    <ul class="sidebar__menu">
                        <li class="sidebar__menu-item">
                            <a href="dashboard.html" class="sidebar__menu-link">
                                <span class="sidebar__menu-icon">üè†</span>
                                <span>ÎåÄÏãúÎ≥¥Îìú</span>
                            </a>
                        </li>
                        <li class="sidebar__menu-item">
                            <a href="practice.html" class="sidebar__menu-link sidebar__menu-link--active">
                                <span class="sidebar__menu-icon">üí¨</span>
                                <span>AI Ïã§Ïäµ</span>
                            </a>
                        </li>
                        <li class="sidebar__menu-item">
                            <a href="my-projects.html" class="sidebar__menu-link">
                                <span class="sidebar__menu-icon">üìÅ</span>
                                <span>ÎÇ¥ ÌîÑÎ°úÏ†ùÌä∏</span>
                            </a>
                        </li>
                        <li class="sidebar__menu-item">
                            <a href="my-agents.html" class="sidebar__menu-link">
                                <span class="sidebar__menu-icon">ü§ñ</span>
                                <span>ÎÇ¥ ÏóêÏù¥Ï†ÑÌä∏</span>
                            </a>
                        </li>
                        <li class="sidebar__menu-item">
                            <a href="my-documents.html" class="sidebar__menu-link">
                                <span class="sidebar__menu-icon">üìö</span>
                                <span>ÎÇ¥ Î¨∏ÏÑú</span>
                            </a>
                        </li>
                        <li class="sidebar__menu-item">
                            <a href="history.html" class="sidebar__menu-link">
                                <span class="sidebar__menu-icon">üìä</span>
                                <span>ÎÇ¥ Í∏∞Î°ù</span>
                            </a>
                        </li>
                        <li class="sidebar__menu-item">
                            <a href="profile.html" class="sidebar__menu-link">
                                <span class="sidebar__menu-icon">‚öôÔ∏è</span>
                                <span>ÏÑ§Ï†ï</span>
                            </a>
                        </li>
                    </ul>
                </nav>

                <div class="sidebar__footer">
                    <div
                        style="padding: var(--space-3); background: var(--surface); border-radius: var(--radius-md); font-size: var(--text-xs);">
                        <div style="color: var(--text-secondary); margin-bottom: var(--space-1);">Ïù¥Î≤à Ï£º Ïã§Ïäµ</div>
                        <div style="font-weight: var(--font-bold); color: var(--employee-primary);">3ÏãúÍ∞Ñ 24Î∂Ñ</div>
                    </div>
                </div>
            </aside>

            <!-- Main Content -->
            <main class="main">
                <!-- Î™®Îìú Ï†ÑÌôò Î∞î -->
<div class="mode-switcher">
                    <div class="mode-tabs">
                        <button class="mode-tab" id="singleModeTab" onclick="switchMode('single')">
                            <span class="mode-tab__icon">üéØ</span>
                            <span>Îã®Ïùº Î™®Îç∏</span>
                        </button>
                        <button class="mode-tab mode-tab--active" id="parallelModeTab" onclick="switchMode('parallel')">
                            <span class="mode-tab__icon">üîÄ</span>
                            <span>Î≥ëÎ†¨ ÎπÑÍµê</span>
                        </button>
                    </div>
                </div>

                <!-- Î≥ëÎ†¨ ÎπÑÍµê Î™®Îìú (Í∏∞Î≥∏) -->
                <div id="parallelMode" class="parallel-mode-container">
                    <!-- ÌîÑÎ°¨ÌîÑÌä∏ ÏûÖÎ†• ÏòÅÏó≠ -->
                    <div class="parallel-input-section">
                        <div class="parallel-input-header">
                            <div style="display: flex; align-items: center; gap: var(--space-3);">
                                <!-- ÏÑ†ÌÉùÎêú Î™®Îç∏ ÌëúÏãú -->
                                <div class="selected-models">
                                    <div class="selected-model selected-model--gpt" data-model="gpt" onclick="toggleModelByIcon('gpt')" title="GPT-4 (ÌÅ¥Î¶≠ÌïòÏó¨ ÌÜ†Í∏Ä)">
                                        <span>ü§ñ</span>
                                    </div>
                                    <div class="selected-model selected-model--claude" data-model="claude" onclick="toggleModelByIcon('claude')" title="Claude (ÌÅ¥Î¶≠ÌïòÏó¨ ÌÜ†Í∏Ä)">
                                        <span>üß†</span>
                                    </div>
                                    <div class="selected-model selected-model--gemini" data-model="gemini" onclick="toggleModelByIcon('gemini')" title="Gemini (ÌÅ¥Î¶≠ÌïòÏó¨ ÌÜ†Í∏Ä)">
                                        <span>‚ú®</span>
                                    </div>
                                </div>
                                
                                <!-- Ï∂îÍ∞Ä ÏòµÏÖò Î≤ÑÌäº -->
                                <button class="btn-icon" onclick="toggleOptionsMenu()" title="Ïª®ÌÖçÏä§Ìä∏ ÏÑ§Ï†ï">
                                    <span>‚öôÔ∏è</span>
                                </button>
                                <button class="btn-icon" onclick="toggleAttachMenu()" title="ÌååÏùº Ï≤®Î∂Ä">
                                    <span>üìé</span>
                                </button>
                            </div>
                            
                            <div style="display: flex; gap: var(--space-2);">
                                <button class="btn btn--sm btn--outline" onclick="clearParallelInput()">
                                    Ï¥àÍ∏∞Ìôî
                                </button>
                                <button class="btn btn--sm btn--outline" onclick="savePrompt()">
                                    Ï†ÄÏû•
                                </button>
                            </div>
                        </div>
                        
                        <div class="parallel-input-wrapper">
                            <textarea 
                                id="parallelInput" 
                                class="parallel-input" 
                                placeholder="ÏßàÎ¨∏ÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî...&#10;&#10;Ïòà: Python Î¶¨Ïä§Ìä∏ Ï†ïÎ†¨ Î∞©Î≤ï ÏïåÎ†§Ï§ò"></textarea>
                            <button id="parallelSendBtn" class="parallel-send-btn" onclick="sendParallelPrompt()">
                                <span>üöÄ</span>
                            </button>
                        </div>
                    </div>

                    <!-- 3Î∂ÑÌï† ÏùëÎãµ ÏòÅÏó≠ -->
                    <div class="parallel-responses">
                        <!-- GPT-4 Ìå®ÎÑê -->
                        <div class="response-panel response-panel--gpt">
                            <div class="response-header response-header--gpt">
                                <div class="response-model-info">
                                    <div class="response-model-icon response-model-icon--gpt">ü§ñ</div>
                                    <div>
                                        <div class="response-model-name">GPT-4 Turbo</div>
                                        <div class="response-model-version">OpenAI</div>
                                    </div>
                                </div>
                                <div class="response-metrics">
                                    <div class="response-metric">
                                        <span class="response-metric__icon">‚è±Ô∏è</span>
                                        <span class="response-metric__value" id="gptTime">-</span>
                                    </div>
                                    <div class="response-metric">
                                        <span class="response-metric__icon">üé´</span>
                                        <span class="response-metric__value" id="gptTokens">-</span>
                                    </div>
                                </div>
                            </div>
                            <div class="response-content" id="gptContent">
                                <div class="response-empty">
                                    <div class="response-empty__icon">ü§ñ</div>
                                    <div class="response-empty__text">
                                        GPT-4Ïùò ÎãµÎ≥ÄÏù¥ Ïó¨Í∏∞Ïóê ÌëúÏãúÎê©ÎãàÎã§.<br>
                                        <strong>Í∞ïÏ†ê:</strong> Î≥µÏû°Ìïú Ï∂îÎ°†, ÏΩîÎìú ÏÉùÏÑ±, Ï∞ΩÏùòÏ†Å Í∏ÄÏì∞Í∏∞
                                    </div>
                                </div>
                            </div>
                            <div class="response-actions">
                                <div class="response-rating">
                                    <button class="rating-btn" onclick="rateResponse('gpt', 'like')" title="Ï¢ãÏïÑÏöî">
                                        üëç
                                    </button>
                                    <button class="rating-btn" onclick="rateResponse('gpt', 'dislike')" title="Î≥ÑÎ°úÏòàÏöî">
                                        üëé
                                    </button>
                                    <button class="rating-btn" onclick="rateResponse('gpt', 'star')" title="ÏµúÍ≥†!">
                                        ‚≠ê
                                    </button>
                                </div>
                                <div class="response-action-btns">
                                    <button class="btn btn--sm btn--outline" onclick="copyResponse('gpt')">
                                        üìã Î≥µÏÇ¨
                                    </button>
                                    <button class="btn btn--sm btn--outline" onclick="regenerateResponse('gpt')">
                                        üîÑ Ïû¨ÏÉùÏÑ±
                                    </button>
                                </div>
                            </div>
                        </div>

                        <!-- Claude Ìå®ÎÑê -->
                        <div class="response-panel response-panel--claude">
                            <div class="response-header response-header--claude">
                                <div class="response-model-info">
                                    <div class="response-model-icon response-model-icon--claude">üß†</div>
                                    <div>
                                        <div class="response-model-name">Claude 3.7 Sonnet</div>
                                        <div class="response-model-version">Anthropic</div>
                                    </div>
                                </div>
                                <div class="response-metrics">
                                    <div class="response-metric">
                                        <span class="response-metric__icon">‚è±Ô∏è</span>
                                        <span class="response-metric__value" id="claudeTime">-</span>
                                    </div>
                                    <div class="response-metric">
                                        <span class="response-metric__icon">üé´</span>
                                        <span class="response-metric__value" id="claudeTokens">-</span>
                                    </div>
                                </div>
                            </div>
                            <div class="response-content" id="claudeContent">
                                <div class="response-empty">
                                    <div class="response-empty__icon">üß†</div>
                                    <div class="response-empty__text">
                                        ClaudeÏùò ÎãµÎ≥ÄÏù¥ Ïó¨Í∏∞Ïóê ÌëúÏãúÎê©ÎãàÎã§.<br>
                                        <strong>Í∞ïÏ†ê:</strong> Í∏¥ Î¨∏ÏÑú Ïù¥Ìï¥, ÏûêÏó∞Ïä§Îü¨Ïö¥ ÎåÄÌôî, ÏÉÅÏÑ∏Ìïú ÏÑ§Î™Ö
                                    </div>
                                </div>
                            </div>
                            <div class="response-actions">
                                <div class="response-rating">
                                    <button class="rating-btn" onclick="rateResponse('claude', 'like')" title="Ï¢ãÏïÑÏöî">
                                        üëç
                                    </button>
                                    <button class="rating-btn" onclick="rateResponse('claude', 'dislike')" title="Î≥ÑÎ°úÏòàÏöî">
                                        üëé
                                    </button>
                                    <button class="rating-btn" onclick="rateResponse('claude', 'star')" title="ÏµúÍ≥†!">
                                        ‚≠ê
                                    </button>
                                </div>
                                <div class="response-action-btns">
                                    <button class="btn btn--sm btn--outline" onclick="copyResponse('claude')">
                                        üìã Î≥µÏÇ¨
                                    </button>
                                    <button class="btn btn--sm btn--outline" onclick="regenerateResponse('claude')">
                                        üîÑ Ïû¨ÏÉùÏÑ±
                                    </button>
                                </div>
                            </div>
                        </div>

                        <!-- Gemini Ìå®ÎÑê -->
                        <div class="response-panel response-panel--gemini">
                            <div class="response-header response-header--gemini">
                                <div class="response-model-info">
                                    <div class="response-model-icon response-model-icon--gemini">‚ú®</div>
                                    <div>
                                        <div class="response-model-name">Gemini Pro</div>
                                        <div class="response-model-version">Google</div>
                                    </div>
                                </div>
                                <div class="response-metrics">
                                    <div class="response-metric">
                                        <span class="response-metric__icon">‚è±Ô∏è</span>
                                        <span class="response-metric__value" id="geminiTime">-</span>
                                    </div>
                                    <div class="response-metric">
                                        <span class="response-metric__icon">üé´</span>
                                        <span class="response-metric__value" id="geminiTokens">-</span>
                                    </div>
                                </div>
                            </div>
                            <div class="response-content" id="geminiContent">
                                <div class="response-empty">
                                    <div class="response-empty__icon">‚ú®</div>
                                    <div class="response-empty__text">
                                        GeminiÏùò ÎãµÎ≥ÄÏù¥ Ïó¨Í∏∞Ïóê ÌëúÏãúÎê©ÎãàÎã§.<br>
                                        <strong>Í∞ïÏ†ê:</strong> Îπ†Î•∏ ÏùëÎãµ, Î©ÄÌã∞Î™®Îã¨, ÏµúÏã† Ï†ïÎ≥¥
                                    </div>
                                </div>
                            </div>
                            <div class="response-actions">
                                <div class="response-rating">
                                    <button class="rating-btn" onclick="rateResponse('gemini', 'like')" title="Ï¢ãÏïÑÏöî">
                                        üëç
                                    </button>
                                    <button class="rating-btn" onclick="rateResponse('gemini', 'dislike')" title="Î≥ÑÎ°úÏòàÏöî">
                                        üëé
                                    </button>
                                    <button class="rating-btn" onclick="rateResponse('gemini', 'star')" title="ÏµúÍ≥†!">
                                        ‚≠ê
                                    </button>
                                </div>
                                <div class="response-action-btns">
                                    <button class="btn btn--sm btn--outline" onclick="copyResponse('gemini')">
                                        üìã Î≥µÏÇ¨
                                    </button>
                                    <button class="btn btn--sm btn--outline" onclick="regenerateResponse('gemini')">
                                        üîÑ Ïû¨ÏÉùÏÑ±
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- ÎπÑÍµê Î∂ÑÏÑù Î≤ÑÌäº -->
                    <div style="text-align: center; margin-top: var(--space-4);">
                        <button class="btn btn--primary" style="background: var(--employee-primary);" onclick="showComparison()">
                            üìä ÏÉÅÏÑ∏ ÎπÑÍµê Î∂ÑÏÑù Î≥¥Í∏∞
                        </button>
                        <button class="btn btn--outline" style="margin-left: var(--space-2);" onclick="saveAllResponses()">
                            üíæ 3Í∞ú ÏùëÎãµ Î™®Îëê Ï†ÄÏû•
                        </button>
                        <button class="btn btn--outline" style="margin-left: var(--space-2);" onclick="exportComparison()">
                            üì§ ÎπÑÍµê Î¶¨Ìè¨Ìä∏ ÎÇ¥Î≥¥ÎÇ¥Í∏∞
                        </button>
                    </div>
                </div>

                <!-- Îã®Ïùº Î™®Îç∏ Î™®Îìú (Ïà®ÍπÄ) -->
                <div id="singleMode" class="single-mode-container" style="display: none;">
                    <!-- ÏôºÏ™Ω: Î™®Îç∏ ÏÑ§Ï†ï -->
                    <div class="model-settings-panel">
                        <div class="settings-section">
                            <div class="settings-section__title">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                    <circle cx="12" cy="12" r="3" stroke-width="2" />
                                    <path d="M12 1v6m0 6v6M4.22 4.22l4.24 4.24m5.08 5.08l4.24 4.24M1 12h6m6 0h6M4.22 19.78l4.24-4.24m5.08-5.08l4.24-4.24" stroke-width="2" />
                                </svg>
                                <span>Î™®Îç∏ ÏÑ§Ï†ï</span>
                            </div>

                            <div class="form-group">
                                <label class="form-label">LLM ÏÑ†ÌÉù</label>
                                <select class="form-select" id="modelSelect">
                                    <option value="gpt-4">GPT-4</option>
                                    <option value="claude">Claude 3.5 Sonnet</option>
                                    <option value="gemini">Gemini Pro</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label class="form-label">Temperature</label>
                                <select class="form-select">
                                    <option>0.7 (Í∑†Ìòï)</option>
                                    <option>0.3 (Ï†ïÌôï)</option>
                                    <option>1.0 (Ï∞ΩÏùòÏ†Å)</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label class="form-label">Max Tokens</label>
                                <select class="form-select">
                                    <option>2048</option>
                                    <option>4096</option>
                                    <option>8192</option>
                                </select>
                            </div>
                        </div>

                        <div class="model-info">
                            <div class="model-info__header">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                    <circle cx="12" cy="12" r="10" stroke-width="2" />
                                    <path d="M12 16v-4M12 8h.01" stroke-width="2" stroke-linecap="round" />
                                </svg>
                                <span class="model-info__title">Î™®Îç∏ Ï†ïÎ≥¥</span>
                            </div>
                            <div class="model-info__content">
                                <div class="model-info__item">
                                    <span class="model-info__label">Î≤ÑÏ†Ñ</span>
                                    <span class="model-info__value">GPT-4 Turbo</span>
                                </div>
                                <div class="model-info__item">
                                    <span class="model-info__label">Ïª®ÌÖçÏä§Ìä∏</span>
                                    <span class="model-info__value">128K tokens</span>
                                </div>
                                <div class="model-info__item">
                                    <span class="model-info__label">ÏßÄÏãù Í∏∞Ï§Ä</span>
                                    <span class="model-info__value">2024ÎÖÑ 4Ïõî</span>
                                </div>
                            </div>
                        </div>

                        <button class="btn btn--outline" style="width: 100%;">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                <path d="M5 12h14M12 5l7 7-7 7" stroke-width="2" stroke-linecap="round" />
                            </svg>
                            <span>Í≥†Í∏â ÏÑ§Ï†ï</span>
                        </button>
                    </div>

                    <!-- Ï§ëÏïô: Ï±ÑÌåÖ ÏòÅÏó≠ -->
                    <div class="chat-panel">
                        <div class="chat-messages" id="chatMessages">
                            <div class="chat-welcome">
                                <div class="chat-welcome__icon">üí¨</div>
                                <h3 class="chat-welcome__title">AI Ïã§ÏäµÏùÑ ÏãúÏûëÌïòÏÑ∏Ïöî</h3>
                                <p class="chat-welcome__description">
                                    ÏÑ†ÌÉùÌïú Î™®Îç∏Í≥º ÎåÄÌôîÎ•º ÏãúÏûëÌï† Ïàò ÏûàÏäµÎãàÎã§.<br>
                                    ÌîÑÎ°¨ÌîÑÌä∏Î•º ÏûÖÎ†•ÌïòÍ≥† EnterÎ•º ÎàåÎü¨Î≥¥ÏÑ∏Ïöî.
                                </p>
                            </div>
                        </div>

                        <div class="chat-input">
                            <textarea 
                                class="chat-input__field" 
                                id="chatInput"
                                placeholder="Î©îÏãúÏßÄÎ•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî... (Shift+Enter: Ï§ÑÎ∞îÍøà, Enter: Ï†ÑÏÜ°)"
                            ></textarea>
                            <div class="chat-input__actions">
                                <div class="chat-input__tools">
                                    <button class="tool-btn" title="ÌååÏùº Ï≤®Î∂Ä">
                                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                            <path d="M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48" stroke-width="2" stroke-linecap="round" />
                                        </svg>
                                    </button>
                                    <button class="tool-btn" title="Ïù¥ÎØ∏ÏßÄ Ï∂îÍ∞Ä">
                                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                            <rect x="3" y="3" width="18" height="18" rx="2" stroke-width="2" />
                                            <circle cx="8.5" cy="8.5" r="1.5" fill="currentColor" />
                                            <path d="M21 15l-5-5L5 21" stroke-width="2" stroke-linecap="round" />
                                        </svg>
                                    </button>
                                    <button class="tool-btn" title="ÏùåÏÑ± ÏûÖÎ†•">
                                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                            <path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z" stroke-width="2" />
                                            <path d="M19 10v2a7 7 0 0 1-14 0v-2M12 19v4M8 23h8" stroke-width="2" stroke-linecap="round" />
                                        </svg>
                                    </button>
                                </div>
                                <button class="btn btn--primary" onclick="sendMessage()">
                                    <span>Ï†ÑÏÜ°</span>
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                                        <path d="M22 2L11 13M22 2l-7 20-4-9-9-4 20-7z" stroke-width="2" stroke-linecap="round" />
                                    </svg>
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Ïò§Î•∏Ï™Ω: ÎåÄÌôî ÌûàÏä§ÌÜ†Î¶¨ -->
                    <div class="history-panel">
                        <div class="history-panel__header">
                            <h3 class="history-panel__title">ÎåÄÌôî ÌûàÏä§ÌÜ†Î¶¨</h3>
                            <button class="btn btn--sm btn--outline">ÏÉà ÎåÄÌôî</button>
                        </div>
                        <div class="history-panel__list" id="historyList">
                            <div class="history__empty">
                                <div class="history__empty-icon">üìù</div>
                                <p class="history__empty-text">ÏïÑÏßÅ Ï†ÄÏû•Îêú ÎåÄÌôîÍ∞Ä ÏóÜÏäµÎãàÎã§</p>
                            </div>
                        </div>
                    </div>
                </div>

                </div>

                <!-- ÎπÑÍµê Î∂ÑÏÑù Î™®Îã¨ (Ïà®ÍπÄ) -->
                <div id="comparisonModal" style="display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.5); z-index: 1000; padding: var(--space-6); overflow-y: auto;">
                    <div style="max-width: 1200px; margin: 0 auto; background: white; border-radius: var(--radius-xl); padding: var(--space-6);">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-6);">
                            <h2 style="font-size: var(--text-2xl); font-weight: var(--font-bold);">üìä 3Í∞ú Î™®Îç∏ ÎπÑÍµê Î∂ÑÏÑù</h2>
                            <button class="btn btn--outline" onclick="closeComparison()">‚úï Îã´Í∏∞</button>
                        </div>

                        <!-- ÎπÑÍµê ÌÖåÏù¥Î∏î -->
                        <div style="overflow-x: auto;">
                            <table style="width: 100%; border-collapse: collapse;">
                                <thead>
                                    <tr style="background: var(--surface); border-bottom: 2px solid var(--border);">
                                        <th style="padding: var(--space-3); text-align: left;">Ìï≠Î™©</th>
                                        <th style="padding: var(--space-3); text-align: center;">ü§ñ GPT-4</th>
                                        <th style="padding: var(--space-3); text-align: center;">üß† Claude</th>
                                        <th style="padding: var(--space-3); text-align: center;">‚ú® Gemini</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr style="border-bottom: 1px solid var(--border);">
                                        <td style="padding: var(--space-3); font-weight: var(--font-semibold);">ÏùëÎãµ ÏãúÍ∞Ñ</td>
                                        <td style="padding: var(--space-3); text-align: center;" id="compGptTime">2.3Ï¥à</td>
                                        <td style="padding: var(--space-3); text-align: center;" id="compClaudeTime">1.8Ï¥à</td>
                                        <td style="padding: var(--space-3); text-align: center;" id="compGeminiTime">3.1Ï¥à</td>
                                    </tr>
                                    <tr style="border-bottom: 1px solid var(--border);">
                                        <td style="padding: var(--space-3); font-weight: var(--font-semibold);">ÌÜ†ÌÅ∞ ÏÇ¨Ïö©</td>
                                        <td style="padding: var(--space-3); text-align: center;" id="compGptTokens">450</td>
                                        <td style="padding: var(--space-3); text-align: center;" id="compClaudeTokens">380</td>
                                        <td style="padding: var(--space-3); text-align: center;" id="compGeminiTokens">520</td>
                                    </tr>
                                    <tr style="border-bottom: 1px solid var(--border);">
                                        <td style="padding: var(--space-3); font-weight: var(--font-semibold);">ÏÇ¨Ïö©Ïûê ÌèâÍ∞Ä</td>
                                        <td style="padding: var(--space-3); text-align: center;" id="compGptRating">‚≠ê‚≠ê‚≠ê‚≠ê</td>
                                        <td style="padding: var(--space-3); text-align: center;" id="compClaudeRating">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</td>
                                        <td style="padding: var(--space-3); text-align: center;" id="compGeminiRating">‚≠ê‚≠ê‚≠ê</td>
                                    </tr>
                                    <tr style="border-bottom: 1px solid var(--border);">
                                        <td style="padding: var(--space-3); font-weight: var(--font-semibold);">ÏùëÎãµ Í∏∏Ïù¥</td>
                                        <td style="padding: var(--space-3); text-align: center;">Ï§ëÍ∞Ñ</td>
                                        <td style="padding: var(--space-3); text-align: center;">Í∏¥ Ìé∏</td>
                                        <td style="padding: var(--space-3); text-align: center;">ÏßßÏùÄ Ìé∏</td>
                                    </tr>
                                    <tr>
                                        <td style="padding: var(--space-3); font-weight: var(--font-semibold);">Ï∂îÏ≤ú ÏÉÅÌô©</td>
                                        <td style="padding: var(--space-3); font-size: var(--text-xs);">Î≥µÏû°Ìïú Ï∂îÎ°†, ÏΩîÎìú ÏÉùÏÑ±</td>
                                        <td style="padding: var(--space-3); font-size: var(--text-xs);">Í∏¥ Î¨∏ÏÑú Î∂ÑÏÑù, ÏÉÅÏÑ∏ ÏÑ§Î™Ö</td>
                                        <td style="padding: var(--space-3); font-size: var(--text-xs);">Îπ†Î•∏ ÎãµÎ≥Ä, ÏµúÏã† Ï†ïÎ≥¥</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>

                        <!-- AI Ï∂îÏ≤ú -->
                        <div style="margin-top: var(--space-6); padding: var(--space-4); background: var(--surface); border-radius: var(--radius-lg); border-left: 4px solid var(--employee-primary);">
                            <h3 style="font-size: var(--text-lg); font-weight: var(--font-bold); margin-bottom: var(--space-2);">
                                üí° Ïù¥Î≤à ÏßàÎ¨∏Ïóê Í∞ÄÏû• Ï†ÅÌï©Ìïú Î™®Îç∏
                            </h3>
                            <p style="font-size: var(--text-sm); color: var(--text-secondary); margin-bottom: var(--space-3);">
                                ÏùëÎãµ ÌíàÏßà, ÏÜçÎèÑ, ÎπÑÏö©ÏùÑ Ï¢ÖÌï©Ï†ÅÏúºÎ°ú Í≥†Î†§Ìïú Ï∂îÏ≤úÏûÖÎãàÎã§.
                            </p>
                            <div style="display: flex; gap: var(--space-3); align-items: center;">
                                <div style="font-size: 32px;">üß†</div>
                                <div>
                                    <div style="font-size: var(--text-lg); font-weight: var(--font-bold); color: var(--claude-color);">
                                        Claude 3.7 Sonnet Ï∂îÏ≤ú!
                                    </div>
                                    <div style="font-size: var(--text-sm); color: var(--text-secondary);">
                                        Í∞ÄÏû• Îπ†Î•∏ ÏùëÎãµ ÏãúÍ∞ÑÍ≥º ÎÜíÏùÄ ÏÇ¨Ïö©Ïûê ÌèâÍ∞ÄÎ•º Î∞õÏïòÏäµÎãàÎã§.
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <!-- Í≥µÌÜµ Ïä§ÌÅ¨Î¶ΩÌä∏ -->
    <script src="../common/layout.js"></script>
    <script src="../common/utils.js"></script>

    <!-- ÌéòÏù¥ÏßÄ Ï†ÑÏö© Ïä§ÌÅ¨Î¶ΩÌä∏ -->
    <script>
        // ========== Practice MSP Ï†ÑÏö© Î°úÏßÅ ==========

        // Ï†ÑÏó≠ Î≥ÄÏàò
        let currentMode = 'parallel'; // 'single' or 'parallel'
        let isGenerating = false;
        let selectedModels = ['gpt', 'claude', 'gemini']; // ÏÑ†ÌÉùÎêú Î™®Îç∏ Î™©Î°ù
        let currentContext = {
            project: null,
            agent: null,
            document: null
        };

        // ÏùëÎãµ Îç∞Ïù¥ÌÑ∞ Ï†ÄÏû•
        let responses = {
            gpt: null,
            claude: null,
            gemini: null
        };

        // ÏÑ±Îä• Î©îÌä∏Î¶≠
        let metrics = {
            gpt: { time: 0, tokens: 0, rating: null },
            claude: { time: 0, tokens: 0, rating: null },
            gemini: { time: 0, tokens: 0, rating: null }
        };

        // ========== Î™®Îç∏ ÏÑ†ÌÉù ÏóÖÎç∞Ïù¥Ìä∏ (Î†àÍ±∞Ïãú - Ï†úÍ±∞ ÏòàÏ†ï) ==========
        function updateModelSelection() {
            // ÏÉàÎ°úÏö¥ UIÏóêÏÑúÎäî toggleModel() ÏÇ¨Ïö©
            updateResponsePanels();
        }

        // ========== ÏùëÎãµ Ìå®ÎÑê ÏóÖÎç∞Ïù¥Ìä∏ ==========
        function updateResponsePanels() {
            const responsesContainer = document.querySelector('.parallel-responses');
            
            // Í∑∏Î¶¨Îìú Ïó¥ Í∞úÏàò ÏóÖÎç∞Ïù¥Ìä∏
            if (selectedModels.length === 1) {
                responsesContainer.style.gridTemplateColumns = '1fr';
            } else if (selectedModels.length === 2) {
                responsesContainer.style.gridTemplateColumns = 'repeat(2, 1fr)';
            } else {
                responsesContainer.style.gridTemplateColumns = 'repeat(3, 1fr)';
            }

            // Ìå®ÎÑê ÌëúÏãú/Ïà®ÍπÄ
            document.querySelector('.response-panel--gpt').style.display = 
                selectedModels.includes('gpt') ? 'flex' : 'none';
            document.querySelector('.response-panel--claude').style.display = 
                selectedModels.includes('claude') ? 'flex' : 'none';
            document.querySelector('.response-panel--gemini').style.display = 
                selectedModels.includes('gemini') ? 'flex' : 'none';
        }

        // ========== Ï¥àÍ∏∞Ìôî ==========
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Practice ÌéòÏù¥ÏßÄ Ï¥àÍ∏∞Ìôî');
            
            initializePractice();
            setupEventListeners();
            createOptionsMenu();
        });

        // ========== ÏòµÏÖò Î©îÎâ¥ ÏÉùÏÑ± ==========
        function createOptionsMenu() {
            const inputSection = document.querySelector('.parallel-input-section');
            const menu = document.createElement('div');
            menu.id = 'optionsMenu';
            menu.className = 'options-menu';
            menu.innerHTML = `
                <div class="options-section">
                    <div class="options-section__title">Ïª®ÌÖçÏä§Ìä∏ ÏÑ†ÌÉù</div>
                    <div class="options-list">
                        <div class="option-item" onclick="openProjectSelector()">
                            <div class="option-item__icon">üìÅ</div>
                            <div class="option-item__content">
                                <div class="option-item__name">ÌîÑÎ°úÏ†ùÌä∏</div>
                                <div class="option-item__desc" id="selectedProject">ÏÑ†ÌÉù ÏïàÌï®</div>
                            </div>
                        </div>
                        <div class="option-item" onclick="openAgentSelector()">
                            <div class="option-item__icon">ü§ñ</div>
                            <div class="option-item__content">
                                <div class="option-item__name">ÏóêÏù¥Ï†ÑÌä∏</div>
                                <div class="option-item__desc" id="selectedAgent">ÏÑ†ÌÉù ÏïàÌï®</div>
                            </div>
                        </div>
                        <div class="option-item" onclick="openDocumentSelector()">
                            <div class="option-item__icon">üìÑ</div>
                            <div class="option-item__content">
                                <div class="option-item__name">Î¨∏ÏÑú (RAG)</div>
                                <div class="option-item__desc" id="selectedDocument">ÏÑ†ÌÉù ÏïàÌï®</div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            inputSection.appendChild(menu);
        }

        // ========== ÏòµÏÖò Î©îÎâ¥ ÌÜ†Í∏Ä ==========
        function toggleOptionsMenu() {
            const menu = document.getElementById('optionsMenu');
            if (menu.classList.contains('options-menu--open')) {
                menu.classList.remove('options-menu--open');
            } else {
                menu.classList.add('options-menu--open');
                // Ï≤®Î∂Ä Î©îÎâ¥Í∞Ä Ïó¥Î†§ÏûàÏúºÎ©¥ Îã´Í∏∞
                const attachMenu = document.getElementById('attachMenu');
                if (attachMenu) {
                    attachMenu.classList.remove('options-menu--open');
                }
            }
        }

        // ========== Ï≤®Î∂Ä Î©îÎâ¥ ÌÜ†Í∏Ä ==========
        function toggleAttachMenu() {
            let menu = document.getElementById('attachMenu');
            if (!menu) {
                // Ï≤®Î∂Ä Î©îÎâ¥ ÏÉùÏÑ±
                const inputSection = document.querySelector('.parallel-input-section');
                menu = document.createElement('div');
                menu.id = 'attachMenu';
                menu.className = 'options-menu';
                menu.innerHTML = `
                    <div class="options-section">
                        <div class="options-section__title">ÌååÏùº Ï≤®Î∂Ä</div>
                        <div class="options-list">
                            <div class="option-item" onclick="uploadFile('image')">
                                <div class="option-item__icon">üñºÔ∏è</div>
                                <div class="option-item__content">
                                    <div class="option-item__name">Ïù¥ÎØ∏ÏßÄ</div>
                                    <div class="option-item__desc">PNG, JPG, GIF (ÏµúÎåÄ 10MB)</div>
                                </div>
                            </div>
                            <div class="option-item" onclick="uploadFile('document')">
                                <div class="option-item__icon">üìÑ</div>
                                <div class="option-item__content">
                                    <div class="option-item__name">Î¨∏ÏÑú</div>
                                    <div class="option-item__desc">PDF, DOCX, TXT</div>
                                </div>
                            </div>
                            <div class="option-item" onclick="uploadFile('code')">
                                <div class="option-item__icon">üíª</div>
                                <div class="option-item__content">
                                    <div class="option-item__name">ÏΩîÎìú</div>
                                    <div class="option-item__desc">Python, JavaScript, Java Îì±</div>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
                inputSection.appendChild(menu);
            }
            
            if (menu.classList.contains('options-menu--open')) {
                menu.classList.remove('options-menu--open');
            } else {
                menu.classList.add('options-menu--open');
                // ÏòµÏÖò Î©îÎâ¥Í∞Ä Ïó¥Î†§ÏûàÏúºÎ©¥ Îã´Í∏∞
                const optionsMenu = document.getElementById('optionsMenu');
                if (optionsMenu) {
                    optionsMenu.classList.remove('options-menu--open');
                }
            }
        }

        // ========== Î™®Îç∏ ÌÜ†Í∏Ä (ÏïÑÏù¥ÏΩò ÌÅ¥Î¶≠) ==========
        function toggleModelByIcon(model) {
            const index = selectedModels.indexOf(model);
            
            if (index > -1) {
                // Î™®Îç∏ Ï†úÍ±∞ (ÏµúÏÜå 1Í∞úÎäî Ïú†ÏßÄ)
                if (selectedModels.length > 1) {
                    selectedModels.splice(index, 1);
                    updateModelUI();
                }
            } else {
                // Î™®Îç∏ Ï∂îÍ∞Ä
                selectedModels.push(model);
                updateModelUI();
            }
        }

        // ========== Î™®Îç∏ UI ÏóÖÎç∞Ïù¥Ìä∏ ==========
        function updateModelUI() {
            // ÏÑ†ÌÉùÎêú Î™®Îç∏ ÏïÑÏù¥ÏΩò ÏóÖÎç∞Ïù¥Ìä∏
            document.querySelectorAll('.selected-model').forEach(el => {
                const model = el.dataset.model;
                if (selectedModels.includes(model)) {
                    el.classList.remove('selected-model--inactive');
                } else {
                    el.classList.add('selected-model--inactive');
                }
            });
            
            // ÏùëÎãµ Ìå®ÎÑê ÏóÖÎç∞Ïù¥Ìä∏
            updateResponsePanels();
        }

        // ========== ÌîÑÎ°úÏ†ùÌä∏ ÏÑ†ÌÉù Î™®Îã¨ ==========
        function openProjectSelector() {
            const modal = createModal('ÌîÑÎ°úÏ†ùÌä∏ ÏÑ†ÌÉù', `
                <div class="selector-list">
                    <div class="selector-item" onclick="selectProject('none')">
                        <div class="selector-item__icon">‚≠ï</div>
                        <div class="selector-item__content">
                            <div class="selector-item__name">ÏÑ†ÌÉù ÏïàÌï®</div>
                            <div class="selector-item__desc">ÌîÑÎ°úÏ†ùÌä∏ ÏóÜÏù¥ ÏßÑÌñâ</div>
                        </div>
                    </div>
                    <div class="selector-divider"></div>
                    <div class="selector-item" onclick="selectProject('python-learning')">
                        <div class="selector-item__icon">üêç</div>
                        <div class="selector-item__content">
                            <div class="selector-item__name">Python Í∏∞Ï¥à ÌïôÏäµ</div>
                            <div class="selector-item__desc">45Í∞ú ÎåÄÌôî ‚Ä¢ 2ÏãúÍ∞Ñ Ï†Ñ</div>
                        </div>
                    </div>
                    <div class="selector-item" onclick="selectProject('data-analysis')">
                        <div class="selector-item__icon">üìä</div>
                        <div class="selector-item__content">
                            <div class="selector-item__name">Îç∞Ïù¥ÌÑ∞ Î∂ÑÏÑù Ïã§Ïäµ</div>
                            <div class="selector-item__desc">23Í∞ú ÎåÄÌôî ‚Ä¢ Ïñ¥Ï†ú</div>
                        </div>
                    </div>
                    <div class="selector-item" onclick="selectProject('web-dev')">
                        <div class="selector-item__icon">üåê</div>
                        <div class="selector-item__content">
                            <div class="selector-item__name">Ïõπ Í∞úÎ∞ú ÌîÑÎ°úÏ†ùÌä∏</div>
                            <div class="selector-item__desc">67Í∞ú ÎåÄÌôî ‚Ä¢ 3Ïùº Ï†Ñ</div>
                        </div>
                    </div>
                    <div class="selector-item" onclick="selectProject('ai-study')">
                        <div class="selector-item__icon">üß†</div>
                        <div class="selector-item__content">
                            <div class="selector-item__name">AI/ML Ïä§ÌÑ∞Îîî</div>
                            <div class="selector-item__desc">34Í∞ú ÎåÄÌôî ‚Ä¢ 5Ïùº Ï†Ñ</div>
                        </div>
                    </div>
                    <div class="selector-item" onclick="selectProject('marketing')">
                        <div class="selector-item__icon">üì±</div>
                        <div class="selector-item__content">
                            <div class="selector-item__name">ÎßàÏºÄÌåÖ ÏûêÎ£å Ï†úÏûë</div>
                            <div class="selector-item__desc">18Í∞ú ÎåÄÌôî ‚Ä¢ 1Ï£ºÏùº Ï†Ñ</div>
                        </div>
                    </div>
                </div>
            `);
            toggleOptionsMenu(); // ÏòµÏÖò Î©îÎâ¥ Îã´Í∏∞
        }

        // ========== ÏóêÏù¥Ï†ÑÌä∏ ÏÑ†ÌÉù Î™®Îã¨ ==========
        function openAgentSelector() {
            const modal = createModal('ÏóêÏù¥Ï†ÑÌä∏ ÏÑ†ÌÉù', `
                <div class="selector-list">
                    <div class="selector-item" onclick="selectAgent('none')">
                        <div class="selector-item__icon">‚≠ï</div>
                        <div class="selector-item__content">
                            <div class="selector-item__name">ÏÑ†ÌÉù ÏïàÌï®</div>
                            <div class="selector-item__desc">Í∏∞Î≥∏ AI Î™®Îç∏ ÏÇ¨Ïö©</div>
                        </div>
                    </div>
                    <div class="selector-divider"></div>
                    <div class="selector-item" onclick="selectAgent('coding-tutor')">
                        <div class="selector-item__icon">üíª</div>
                        <div class="selector-item__content">
                            <div class="selector-item__name">ÏΩîÎî© ÌäúÌÑ∞</div>
                            <div class="selector-item__desc">ÏãúÎãàÏñ¥ Í∞úÎ∞úÏûê ‚Ä¢ ÏÇ¨Ïö© 23Ìöå</div>
                        </div>
                    </div>
                    <div class="selector-item" onclick="selectAgent('content-writer')">
                        <div class="selector-item__icon">‚úçÔ∏è</div>
                        <div class="selector-item__content">
                            <div class="selector-item__name">ÏΩòÌÖêÏ∏† ÏûëÍ∞Ä</div>
                            <div class="selector-item__desc">Î∏îÎ°úÍ∑∏/SNS Ï†ÑÎ¨∏ ‚Ä¢ ÏÇ¨Ïö© 15Ìöå</div>
                        </div>
                    </div>
                    <div class="selector-item" onclick="selectAgent('data-analyst')">
                        <div class="selector-item__icon">üìä</div>
                        <div class="selector-item__content">
                            <div class="selector-item__name">Îç∞Ïù¥ÌÑ∞ Î∂ÑÏÑùÍ∞Ä</div>
                            <div class="selector-item__desc">ÌÜµÍ≥Ñ/ÏãúÍ∞ÅÌôî Ï†ÑÎ¨∏ ‚Ä¢ ÏÇ¨Ïö© 18Ìöå</div>
                        </div>
                    </div>
                    <div class="selector-item" onclick="selectAgent('english-teacher')">
                        <div class="selector-item__icon">üåç</div>
                        <div class="selector-item__content">
                            <div class="selector-item__name">ÏòÅÏñ¥ ÏÑ†ÏÉùÎãò</div>
                            <div class="selector-item__desc">ÎπÑÏ¶àÎãàÏä§ ÏòÅÏñ¥ ‚Ä¢ ÏÇ¨Ïö© 31Ìöå</div>
                        </div>
                    </div>
                    <div class="selector-item" onclick="selectAgent('research-assistant')">
                        <div class="selector-item__icon">üî¨</div>
                        <div class="selector-item__content">
                            <div class="selector-item__name">Ïó∞Íµ¨ Ï°∞Ïàò</div>
                            <div class="selector-item__desc">ÎÖºÎ¨∏/ÏûêÎ£å Ï°∞ÏÇ¨ ‚Ä¢ ÏÇ¨Ïö© 12Ìöå</div>
                        </div>
                    </div>
                </div>
            `);
            toggleOptionsMenu();
        }

        // ========== Î¨∏ÏÑú ÏÑ†ÌÉù Î™®Îã¨ ==========
        function openDocumentSelector() {
            const modal = createModal('Î¨∏ÏÑú ÏÑ†ÌÉù (RAG)', `
                <div class="selector-search">
                    <input type="text" placeholder="üîç Î¨∏ÏÑú Í≤ÄÏÉâ..." onkeyup="searchDocumentsInModal(this.value)">
                </div>
                <div class="selector-list" id="documentSelectorList">
                    <div class="selector-item" onclick="selectDocument('none')">
                        <div class="selector-item__icon">‚≠ï</div>
                        <div class="selector-item__content">
                            <div class="selector-item__name">ÏÑ†ÌÉù ÏïàÌï®</div>
                            <div class="selector-item__desc">Î¨∏ÏÑú ÏóÜÏù¥ ÏßÑÌñâ</div>
                        </div>
                    </div>
                    <div class="selector-divider"></div>
                    <div class="selector-item" onclick="selectDocument('python-guide')">
                        <div class="selector-item__icon">üìÑ</div>
                        <div class="selector-item__content">
                            <div class="selector-item__name">Python Í∏∞Ï¥à Í∞ÄÏù¥Îìú.pdf</div>
                            <div class="selector-item__desc">2.3 MB ‚Ä¢ 2ÏãúÍ∞Ñ Ï†Ñ</div>
                        </div>
                    </div>
                    <div class="selector-item" onclick="selectDocument('pandas-doc')">
                        <div class="selector-item__icon">üìÑ</div>
                        <div class="selector-item__content">
                            <div class="selector-item__name">Pandas Í≥µÏãù Î¨∏ÏÑú.pdf</div>
                            <div class="selector-item__desc">5.7 MB ‚Ä¢ 1Ïùº Ï†Ñ</div>
                        </div>
                    </div>
                    <div class="selector-item" onclick="selectDocument('api-spec')">
                        <div class="selector-item__icon">üìÑ</div>
                        <div class="selector-item__content">
                            <div class="selector-item__name">REST API Î™ÖÏÑ∏ÏÑú.docx</div>
                            <div class="selector-item__desc">850 KB ‚Ä¢ 3Ïùº Ï†Ñ</div>
                        </div>
                    </div>
                    <div class="selector-item" onclick="selectDocument('dataset')">
                        <div class="selector-item__icon">üìä</div>
                        <div class="selector-item__content">
                            <div class="selector-item__name">Í≥†Í∞ù Îç∞Ïù¥ÌÑ∞ÏÖã.xlsx</div>
                            <div class="selector-item__desc">1.2 MB ‚Ä¢ 5Ïùº Ï†Ñ</div>
                        </div>
                    </div>
                    <div class="selector-item" onclick="selectDocument('company-guide')">
                        <div class="selector-item__icon">üìã</div>
                        <div class="selector-item__content">
                            <div class="selector-item__name">ÌöåÏÇ¨ Í∞ÄÏù¥ÎìúÎùºÏù∏.pdf</div>
                            <div class="selector-item__desc">3.4 MB ‚Ä¢ 1Ï£ºÏùº Ï†Ñ</div>
                        </div>
                    </div>
                    <div class="selector-item" onclick="selectDocument('code-samples')">
                        <div class="selector-item__icon">üíª</div>
                        <div class="selector-item__content">
                            <div class="selector-item__name">ÏΩîÎìú ÏÉòÌîå Î™®Ïùå.txt</div>
                            <div class="selector-item__desc">420 KB ‚Ä¢ 1Ï£ºÏùº Ï†Ñ</div>
                        </div>
                    </div>
                </div>
            `);
            toggleOptionsMenu();
        }

        // ========== Î™®Îã¨ ÏÉùÏÑ± ==========
        function createModal(title, content) {
            // Í∏∞Ï°¥ Î™®Îã¨ Ï†úÍ±∞
            const existingModal = document.getElementById('selectorModal');
            if (existingModal) {
                existingModal.remove();
            }

            const modal = document.createElement('div');
            modal.id = 'selectorModal';
            modal.className = 'selector-modal';
            modal.innerHTML = `
                <div class="selector-modal__overlay" onclick="closeModal()"></div>
                <div class="selector-modal__content">
                    <div class="selector-modal__header">
                        <h3 class="selector-modal__title">${title}</h3>
                        <button class="selector-modal__close" onclick="closeModal()">‚úï</button>
                    </div>
                    <div class="selector-modal__body">
                        ${content}
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
            
            // Ïï†ÎãàÎ©îÏù¥ÏÖò
            setTimeout(() => modal.classList.add('selector-modal--open'), 10);
            
            return modal;
        }

        // ========== Î™®Îã¨ Îã´Í∏∞ ==========
        function closeModal() {
            const modal = document.getElementById('selectorModal');
            if (modal) {
                modal.classList.remove('selector-modal--open');
                setTimeout(() => modal.remove(), 200);
            }
        }

        // ========== ÌîÑÎ°úÏ†ùÌä∏ ÏÑ†ÌÉù ==========
        function selectProject(projectId) {
            const projects = {
                'none': 'ÏÑ†ÌÉù ÏïàÌï®',
                'python-learning': 'Python Í∏∞Ï¥à ÌïôÏäµ',
                'data-analysis': 'Îç∞Ïù¥ÌÑ∞ Î∂ÑÏÑù Ïã§Ïäµ',
                'web-dev': 'Ïõπ Í∞úÎ∞ú ÌîÑÎ°úÏ†ùÌä∏',
                'ai-study': 'AI/ML Ïä§ÌÑ∞Îîî',
                'marketing': 'ÎßàÏºÄÌåÖ ÏûêÎ£å Ï†úÏûë'
            };
            
            document.getElementById('selectedProject').textContent = projects[projectId] || 'ÏÑ†ÌÉù ÏïàÌï®';
            currentContext.project = projectId === 'none' ? null : projectId;
            closeModal();
            window.GrowFitUtils.showToast(`ÌîÑÎ°úÏ†ùÌä∏: ${projects[projectId]}`, 'success');
        }

        // ========== ÏóêÏù¥Ï†ÑÌä∏ ÏÑ†ÌÉù ==========
        function selectAgent(agentId) {
            const agents = {
                'none': 'ÏÑ†ÌÉù ÏïàÌï®',
                'coding-tutor': 'ÏΩîÎî© ÌäúÌÑ∞',
                'content-writer': 'ÏΩòÌÖêÏ∏† ÏûëÍ∞Ä',
                'data-analyst': 'Îç∞Ïù¥ÌÑ∞ Î∂ÑÏÑùÍ∞Ä',
                'english-teacher': 'ÏòÅÏñ¥ ÏÑ†ÏÉùÎãò',
                'research-assistant': 'Ïó∞Íµ¨ Ï°∞Ïàò'
            };
            
            document.getElementById('selectedAgent').textContent = agents[agentId] || 'ÏÑ†ÌÉù ÏïàÌï®';
            currentContext.agent = agentId === 'none' ? null : agentId;
            closeModal();
            window.GrowFitUtils.showToast(`ÏóêÏù¥Ï†ÑÌä∏: ${agents[agentId]}`, 'success');
        }

        // ========== Î¨∏ÏÑú ÏÑ†ÌÉù ==========
        function selectDocument(docId) {
            const documents = {
                'none': 'ÏÑ†ÌÉù ÏïàÌï®',
                'python-guide': 'Python Í∏∞Ï¥à Í∞ÄÏù¥Îìú.pdf',
                'pandas-doc': 'Pandas Í≥µÏãù Î¨∏ÏÑú.pdf',
                'api-spec': 'REST API Î™ÖÏÑ∏ÏÑú.docx',
                'dataset': 'Í≥†Í∞ù Îç∞Ïù¥ÌÑ∞ÏÖã.xlsx',
                'company-guide': 'ÌöåÏÇ¨ Í∞ÄÏù¥ÎìúÎùºÏù∏.pdf',
                'code-samples': 'ÏΩîÎìú ÏÉòÌîå Î™®Ïùå.txt'
            };
            
            document.getElementById('selectedDocument').textContent = documents[docId] || 'ÏÑ†ÌÉù ÏïàÌï®';
            currentContext.document = docId === 'none' ? null : docId;
            closeModal();
            window.GrowFitUtils.showToast(`Î¨∏ÏÑú: ${documents[docId]}`, 'success');
        }

        // ========== Î¨∏ÏÑú Í≤ÄÏÉâ (Î™®Îã¨ ÎÇ¥) ==========
        function searchDocumentsInModal(query) {
            const items = document.querySelectorAll('#documentSelectorList .selector-item');
            items.forEach(item => {
                const name = item.querySelector('.selector-item__name')?.textContent.toLowerCase() || '';
                if (name.includes(query.toLowerCase())) {
                    item.style.display = 'flex';
                } else {
                    item.style.display = 'none';
                }
            });
        }

        // ========== ÌååÏùº ÏóÖÎ°úÎìú ==========
        function uploadFile(type) {
            window.GrowFitUtils.showToast(`${type} ÌååÏùº ÏóÖÎ°úÎìú Í∏∞Îä•ÏùÄ Í∞úÎ∞ú Ï§ëÏûÖÎãàÎã§`, 'info');
            toggleAttachMenu();
        }

        // Ïô∏Î∂Ä ÌÅ¥Î¶≠ Ïãú Î©îÎâ¥ Îã´Í∏∞
        document.addEventListener('click', function(e) {
            if (!e.target.closest('.parallel-input-section')) {
                const optionsMenu = document.getElementById('optionsMenu');
                const attachMenu = document.getElementById('attachMenu');
                if (optionsMenu) optionsMenu.classList.remove('options-menu--open');
                if (attachMenu) attachMenu.classList.remove('options-menu--open');
            }
        });

        function initializePractice() {
            // ÌîÑÎ°¨ÌîÑÌä∏ ÏûÖÎ†• ÏûêÎèô ÎÜíÏù¥ Ï°∞Ï†à
            const parallelInput = document.getElementById('parallelInput');
            if (parallelInput) {
                parallelInput.addEventListener('input', autoResizeTextarea);
            }

            // Enter ÌÇ§Î°ú Ï†ÑÏÜ° (Shift+EnterÎäî Ï§ÑÎ∞îÍøà)
            if (parallelInput) {
                parallelInput.addEventListener('keydown', function(e) {
                    if (e.key === 'Enter' && !e.shiftKey) {
                        e.preventDefault();
                        sendParallelPrompt();
                    }
                });
            }

            console.log('Practice Ï¥àÍ∏∞Ìôî ÏôÑÎ£å');
        }

        function autoResizeTextarea(e) {
            const textarea = e.target;
            textarea.style.height = 'auto';
            textarea.style.height = Math.min(textarea.scrollHeight, 200) + 'px';
        }

        function setupEventListeners() {
            // ESC ÌÇ§Î°ú Î™®Îã¨ Îã´Í∏∞
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape') {
                    closeComparison();
                }
            });
        }

        // ========== Î™®Îìú Ï†ÑÌôò ==========
        function switchMode(mode) {
            currentMode = mode;

            const singleTab = document.getElementById('singleModeTab');
            const parallelTab = document.getElementById('parallelModeTab');
            const singleMode = document.getElementById('singleMode');
            const parallelMode = document.getElementById('parallelMode');

            if (mode === 'single') {
                // Îã®Ïùº Î™®Îìú ÌôúÏÑ±Ìôî
                singleTab.classList.add('mode-tab--active');
                parallelTab.classList.remove('mode-tab--active');
                singleMode.style.display = 'grid';
                parallelMode.style.display = 'none';

                window.GrowFitUtils.showToast('Îã®Ïùº Î™®Îç∏ Î™®ÎìúÎ°ú Ï†ÑÌôòÌñàÏäµÎãàÎã§', 'info');
            } else {
                // Î≥ëÎ†¨ Î™®Îìú ÌôúÏÑ±Ìôî
                parallelTab.classList.add('mode-tab--active');
                singleTab.classList.remove('mode-tab--active');
                parallelMode.style.display = 'flex';
                singleMode.style.display = 'none';

                window.GrowFitUtils.showToast('Î≥ëÎ†¨ ÎπÑÍµê Î™®ÎìúÎ°ú Ï†ÑÌôòÌñàÏäµÎãàÎã§', 'success');
            }
        }

        // ========== Ïª®ÌÖçÏä§Ìä∏ Í¥ÄÎ¶¨ ==========
        function removeContext(type) {
            if (confirm(`${currentContext[type]}ÏùÑ(Î•º) Ï†úÍ±∞ÌïòÏãúÍ≤†ÏäµÎãàÍπå?`)) {
                delete currentContext[type];
                window.GrowFitUtils.showToast('Ïª®ÌÖçÏä§Ìä∏Í∞Ä Ï†úÍ±∞ÎêòÏóàÏäµÎãàÎã§', 'info');
                // Ïã§Ï†úÎ°úÎäî UI ÏóÖÎç∞Ïù¥Ìä∏ ÌïÑÏöî
                location.reload();
            }
        }

        function addContext() {
            // Ïã§Ï†úÎ°úÎäî Î™®Îã¨ Ïó¥Ïñ¥ÏÑú ÏÑ†ÌÉù
            const options = `
                1. üìÅ ÌîÑÎ°úÏ†ùÌä∏ ÏÑ†ÌÉù
                2. ü§ñ ÏóêÏù¥Ï†ÑÌä∏ ÏÑ†ÌÉù
                3. üìÑ Î¨∏ÏÑú ÏÑ†ÌÉù
                
                Î≤àÌò∏Î•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî:
            `;
            
            const choice = prompt(options);
            
            if (choice) {
                window.GrowFitUtils.showToast('Ïª®ÌÖçÏä§Ìä∏ Ï∂îÍ∞Ä Í∏∞Îä•ÏùÄ Í∞úÎ∞ú Ï§ëÏûÖÎãàÎã§', 'info');
            }
        }

        // ========== Î≥ëÎ†¨ ÌîÑÎ°¨ÌîÑÌä∏ Ï†ÑÏÜ° ==========
        async function sendParallelPrompt() {
            const input = document.getElementById('parallelInput');
            const sendBtn = document.getElementById('parallelSendBtn');
            const prompt = input.value.trim();

            if (!prompt) {
                window.GrowFitUtils.showToast('ÏßàÎ¨∏ÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî', 'warning');
                input.focus();
                return;
            }

            if (selectedModels.length === 0) {
                window.GrowFitUtils.showToast('ÎπÑÍµêÌï† Î™®Îç∏ÏùÑ ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî', 'warning');
                return;
            }

            if (isGenerating) {
                window.GrowFitUtils.showToast('Ïù¥ÎØ∏ ÏÉùÏÑ± Ï§ëÏûÖÎãàÎã§', 'warning');
                return;
            }

            // ÏÉùÏÑ± ÏãúÏûë
            isGenerating = true;
            sendBtn.disabled = true;
            sendBtn.innerHTML = '<span>‚è≥</span><span>ÏÉùÏÑ± Ï§ë...</span>';

            // ÏÑ†ÌÉùÎêú ÏùëÎãµ Ìå®ÎÑêÎßå Ï¥àÍ∏∞Ìôî
            clearSelectedResponses();

            try {
                // ÏÑ†ÌÉùÎêú Î™®Îç∏Îßå ÎèôÏãú Ìò∏Ï∂ú
                const promises = selectedModels.map(model => generateResponse(model, prompt));
                await Promise.all(promises);

                window.GrowFitUtils.showToast(`${selectedModels.length}Í∞ú Î™®Îç∏Ïùò ÏùëÎãµÏù¥ ÏôÑÎ£åÎêòÏóàÏäµÎãàÎã§! üéâ`, 'success');

                // ÌîÑÎ°úÏ†ùÌä∏Ïóê ÏûêÎèô Ï†ÄÏû•
                saveToProject(prompt, responses);

            } catch (error) {
                console.error('ÏùëÎãµ ÏÉùÏÑ± Ï§ë Ïò§Î•ò:', error);
                window.GrowFitUtils.showToast('ÏùëÎãµ ÏÉùÏÑ± Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§', 'error');
            } finally {
                isGenerating = false;
                sendBtn.disabled = false;
                sendBtn.innerHTML = '<span>üöÄ</span><span>3Í∞ú Î™®Îç∏ Ïã§Ìñâ</span>';
            }
        }

        // ========== Í∞úÎ≥Ñ Î™®Îç∏ ÏùëÎãµ ÏÉùÏÑ± (ÏãúÎÆ¨Î†àÏù¥ÏÖò) ==========
        async function generateResponse(model, prompt) {
            const contentEl = document.getElementById(`${model}Content`);
            const timeEl = document.getElementById(`${model}Time`);
            const tokensEl = document.getElementById(`${model}Tokens`);

            // Î°úÎî© ÏÉÅÌÉú ÌëúÏãú
            contentEl.innerHTML = `
                <div class="response-loading">
                    <div class="response-loading__spinner"></div>
                    <div class="response-loading__text">
                        ${model === 'gpt' ? 'GPT-4' : model === 'claude' ? 'Claude' : 'Gemini'}Í∞Ä ÏùëÎãµÏùÑ ÏÉùÏÑ±ÌïòÍ≥† ÏûàÏäµÎãàÎã§...
                    </div>
                </div>
            `;

            // ÏãúÏûë ÏãúÍ∞Ñ Í∏∞Î°ù
            const startTime = Date.now();

            // Ïã§Ï†úÎ°úÎäî API Ìò∏Ï∂ú
            // ÏãúÎÆ¨Î†àÏù¥ÏÖò: Î™®Îç∏Î≥Ñ Îã§Î•∏ ÏùëÎãµ ÏãúÍ∞Ñ
            const delay = model === 'claude' ? 1800 : model === 'gpt' ? 2300 : 3100;
            await new Promise(resolve => setTimeout(resolve, delay));

            // ÏùëÎãµ ÏãúÍ∞Ñ Í≥ÑÏÇ∞
            const responseTime = ((Date.now() - startTime) / 1000).toFixed(1);
            metrics[model].time = responseTime;

            // ÏÉòÌîå ÏùëÎãµ ÏÉùÏÑ±
            const response = generateSampleResponse(model, prompt);
            responses[model] = response;

            // ÌÜ†ÌÅ∞ Ïàò (ÏãúÎÆ¨Î†àÏù¥ÏÖò)
            const tokens = model === 'claude' ? 380 : model === 'gpt' ? 450 : 520;
            metrics[model].tokens = tokens;

            // ÏùëÎãµ ÌëúÏãú
            displayResponse(model, response);

            // Î©îÌä∏Î¶≠ ÏóÖÎç∞Ïù¥Ìä∏
            timeEl.textContent = `${responseTime}Ï¥à`;
            tokensEl.textContent = `${tokens} tok`;

            // Ïï†ÎãàÎ©îÏù¥ÏÖò Ìö®Í≥º
            contentEl.style.opacity = '0';
            setTimeout(() => {
                contentEl.style.transition = 'opacity 0.3s';
                contentEl.style.opacity = '1';
            }, 10);
        }

        // ========== ÏÉòÌîå ÏùëÎãµ ÏÉùÏÑ± ==========
        function generateSampleResponse(model, prompt) {
            // Ïã§Ï†úÎ°úÎäî API ÏùëÎãµ ÏÇ¨Ïö©
            // Ïó¨Í∏∞ÏÑúÎäî Î™®Îç∏Î≥Ñ ÌäπÏÑ±ÏùÑ Î∞òÏòÅÌïú ÏÉòÌîå ÏùëÎãµ ÏÉùÏÑ±

            const responses = {
                gpt: `
                    <p>PythonÏóêÏÑú Î¶¨Ïä§Ìä∏Î•º Ï†ïÎ†¨ÌïòÎäî Î∞©Î≤ïÏùÄ ÌÅ¨Í≤å Îëê Í∞ÄÏßÄÍ∞Ä ÏûàÏäµÎãàÎã§:</p>
                    
                    <h4>1. sort() Î©îÏÑúÎìú (Ï†úÏûêÎ¶¨ Ï†ïÎ†¨)</h4>
                    <p>ÏõêÎ≥∏ Î¶¨Ïä§Ìä∏Î•º ÏßÅÏ†ë ÏàòÏ†ïÌï©ÎãàÎã§.</p>
                    <div class="code-block">
                        <div class="code-block__header">
                            <span class="code-block__lang">python</span>
                            <button class="code-block__copy" onclick="copyCode(this)">Î≥µÏÇ¨</button>
                        </div>
                        <pre>numbers = [3, 1, 4, 1, 5, 9, 2, 6]
numbers.sort()
print(numbers)  # [1, 1, 2, 3, 4, 5, 6, 9]

# ÎÇ¥Î¶ºÏ∞®Ïàú Ï†ïÎ†¨
numbers.sort(reverse=True)
print(numbers)  # [9, 6, 5, 4, 3, 2, 1, 1]</pre>
                    </div>

                    <h4>2. sorted() Ìï®Ïàò (ÏÉà Î¶¨Ïä§Ìä∏ Î∞òÌôò)</h4>
                    <p>ÏõêÎ≥∏ÏùÑ Ïú†ÏßÄÌïòÍ≥† Ï†ïÎ†¨Îêú ÏÉà Î¶¨Ïä§Ìä∏Î•º Î∞òÌôòÌï©ÎãàÎã§.</p>
                    <div class="code-block">
                        <div class="code-block__header">
                            <span class="code-block__lang">python</span>
                            <button class="code-block__copy" onclick="copyCode(this)">Î≥µÏÇ¨</button>
                        </div>
                        <pre>numbers = [3, 1, 4, 1, 5, 9, 2, 6]
sorted_numbers = sorted(numbers)
print(sorted_numbers)  # [1, 1, 2, 3, 4, 5, 6, 9]
print(numbers)  # [3, 1, 4, 1, 5, 9, 2, 6] (ÏõêÎ≥∏ Ïú†ÏßÄ)</pre>
                    </div>

                    <h4>Ïª§Ïä§ÌÖÄ Ï†ïÎ†¨</h4>
                    <p>key Îß§Í∞úÎ≥ÄÏàòÎ°ú Ï†ïÎ†¨ Í∏∞Ï§ÄÏùÑ ÏßÄÏ†ïÌï† Ïàò ÏûàÏäµÎãàÎã§.</p>
                    <div class="code-block">
                        <div class="code-block__header">
                            <span class="code-block__lang">python</span>
                            <button class="code-block__copy" onclick="copyCode(this)">Î≥µÏÇ¨</button>
                        </div>
                        <pre>students = [
    {'name': 'Ï≤†Ïàò', 'score': 85},
    {'name': 'ÏòÅÌù¨', 'score': 92},
    {'name': 'ÎØºÏàò', 'score': 78}
]

# Ï†êÏàò Í∏∞Ï§Ä Ï†ïÎ†¨
students.sort(key=lambda x: x['score'], reverse=True)
print(students)
# [{'name': 'ÏòÅÌù¨', 'score': 92}, ...]</pre>
                    </div>

                    <p><strong>ÏÑ†ÌÉù Í∞ÄÏù¥Îìú:</strong></p>
                    <ul>
                        <li><code>sort()</code>: Î©îÎ™®Î¶¨ Ìö®Ïú®Ï†Å, ÏõêÎ≥∏ Î¶¨Ïä§Ìä∏Îßå ÌïÑÏöîÌïú Í≤ΩÏö∞</li>
                        <li><code>sorted()</code>: ÏõêÎ≥∏ Î≥¥Ï°¥ ÌïÑÏöî, Ìï®ÏàòÌòï ÌîÑÎ°úÍ∑∏ÎûòÎ∞ç Ïä§ÌÉÄÏùº</li>
                    </ul>
                `,

                claude: `
                    <p>Ï¢ãÏùÄ ÏßàÎ¨∏Ïù¥ÎÑ§Ïöî! Python Î¶¨Ïä§Ìä∏ Ï†ïÎ†¨Ïóê ÎåÄÌï¥ ÏÉÅÏÑ∏Ìûà ÏÑ§Î™ÖÎìúÎ¶¨Í≤†ÏäµÎãàÎã§.</p>

                    <h4>üìå ÌïµÏã¨ Í∞úÎÖê</h4>
                    <p>PythonÏùÄ Îëê Í∞ÄÏßÄ Ï†ïÎ†¨ Î∞©Î≤ïÏùÑ Ï†úÍ≥µÌï©ÎãàÎã§:</p>
                    <ul>
                        <li><strong>sort()</strong> - Î©îÏÑúÎìú: ÏõêÎ≥∏ ÏàòÏ†ï</li>
                        <li><strong>sorted()</strong> - Ìï®Ïàò: ÏÉà Î¶¨Ïä§Ìä∏ ÏÉùÏÑ±</li>
                    </ul>

                    <h4>1Ô∏è‚É£ sort() Î©îÏÑúÎìú</h4>
                    <p>Î¶¨Ïä§Ìä∏ Í∞ùÏ≤¥Ïùò Î©îÏÑúÎìúÎ°ú, ÏõêÎ≥∏ Î¶¨Ïä§Ìä∏Î•º ÏßÅÏ†ë Î≥ÄÍ≤ΩÌï©ÎãàÎã§. Î∞òÌôòÍ∞íÏùÄ NoneÏûÖÎãàÎã§.</p>
                    
                    <div class="code-block">
                        <div class="code-block__header">
                            <span class="code-block__lang">python</span>
                            <button class="code-block__copy" onclick="copyCode(this)">Î≥µÏÇ¨</button>
                        </div>
                        <pre># Í∏∞Î≥∏ ÏÇ¨Ïö©Î≤ï
my_list = [3, 1, 4, 1, 5, 9, 2, 6]
my_list.sort()  # ÏõêÎ≥∏Ïù¥ Î≥ÄÍ≤ΩÎê®
print(my_list)  # [1, 1, 2, 3, 4, 5, 6, 9]

# ÎÇ¥Î¶ºÏ∞®Ïàú
my_list.sort(reverse=True)
print(my_list)  # [9, 6, 5, 4, 3, 2, 1, 1]</pre>
                    </div>

                    <h4>2Ô∏è‚É£ sorted() Ìï®Ïàò</h4>
                    <p>ÎÇ¥Ïû• Ìï®ÏàòÎ°ú, Ïñ¥Îñ§ iterableÎèÑ Î∞õÏùÑ Ïàò ÏûàÏúºÎ©∞ ÏÉàÎ°úÏö¥ Ï†ïÎ†¨Îêú Î¶¨Ïä§Ìä∏Î•º Î∞òÌôòÌï©ÎãàÎã§.</p>

                    <div class="code-block">
                        <div class="code-block__header">
                            <span class="code-block__lang">python</span>
                            <button class="code-block__copy" onclick="copyCode(this)">Î≥µÏÇ¨</button>
                        </div>
                        <pre># Í∏∞Î≥∏ ÏÇ¨Ïö©Î≤ï
original = [3, 1, 4, 1, 5, 9, 2, 6]
sorted_list = sorted(original)
print(sorted_list)  # [1, 1, 2, 3, 4, 5, 6, 9]
print(original)     # [3, 1, 4, 1, 5, 9, 2, 6] (ÏõêÎ≥∏ Ïú†ÏßÄ)

# Î¨∏ÏûêÏó¥ÎèÑ Ï†ïÎ†¨ Í∞ÄÎä•
sorted("python")  # ['h', 'n', 'o', 'p', 't', 'y']</pre>
                    </div>

                    <h4>3Ô∏è‚É£ Í≥†Í∏â Ï†ïÎ†¨ - key Îß§Í∞úÎ≥ÄÏàò</h4>
                    <p>Ï†ïÎ†¨ Í∏∞Ï§ÄÏùÑ Ïª§Ïä§ÌÑ∞ÎßàÏù¥ÏßïÌï† Ïàò ÏûàÎäî Í∞ïÎ†•Ìïú Í∏∞Îä•ÏûÖÎãàÎã§.</p>

                    <div class="code-block">
                        <div class="code-block__header">
                            <span class="code-block__lang">python</span>
                            <button class="code-block__copy" onclick="copyCode(this)">Î≥µÏÇ¨</button>
                        </div>
                        <pre># Î¨∏ÏûêÏó¥ Í∏∏Ïù¥ Í∏∞Ï§Ä Ï†ïÎ†¨
words = ['python', 'java', 'c', 'javascript']
sorted_words = sorted(words, key=len)
print(sorted_words)  # ['c', 'java', 'python', 'javascript']

# ÌäúÌîåÏùò Îëê Î≤àÏß∏ ÏöîÏÜå Í∏∞Ï§Ä
pairs = [(1, 'one'), (3, 'three'), (2, 'two')]
sorted(pairs, key=lambda x: x[1])
# [(1, 'one'), (3, 'three'), (2, 'two')]

# Í∞ùÏ≤¥ Ï†ïÎ†¨
class Student:
    def __init__(self, name, grade):
        self.name = name
        self.grade = grade

students = [Student('Alice', 85), Student('Bob', 92)]
sorted(students, key=lambda s: s.grade, reverse=True)</pre>
                    </div>

                    <h4>üí° Ïã§Ï†Ñ ÌåÅ</h4>
                    <ol>
                        <li><strong>Î©îÎ™®Î¶¨ Í≥†Î†§</strong>: ÎåÄÏö©Îüâ Îç∞Ïù¥ÌÑ∞Îäî sort() ÏÇ¨Ïö©</li>
                        <li><strong>ÏõêÎ≥∏ Î≥¥Ï°¥</strong>: ÏõêÎ≥∏Ïù¥ ÌïÑÏöîÌïòÎ©¥ sorted() ÏÇ¨Ïö©</li>
                        <li><strong>ÏïàÏ†ï Ï†ïÎ†¨</strong>: PythonÏùÄ ÏïàÏ†ï Ï†ïÎ†¨(Timsort) ÏÇ¨Ïö©</li>
                        <li><strong>ÏÑ±Îä•</strong>: O(n log n) ÏãúÍ∞Ñ Î≥µÏû°ÎèÑ</li>
                    </ol>

                    <p>Ï∂îÍ∞ÄÎ°ú Í∂ÅÍ∏àÌïú Ï†êÏù¥ ÏûàÏúºÏãúÎ©¥ ÎßêÏîÄÌï¥Ï£ºÏÑ∏Ïöî! üòä</p>
                `,

                gemini: `
                    <p>Python Î¶¨Ïä§Ìä∏ Ï†ïÎ†¨ Î∞©Î≤ïÏùÑ ÏïåÎ†§ÎìúÎ¶¨Í≤†ÏäµÎãàÎã§.</p>

                    <h4>Ï£ºÏöî Î∞©Î≤ï 2Í∞ÄÏßÄ</h4>

                    <p><strong>1. sort() - ÏõêÎ≥∏ ÏàòÏ†ï</strong></p>
                    <div class="code-block">
                        <div class="code-block__header">
                            <span class="code-block__lang">python</span>
                            <button class="code-block__copy" onclick="copyCode(this)">Î≥µÏÇ¨</button>
                        </div>
                        <pre>numbers = [5, 2, 8, 1, 9]
numbers.sort()
print(numbers)  # [1, 2, 5, 8, 9]</pre>
                    </div>

                    <p><strong>2. sorted() - ÏÉà Î¶¨Ïä§Ìä∏ ÏÉùÏÑ±</strong></p>
                    <div class="code-block">
                        <div class="code-block__header">
                            <span class="code-block__lang">python</span>
                            <button class="code-block__copy" onclick="copyCode(this)">Î≥µÏÇ¨</button>
                        </div>
                        <pre>numbers = [5, 2, 8, 1, 9]
new_numbers = sorted(numbers)
print(new_numbers)  # [1, 2, 5, 8, 9]
print(numbers)      # [5, 2, 8, 1, 9]</pre>
                    </div>

                    <h4>Ïó≠Ïàú Ï†ïÎ†¨</h4>
                    <div class="code-block">
                        <div class="code-block__header">
                            <span class="code-block__lang">python</span>
                            <button class="code-block__copy" onclick="copyCode(this)">Î≥µÏÇ¨</button>
                        </div>
                        <pre>numbers.sort(reverse=True)
# ÎòêÎäî
sorted(numbers, reverse=True)</pre>
                    </div>

                    <h4>Ïª§Ïä§ÌÖÄ Ï†ïÎ†¨</h4>
                    <div class="code-block">
                        <div class="code-block__header">
                            <span class="code-block__lang">python</span>
                            <button class="code-block__copy" onclick="copyCode(this)">Î≥µÏÇ¨</button>
                        </div>
                        <pre># Ï†àÎåìÍ∞í Í∏∞Ï§Ä Ï†ïÎ†¨
numbers = [-4, -1, 3, -2, 5]
numbers.sort(key=abs)
print(numbers)  # [-1, -2, 3, -4, 5]

# Î¨∏ÏûêÏó¥ Í∏∏Ïù¥ Í∏∞Ï§Ä
words = ['python', 'is', 'awesome']
words.sort(key=len)
print(words)  # ['is', 'python', 'awesome']</pre>
                    </div>

                    <p><strong>ÏöîÏïΩ:</strong></p>
                    <ul>
                        <li>sort() = Îπ†Î¶Ñ, ÏõêÎ≥∏ Î≥ÄÍ≤Ω</li>
                        <li>sorted() = ÏïàÏ†Ñ, ÏõêÎ≥∏ Ïú†ÏßÄ</li>
                    </ul>
                `
            };

            return responses[model];
        }

        // ========== ÏùëÎãµ ÌëúÏãú ==========
        function displayResponse(model, htmlContent) {
            const contentEl = document.getElementById(`${model}Content`);
            contentEl.innerHTML = htmlContent;

            // ÏΩîÎìú Î≥µÏÇ¨ Î≤ÑÌäº ÌôúÏÑ±Ìôî
            contentEl.querySelectorAll('.code-block__copy').forEach(btn => {
                btn.addEventListener('click', function() {
                    copyCode(this);
                });
            });
        }

        // ========== ÏùëÎãµ Ï¥àÍ∏∞Ìôî ==========
        function clearSelectedResponses() {
            selectedModels.forEach(model => {
                const contentEl = document.getElementById(`${model}Content`);
                contentEl.innerHTML = `
                    <div class="response-empty">
                        <div class="response-empty__icon">‚è≥</div>
                        <div class="response-empty__text">ÏùëÎãµ Ï§ÄÎπÑ Ï§ë...</div>
                    </div>
                `;

                document.getElementById(`${model}Time`).textContent = '-';
                document.getElementById(`${model}Tokens`).textContent = '-';
                
                responses[model] = null;
                metrics[model] = { time: 0, tokens: 0, rating: null };
            });
        }

        function clearAllResponses() {
            ['gpt', 'claude', 'gemini'].forEach(model => {
                const contentEl = document.getElementById(`${model}Content`);
                contentEl.innerHTML = `
                    <div class="response-empty">
                        <div class="response-empty__icon">‚è≥</div>
                        <div class="response-empty__text">ÏùëÎãµ Ï§ÄÎπÑ Ï§ë...</div>
                    </div>
                `;

                document.getElementById(`${model}Time`).textContent = '-';
                document.getElementById(`${model}Tokens`).textContent = '-';
            });

            responses = { gpt: null, claude: null, gemini: null };
            metrics = {
                gpt: { time: 0, tokens: 0, rating: null },
                claude: { time: 0, tokens: 0, rating: null },
                gemini: { time: 0, tokens: 0, rating: null }
            };
        }

        // ========== ÏΩîÎìú Î≥µÏÇ¨ ==========
        function copyCode(button) {
            const codeBlock = button.closest('.code-block');
            const code = codeBlock.querySelector('pre').textContent;

            navigator.clipboard.writeText(code).then(() => {
                button.textContent = '‚úì Î≥µÏÇ¨Îê®';
                button.style.background = 'rgba(16, 185, 129, 0.2)';
                
                setTimeout(() => {
                    button.textContent = 'Î≥µÏÇ¨';
                    button.style.background = '';
                }, 2000);
            }).catch(err => {
                console.error('Î≥µÏÇ¨ Ïã§Ìå®:', err);
                window.GrowFitUtils.showToast('Î≥µÏÇ¨Ïóê Ïã§Ìå®ÌñàÏäµÎãàÎã§', 'error');
            });
        }

        // ========== ÏùëÎãµ Î≥µÏÇ¨ ==========
        function copyResponse(model) {
            const content = responses[model];
            if (!content) {
                window.GrowFitUtils.showToast('Î≥µÏÇ¨Ìï† ÏùëÎãµÏù¥ ÏóÜÏäµÎãàÎã§', 'warning');
                return;
            }

            // HTML ÌÉúÍ∑∏ Ï†úÍ±∞ÌïòÍ≥† ÌÖçÏä§Ìä∏Îßå Ï∂îÏ∂ú
            const tempDiv = document.createElement('div');
            tempDiv.innerHTML = content;
            const text = tempDiv.textContent || tempDiv.innerText || '';

            navigator.clipboard.writeText(text).then(() => {
                window.GrowFitUtils.showToast(`${model.toUpperCase()} ÏùëÎãµÏù¥ Î≥µÏÇ¨ÎêòÏóàÏäµÎãàÎã§`, 'success');
            }).catch(err => {
                console.error('Î≥µÏÇ¨ Ïã§Ìå®:', err);
                window.GrowFitUtils.showToast('Î≥µÏÇ¨Ïóê Ïã§Ìå®ÌñàÏäµÎãàÎã§', 'error');
            });
        }

        // ========== ÏùëÎãµ Ïû¨ÏÉùÏÑ± ==========
            async function regenerateResponse(model) {
                const input = document.getElementById('parallelInput');
                const prompt = input.value.trim();

                if (!prompt) {
                    window.GrowFitUtils.showToast('ÌîÑÎ°¨ÌîÑÌä∏Í∞Ä ÏóÜÏäµÎãàÎã§', 'warning');
                    return;
                }

                if (isGenerating) {
                    window.GrowFitUtils.showToast('Ïù¥ÎØ∏ ÏÉùÏÑ± Ï§ëÏûÖÎãàÎã§', 'warning');
                    return;
                }

                if (confirm(`${model.toUpperCase()} Î™®Îç∏Ïùò ÏùëÎãµÏùÑ Ïû¨ÏÉùÏÑ±ÌïòÏãúÍ≤†ÏäµÎãàÍπå?`)) {
                    try {
                        isGenerating = true;
                        await generateResponse(model, prompt);
                        window.GrowFitUtils.showToast(`${model.toUpperCase()} ÏùëÎãµÏù¥ Ïû¨ÏÉùÏÑ±ÎêòÏóàÏäµÎãàÎã§`, 'success');
                    } catch (error) {
                        console.error('Ïû¨ÏÉùÏÑ± Ïò§Î•ò:', error);
                        window.GrowFitUtils.showToast('Ïû¨ÏÉùÏÑ±Ïóê Ïã§Ìå®ÌñàÏäµÎãàÎã§', 'error');
                    } finally {
                        isGenerating = false;
                    }
                }
            }

            // ========== ÏùëÎãµ ÌèâÍ∞Ä ==========
            function rateResponse(model, rating) {
                metrics[model].rating = rating;

                // Ìï¥Îãπ Î™®Îç∏Ïùò ÌèâÍ∞Ä Î≤ÑÌäº ÏÉÅÌÉú ÏóÖÎç∞Ïù¥Ìä∏
                const panel = document.querySelector(`.response-panel--${model}`);
                const ratingBtns = panel.querySelectorAll('.rating-btn');

                ratingBtns.forEach(btn => {
                    btn.classList.remove('rating-btn--active');
                });

                // ÌÅ¥Î¶≠Ìïú Î≤ÑÌäº ÌôúÏÑ±Ìôî
                event.target.classList.add('rating-btn--active');

                const ratingText = {
                    'like': 'Ï¢ãÏïÑÏöî',
                    'dislike': 'Î≥ÑÎ°úÏòàÏöî',
                    'star': 'ÏµúÍ≥†!'
                };

                window.GrowFitUtils.showToast(
                    `${model.toUpperCase()} ÏùëÎãµÏóê "${ratingText[rating]}"Î•º ÏÑ†ÌÉùÌñàÏäµÎãàÎã§`,
                    'success'
                );

                // ÏÑúÎ≤ÑÏóê ÌèâÍ∞Ä Ï†ÄÏû• (Ïã§Ï†úÎ°úÎäî API Ìò∏Ï∂ú)
                console.log(`ÌèâÍ∞Ä Ï†ÄÏû•: ${model} - ${rating}`);
            }

            // ========== ÌîÑÎ°¨ÌîÑÌä∏ ÏûÖÎ†• Ï¥àÍ∏∞Ìôî ==========
            function clearParallelInput() {
                if (confirm('ÏûÖÎ†•Ìïú ÎÇ¥Ïö©ÏùÑ Ï¥àÍ∏∞ÌôîÌïòÏãúÍ≤†ÏäµÎãàÍπå?')) {
                    document.getElementById('parallelInput').value = '';
                    document.getElementById('parallelInput').style.height = '60px';
                    window.GrowFitUtils.showToast('ÏûÖÎ†•Ïù¥ Ï¥àÍ∏∞ÌôîÎêòÏóàÏäµÎãàÎã§', 'info');
                }
            }

            // ========== ÌîÑÎ°¨ÌîÑÌä∏ Ï†ÄÏû• ==========
            function savePrompt() {
                const input = document.getElementById('parallelInput');
                const prompt = input.value.trim();

                if (!prompt) {
                    window.GrowFitUtils.showToast('Ï†ÄÏû•Ìï† ÌîÑÎ°¨ÌîÑÌä∏Í∞Ä ÏóÜÏäµÎãàÎã§', 'warning');
                    return;
                }

                const title = prompt.substring(0, 50) + (prompt.length > 50 ? '...' : '');

                if (confirm(`"${title}"\n\nÏù¥ ÌîÑÎ°¨ÌîÑÌä∏Î•º ÌÖúÌîåÎ¶øÏúºÎ°ú Ï†ÄÏû•ÌïòÏãúÍ≤†ÏäµÎãàÍπå?`)) {
                    // Ïã§Ï†úÎ°úÎäî ÏÑúÎ≤ÑÏóê Ï†ÄÏû•
                    console.log('ÌîÑÎ°¨ÌîÑÌä∏ Ï†ÄÏû•:', prompt);
                    window.GrowFitUtils.showToast('ÌîÑÎ°¨ÌîÑÌä∏Í∞Ä ÌÖúÌîåÎ¶øÏúºÎ°ú Ï†ÄÏû•ÎêòÏóàÏäµÎãàÎã§', 'success');
                }
            }

            // ========== ÌîÑÎ°úÏ†ùÌä∏Ïóê Ï†ÄÏû• ==========
            function saveToProject(prompt, responses) {
                // Ïã§Ï†úÎ°úÎäî API Ìò∏Ï∂úÌïòÏó¨ ÌîÑÎ°úÏ†ùÌä∏Ïóê Ï†ÄÏû•
                const data = {
                    project: currentContext.project,
                    agent: currentContext.agent,
                    document: currentContext.document,
                    prompt: prompt,
                    responses: responses,
                    metrics: metrics,
                    timestamp: new Date().toISOString()
                };

                console.log('ÌîÑÎ°úÏ†ùÌä∏ Ï†ÄÏû•:', data);

                // Ï†ÄÏû• ÏÑ±Í≥µ ÌëúÏãú
                setTimeout(() => {
                    const notification = document.createElement('div');
                    notification.style.cssText = `
                    position: fixed;
                    bottom: 80px;
                    right: 20px;
                    background: white;
                    border: 1px solid var(--border);
                    border-radius: var(--radius-lg);
                    padding: var(--space-3);
                    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
                    display: flex;
                    align-items: center;
                    gap: var(--space-2);
                    z-index: 1000;
                    animation: slideIn 0.3s;
                `;
                    notification.innerHTML = `
                    <span style="font-size: 20px;">üíæ</span>
                    <span style="font-size: var(--text-sm);">
                        <strong>${currentContext.project}</strong>Ïóê ÏûêÎèô Ï†ÄÏû•ÎêòÏóàÏäµÎãàÎã§
                    </span>
                `;

                    document.body.appendChild(notification);

                    setTimeout(() => {
                        notification.style.animation = 'slideOut 0.3s';
                        setTimeout(() => notification.remove(), 300);
                    }, 3000);
                }, 2000);
            }

            // ========== Î™®Îì† ÏùëÎãµ Ï†ÄÏû• ==========
            function saveAllResponses() {
                if (!responses.gpt && !responses.claude && !responses.gemini) {
                    window.GrowFitUtils.showToast('Ï†ÄÏû•Ìï† ÏùëÎãµÏù¥ ÏóÜÏäµÎãàÎã§', 'warning');
                    return;
                }

                const input = document.getElementById('parallelInput');
                const prompt = input.value.trim();

                if (confirm('3Í∞ú Î™®Îç∏Ïùò ÏùëÎãµÏùÑ Î™®Îëê Ï†ÄÏû•ÌïòÏãúÍ≤†ÏäµÎãàÍπå?')) {
                    saveToProject(prompt, responses);
                    window.GrowFitUtils.showToast('Î™®Îì† ÏùëÎãµÏù¥ Ï†ÄÏû•ÎêòÏóàÏäµÎãàÎã§', 'success');
                }
            }

            // ========== ÎπÑÍµê Î∂ÑÏÑù ÌëúÏãú ==========
            function showComparison() {
                if (!responses.gpt && !responses.claude && !responses.gemini) {
                    window.GrowFitUtils.showToast('ÎπÑÍµêÌï† ÏùëÎãµÏù¥ ÏóÜÏäµÎãàÎã§', 'warning');
                    return;
                }

                const modal = document.getElementById('comparisonModal');
                modal.style.display = 'block';

                // ÎπÑÍµê Îç∞Ïù¥ÌÑ∞ ÏóÖÎç∞Ïù¥Ìä∏
                document.getElementById('compGptTime').textContent = `${metrics.gpt.time}Ï¥à`;
                document.getElementById('compClaudeTime').textContent = `${metrics.claude.time}Ï¥à`;
                document.getElementById('compGeminiTime').textContent = `${metrics.gemini.time}Ï¥à`;

                document.getElementById('compGptTokens').textContent = metrics.gpt.tokens;
                document.getElementById('compClaudeTokens').textContent = metrics.claude.tokens;
                document.getElementById('compGeminiTokens').textContent = metrics.gemini.tokens;

                // ÌèâÍ∞Ä ÌëúÏãú
                const ratingToStars = (rating) => {
                    if (rating === 'star') return '‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê';
                    if (rating === 'like') return '‚≠ê‚≠ê‚≠ê‚≠ê';
                    if (rating === 'dislike') return '‚≠ê‚≠ê';
                    return 'ÎØ∏ÌèâÍ∞Ä';
                };

                document.getElementById('compGptRating').textContent = ratingToStars(metrics.gpt.rating);
                document.getElementById('compClaudeRating').textContent = ratingToStars(metrics.claude.rating);
                document.getElementById('compGeminiRating').textContent = ratingToStars(metrics.gemini.rating);

                // Î™®Îã¨ Ïô∏Î∂Ä ÌÅ¥Î¶≠ Ïãú Îã´Í∏∞
                modal.addEventListener('click', function (e) {
                    if (e.target === modal) {
                        closeComparison();
                    }
                });
            }

            // ========== ÎπÑÍµê Î∂ÑÏÑù Îã´Í∏∞ ==========
            function closeComparison() {
                const modal = document.getElementById('comparisonModal');
                modal.style.display = 'none';
            }

            // ========== ÎπÑÍµê Î¶¨Ìè¨Ìä∏ ÎÇ¥Î≥¥ÎÇ¥Í∏∞ ==========
            function exportComparison() {
                if (!responses.gpt && !responses.claude && !responses.gemini) {
                    window.GrowFitUtils.showToast('ÎÇ¥Î≥¥ÎÇº Îç∞Ïù¥ÌÑ∞Í∞Ä ÏóÜÏäµÎãàÎã§', 'warning');
                    return;
                }

                const input = document.getElementById('parallelInput');
                const prompt = input.value.trim();

                // Î¶¨Ìè¨Ìä∏ ÏÉùÏÑ± (Ïã§Ï†úÎ°úÎäî PDF ÎòêÎäî ExcelÎ°ú ÎÇ¥Î≥¥ÎÇ¥Í∏∞)
                const report = {
                    prompt: prompt,
                    context: currentContext,
                    responses: responses,
                    metrics: metrics,
                    timestamp: new Date().toISOString()
                };

                console.log('ÎπÑÍµê Î¶¨Ìè¨Ìä∏:', report);

                // ÏãúÎÆ¨Î†àÏù¥ÏÖò: JSON Îã§Ïö¥Î°úÎìú
                const dataStr = JSON.stringify(report, null, 2);
                const dataBlob = new Blob([dataStr], { type: 'application/json' });
                const url = URL.createObjectURL(dataBlob);
                const link = document.createElement('a');
                link.href = url;
                link.download = `AIÎπÑÍµê_${new Date().getTime()}.json`;
                link.click();
                URL.revokeObjectURL(url);

                window.GrowFitUtils.showToast('ÎπÑÍµê Î¶¨Ìè¨Ìä∏Í∞Ä Îã§Ïö¥Î°úÎìúÎêòÏóàÏäµÎãàÎã§', 'success');
            }

            // ========== ÏÉòÌîå ÌîÑÎ°¨ÌîÑÌä∏ Î°úÎìú ==========
            function loadSamplePrompt(type) {
                const samples = {
                    'code': 'PythonÏúºÎ°ú Î¶¨Ïä§Ìä∏Î•º Ï†ïÎ†¨ÌïòÎäî Î∞©Î≤ïÏùÑ ÏïåÎ†§Ï§ò. ÏòàÏ†ú ÏΩîÎìúÏôÄ Ìï®Íªò ÏÑ§Î™ÖÌï¥Ï£ºÎ©¥ Ï¢ãÍ≤†Ïñ¥.',
                    'writing': 'Ïö∞Î¶¨ ÌöåÏÇ¨Ïùò Ïã†Ï†úÌíà Îü∞Ïπ≠ ÏÜåÏÖúÎØ∏ÎîîÏñ¥ Ìè¨Ïä§Ìä∏Î•º ÏûëÏÑ±Ìï¥Ï§ò. ÌÜ§ÏùÄ Î∞ùÍ≥† ÏπúÍ∑ºÌïòÍ≤å, Ïù¥Î™®ÏßÄÎèÑ Ï†ÅÏ†àÌûà ÏÇ¨Ïö©Ìï¥Ï§ò.',
                    'analysis': 'Ï≤®Î∂ÄÌïú Îç∞Ïù¥ÌÑ∞Î•º Î∂ÑÏÑùÌïòÍ≥†, Ï£ºÏöî Ìä∏Î†åÎìúÏôÄ Ïù∏ÏÇ¨Ïù¥Ìä∏Î•º Ï†ïÎ¶¨Ìï¥Ï§ò. ÏãúÍ∞ÅÌôî Ï∂îÏ≤úÎèÑ Ìï¥Ï§ò.',
                    'translation': 'Îã§Ïùå ÌïúÍµ≠Ïñ¥ ÌÖçÏä§Ìä∏Î•º ÏòÅÏñ¥, ÏùºÎ≥∏Ïñ¥, Ï§ëÍµ≠Ïñ¥Î°ú Î≤àÏó≠Ìï¥Ï§ò. Í∞Å Ïñ∏Ïñ¥Ïùò Î¨∏ÌôîÏ†Å ÎâòÏïôÏä§Î•º Í≥†Î†§Ìï¥Ï§ò.'
                };

                const prompt = samples[type];
                if (prompt) {
                    document.getElementById('parallelInput').value = prompt;
                    autoResizeTextarea({ target: document.getElementById('parallelInput') });
                    window.GrowFitUtils.showToast('ÏÉòÌîå ÌîÑÎ°¨ÌîÑÌä∏Í∞Ä Î°úÎìúÎêòÏóàÏäµÎãàÎã§', 'success');
                }
            }

            // ========== ÌÇ§Î≥¥Îìú Îã®Ï∂ïÌÇ§ ==========
            document.addEventListener('keydown', function (e) {
                // Ctrl/Cmd + Enter: Ï†ÑÏÜ°
                if ((e.ctrlKey || e.metaKey) && e.key === 'Enter') {
                    if (currentMode === 'parallel') {
                        sendParallelPrompt();
                    }
                }

                // Ctrl/Cmd + K: ÏûÖÎ†• Ï¥àÍ∏∞Ìôî
                if ((e.ctrlKey || e.metaKey) && e.key === 'k') {
                    e.preventDefault();
                    clearParallelInput();
                }

                // Ctrl/Cmd + S: ÌîÑÎ°¨ÌîÑÌä∏ Ï†ÄÏû•
                if ((e.ctrlKey || e.metaKey) && e.key === 's') {
                    e.preventDefault();
                    savePrompt();
                }

                // Ctrl/Cmd + M: Î™®Îìú Ï†ÑÌôò
                if ((e.ctrlKey || e.metaKey) && e.key === 'm') {
                    e.preventDefault();
                    switchMode(currentMode === 'single' ? 'parallel' : 'single');
                }
            });

            // ========== ÏùëÎãµ ÌïòÏù¥ÎùºÏù¥Ìä∏ ÎπÑÍµê ==========
            function highlightDifferences() {
                // 3Í∞ú ÏùëÎãµÏùò Ï∞®Ïù¥Ï†êÏùÑ ÏãúÍ∞ÅÏ†ÅÏúºÎ°ú ÌëúÏãú
                // Ïã§Ï†úÎ°úÎäî ÌÖçÏä§Ìä∏ diff ÏïåÍ≥†Î¶¨Ï¶ò ÏÇ¨Ïö©
                window.GrowFitUtils.showToast('Ï∞®Ïù¥Ï†ê ÌïòÏù¥ÎùºÏù¥Ìä∏ Í∏∞Îä•ÏùÄ Í∞úÎ∞ú Ï§ëÏûÖÎãàÎã§', 'info');
            }

            // ========== ÏµúÏ†Å ÏùëÎãµ ÏÑ†ÌÉù ==========
            function selectBestResponse(model) {
                if (confirm(`${model.toUpperCase()} Î™®Îç∏Ïùò ÏùëÎãµÏùÑ ÏµúÏ¢Ö ÏÑ†ÌÉùÌïòÏãúÍ≤†ÏäµÎãàÍπå?`)) {
                    // ÏÑ†ÌÉùÎêú ÏùëÎãµÏùÑ ÌîÑÎ°úÏ†ùÌä∏Ïóê Ï†ÄÏû•
                    const selectedResponse = {
                        model: model,
                        response: responses[model],
                        metrics: metrics[model]
                    };

                    console.log('ÏµúÏ†Å ÏùëÎãµ ÏÑ†ÌÉù:', selectedResponse);
                    window.GrowFitUtils.showToast(
                        `${model.toUpperCase()} Î™®Îç∏Ïùò ÏùëÎãµÏù¥ ÏÑ†ÌÉùÎêòÏóàÏäµÎãàÎã§`,
                        'success'
                    );

                    // ÏÑ†ÌÉùÎêú Ìå®ÎÑê Í∞ïÏ°∞
                    document.querySelectorAll('.response-panel').forEach(panel => {
                        panel.style.borderWidth = '2px';
                    });

                    const selectedPanel = document.querySelector(`.response-panel--${model}`);
                    selectedPanel.style.borderWidth = '4px';
                    selectedPanel.style.boxShadow = '0 8px 24px rgba(0, 0, 0, 0.15)';
                }
            }

            // ========== ÌÜµÍ≥Ñ Ï∂îÏ†Å ==========
            function trackUsage() {
                // Ïã§Ï†úÎ°úÎäî Î∂ÑÏÑù ÏÑúÎ≤ÑÎ°ú Ï†ÑÏÜ°
                const usageData = {
                    mode: currentMode,
                    models: Object.keys(responses).filter(k => responses[k]),
                    totalTime: Object.values(metrics).reduce((sum, m) => sum + parseFloat(m.time || 0), 0),
                    totalTokens: Object.values(metrics).reduce((sum, m) => sum + (m.tokens || 0), 0),
                    timestamp: new Date().toISOString()
                };

                console.log('ÏÇ¨Ïö© ÌÜµÍ≥Ñ:', usageData);
            }

            // ========== ÏûêÎèô Ï†ÄÏû• ==========
            let autoSaveTimer;
            function enableAutoSave() {
                const input = document.getElementById('parallelInput');

                input.addEventListener('input', function () {
                    clearTimeout(autoSaveTimer);

                    autoSaveTimer = setTimeout(() => {
                        const content = input.value.trim();
                        if (content) {
                            localStorage.setItem('practice_draft', content);
                            console.log('ÏûêÎèô Ï†ÄÏû•Îê®');
                        }
                    }, 2000); // 2Ï¥à ÌõÑ ÏûêÎèô Ï†ÄÏû•
                });
            }

            // ========== ÏûÑÏãú Ï†ÄÏû• Î≥µÏõê ==========
            function restoreDraft() {
                const draft = localStorage.getItem('practice_draft');
                if (draft) {
                    const input = document.getElementById('parallelInput');
                    if (confirm('Ïù¥Ï†ÑÏóê ÏûëÏÑ± Ï§ëÏù¥Îçò ÎÇ¥Ïö©ÏùÑ Î≥µÏõêÌïòÏãúÍ≤†ÏäµÎãàÍπå?')) {
                        input.value = draft;
                        autoResizeTextarea({ target: input });
                        localStorage.removeItem('practice_draft');
                    }
                }
            }

            // ÌéòÏù¥ÏßÄ Î°úÎìú Ïãú ÏûÑÏãú Ï†ÄÏû• Î≥µÏõê
            window.addEventListener('load', function () {
                restoreDraft();
                enableAutoSave();
            });

            // ========== ÌååÏùº ÏóÖÎ°úÎìú (Ïù¥ÎØ∏ÏßÄ, Î¨∏ÏÑú) ==========
            function uploadFile() {
                const input = document.createElement('input');
                input.type = 'file';
                input.accept = 'image/*,.pdf,.doc,.docx,.txt';

                input.onchange = function (e) {
                    const file = e.target.files[0];
                    if (file) {
                        // ÌååÏùº ÌÅ¨Í∏∞ Ï≤¥ÌÅ¨ (10MB)
                        if (file.size > 10 * 1024 * 1024) {
                            window.GrowFitUtils.showToast('ÌååÏùº ÌÅ¨Í∏∞Îäî 10MB Ïù¥ÌïòÏó¨Ïïº Ìï©ÎãàÎã§', 'error');
                            return;
                        }

                        // Ïã§Ï†úÎ°úÎäî ÏÑúÎ≤ÑÎ°ú ÏóÖÎ°úÎìú ÌõÑ Ï≤òÎ¶¨
                        console.log('ÌååÏùº ÏóÖÎ°úÎìú:', file.name);
                        window.GrowFitUtils.showToast(`${file.name}Ïù¥(Í∞Ä) ÏóÖÎ°úÎìúÎêòÏóàÏäµÎãàÎã§`, 'success');

                        // ÌååÏùº Ï†ïÎ≥¥Î•º ÌîÑÎ°¨ÌîÑÌä∏Ïóê Ï∂îÍ∞Ä
                        const textarea = document.getElementById('parallelInput');
                        textarea.value += `\n\n[Ï≤®Î∂Ä: ${file.name}]`;
                    }
                };

                input.click();
            }

            // ========== ÏùåÏÑ± ÏûÖÎ†• ==========
            function startVoiceInput() {
                if (!('webkitSpeechRecognition' in window)) {
                    window.GrowFitUtils.showToast('Ïù¥ Î∏åÎùºÏö∞Ï†ÄÎäî ÏùåÏÑ± Ïù∏ÏãùÏùÑ ÏßÄÏõêÌïòÏßÄ ÏïäÏäµÎãàÎã§', 'error');
                    return;
                }

                const recognition = new webkitSpeechRecognition();
                recognition.lang = 'ko-KR';
                recognition.continuous = false;
                recognition.interimResults = false;

                recognition.onstart = function () {
                    window.GrowFitUtils.showToast('ÏùåÏÑ± Ïù∏Ïãù ÏãúÏûë... üé§', 'info');
                };

                recognition.onresult = function (event) {
                    const transcript = event.results[0][0].transcript;
                    const textarea = document.getElementById('parallelInput');
                    textarea.value += (textarea.value ? ' ' : '') + transcript;
                    autoResizeTextarea({ target: textarea });
                    window.GrowFitUtils.showToast('ÏùåÏÑ±Ïù¥ ÌÖçÏä§Ìä∏Î°ú Î≥ÄÌôòÎêòÏóàÏäµÎãàÎã§', 'success');
                };

                recognition.onerror = function (event) {
                    console.error('ÏùåÏÑ± Ïù∏Ïãù Ïò§Î•ò:', event.error);
                    window.GrowFitUtils.showToast('ÏùåÏÑ± Ïù∏ÏãùÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§', 'error');
                };

                recognition.start();
            }

            // ========== ÌéòÏù¥ÏßÄ Ïñ∏Î°úÎìú Ïãú Í≤ΩÍ≥† ==========
            window.addEventListener('beforeunload', function (e) {
                if (isGenerating) {
                    e.preventDefault();
                    e.returnValue = '';
                    return 'ÏùëÎãµ ÏÉùÏÑ±Ïù¥ ÏßÑÌñâ Ï§ëÏûÖÎãàÎã§. ÌéòÏù¥ÏßÄÎ•º ÎÇòÍ∞ÄÏãúÍ≤†ÏäµÎãàÍπå?';
                }
            });

            // ========== Î∞òÏùëÌòï Ï≤òÎ¶¨ ==========
            function handleResize() {
                const width = window.innerWidth;

                if (width <= 1400) {
                    // ÌÉúÎ∏îÎ¶ø: ÏÑ∏Î°ú Î∞∞Ïπò
                    console.log('ÌÉúÎ∏îÎ¶ø Î†àÏù¥ÏïÑÏõÉ');
                } else {
                    // Îç∞Ïä§ÌÅ¨ÌÜ±: Í∞ÄÎ°ú Î∞∞Ïπò
                    console.log('Îç∞Ïä§ÌÅ¨ÌÜ± Î†àÏù¥ÏïÑÏõÉ');
                }
            }

            window.addEventListener('resize', handleResize);
            handleResize();

            // ========== ÎîîÎ≤ÑÍπÖ ==========
            if (window.location.hostname === 'localhost') {
                console.log('üöÄ Practice ÌéòÏù¥ÏßÄ ÎîîÎ≤ÑÍ∑∏ Î™®Îìú');
                console.log('ÌòÑÏû¨ Î™®Îìú:', currentMode);
                console.log('Ïª®ÌÖçÏä§Ìä∏:', currentContext);
            }

            console.log('Practice MSP ÌéòÏù¥ÏßÄ Ïä§ÌÅ¨Î¶ΩÌä∏ Î°úÎìú ÏôÑÎ£å');
        </script>

    <!-- Ïï†ÎãàÎ©îÏù¥ÏÖò Ïä§ÌÉÄÏùº -->
    <style>
        @keyframes slideIn {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        @keyframes slideOut {
            from {
                transform: translateX(0);
                opacity: 1;
            }
            to {
                transform: translateX(100%);
                opacity: 0;
            }
        }

        /* ÏΩîÎìú ÌïòÏù¥ÎùºÏù¥ÌåÖ (Í∞ÑÎã®Ìïú Î≤ÑÏ†Ñ) */
        .code-block pre {
            tab-size: 4;
        }

        /* ÌîÑÎ¶∞Ìä∏ Ïä§ÌÉÄÏùº */
        @media print {
            .header,
            .sidebar,
            .mode-switcher,
            .context-bar,
            .parallel-input-section,
            .response-actions {
                display: none !important;
            }

            .parallel-responses {
                display: block !important;
            }

            .response-panel {
                page-break-inside: avoid;
                margin-bottom: 20px;
                border: 1px solid #000 !important;
            }
        }
    </style>
</body>
</html>