<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë‚´ ë¬¸ì„œ - GrowFit Employee</title>

    <!-- ê³µí†µ CSS -->
    <link rel="stylesheet" href="../common/variables.css">
    <link rel="stylesheet" href="../common/layout.css">
    <link rel="stylesheet" href="../common/components.css">

    <style>
        /* ========== Documents ì „ìš© ìŠ¤íƒ€ì¼ ========== */
        :root {
            --employee-primary: #10b981;
            --employee-primary-light: #34d399;
            --employee-primary-dark: #059669;
            --employee-secondary: #06b6d4;
            --employee-accent: #f59e0b;
        }

        /* ë ˆì´ì•„ì›ƒ */
        .documents-layout {
            display: grid;
            grid-template-columns: 280px 1fr;
            gap: var(--space-6);
            height: calc(100vh - var(--header-height) - 100px);
        }

        /* ì™¼ìª½: í´ë” íŠ¸ë¦¬ */
        .folders-sidebar {
            background: var(--background);
            border: 1px solid var(--border);
            border-radius: var(--radius-lg);
            padding: var(--space-4);
            overflow-y: auto;
        }

        .folders-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--space-4);
        }

        .folders-title {
            font-size: var(--text-lg);
            font-weight: var(--font-bold);
            color: var(--text-primary);
        }

        .folder-tree {
            display: flex;
            flex-direction: column;
            gap: var(--space-1);
        }

        .folder-item {
            padding: var(--space-2) var(--space-3);
            border-radius: var(--radius-md);
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: var(--space-2);
            font-size: var(--text-sm);
            color: var(--text-primary);
            transition: all 0.2s;
        }

        .folder-item:hover {
            background: var(--surface);
        }

        .folder-item--active {
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.1), rgba(16, 185, 129, 0.05));
            color: var(--employee-primary);
            font-weight: var(--font-semibold);
        }

        .folder-icon {
            font-size: 18px;
        }

        .folder-count {
            margin-left: auto;
            font-size: var(--text-xs);
            color: var(--text-secondary);
            background: var(--surface);
            padding: 2px 6px;
            border-radius: var(--radius-sm);
        }

        /* ì˜¤ë¥¸ìª½: ë¬¸ì„œ ê´€ë¦¬ ì˜ì—­ */
        .documents-main {
            background: var(--background);
            border: 1px solid var(--border);
            border-radius: var(--radius-lg);
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        .documents-header {
            padding: var(--space-5);
            border-bottom: 1px solid var(--border);
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.05), rgba(6, 182, 212, 0.05));
        }

        .header-top {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--space-3);
        }

        .header-title {
            font-size: var(--text-2xl);
            font-weight: var(--font-bold);
            color: var(--text-primary);
        }

        .header-actions {
            display: flex;
            gap: var(--space-2);
        }

        .search-bar {
            display: flex;
            gap: var(--space-2);
        }

        .search-input {
            flex: 1;
            padding: var(--space-2) var(--space-3);
            border: 1px solid var(--border);
            border-radius: var(--radius-md);
            font-size: var(--text-sm);
        }

        /* ì—…ë¡œë“œ ë“œë¡­ì¡´ */
        .upload-dropzone {
            margin: var(--space-5);
            padding: var(--space-8);
            border: 3px dashed var(--border);
            border-radius: var(--radius-lg);
            text-align: center;
            background: var(--surface);
            cursor: pointer;
            transition: all 0.3s;
        }

        .upload-dropzone:hover {
            border-color: var(--employee-primary);
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.05), rgba(6, 182, 212, 0.02));
        }

        .upload-dropzone--active {
            border-color: var(--employee-primary);
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.1), rgba(6, 182, 212, 0.05));
            border-style: solid;
        }

        .upload-icon {
            font-size: 64px;
            margin-bottom: var(--space-3);
            opacity: 0.5;
        }

        .upload-text {
            font-size: var(--text-lg);
            font-weight: var(--font-semibold);
            color: var(--text-primary);
            margin-bottom: var(--space-2);
        }

        .upload-hint {
            font-size: var(--text-sm);
            color: var(--text-secondary);
            margin-bottom: var(--space-3);
        }

        .upload-formats {
            font-size: var(--text-xs);
            color: var(--text-secondary);
        }

        /* ë¬¸ì„œ ê·¸ë¦¬ë“œ */
        .documents-content {
            flex: 1;
            overflow-y: auto;
            padding: var(--space-5);
        }

        .view-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--space-4);
        }

        .view-tabs {
            display: flex;
            gap: var(--space-2);
        }

        .view-tab {
            padding: var(--space-2) var(--space-4);
            border: 1px solid var(--border);
            border-radius: var(--radius-md);
            background: white;
            font-size: var(--text-sm);
            font-weight: var(--font-semibold);
            color: var(--text-secondary);
            cursor: pointer;
            transition: all 0.2s;
        }

        .view-tab:hover {
            border-color: var(--employee-primary);
            color: var(--employee-primary);
        }

        .view-tab--active {
            background: var(--employee-primary);
            border-color: var(--employee-primary);
            color: white;
        }

        .sort-select {
            padding: var(--space-2) var(--space-3);
            border: 1px solid var(--border);
            border-radius: var(--radius-md);
            font-size: var(--text-sm);
            background: white;
        }

        .documents-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: var(--space-4);
        }

        .document-card {
            background: white;
            border: 2px solid var(--border);
            border-radius: var(--radius-lg);
            padding: var(--space-4);
            cursor: pointer;
            transition: all 0.2s;
            position: relative;
        }

        .document-card:hover {
            border-color: var(--employee-primary);
            box-shadow: 0 4px 12px rgba(16, 185, 129, 0.1);
            transform: translateY(-2px);
        }

        .document-card__header {
            display: flex;
            align-items: start;
            gap: var(--space-3);
            margin-bottom: var(--space-3);
        }

        .document-icon {
            width: 48px;
            height: 48px;
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            flex-shrink: 0;
        }

        .document-icon--pdf {
            background: linear-gradient(135deg, #ef4444, #dc2626);
            color: white;
        }

        .document-icon--doc {
            background: linear-gradient(135deg, #3b82f6, #2563eb);
            color: white;
        }

        .document-icon--excel {
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
        }

        .document-icon--image {
            background: linear-gradient(135deg, #8b5cf6, #7c3aed);
            color: white;
        }

        .document-icon--txt {
            background: linear-gradient(135deg, #6b7280, #4b5563);
            color: white;
        }

        .document-info {
            flex: 1;
            min-width: 0;
        }

        .document-name {
            font-size: var(--text-sm);
            font-weight: var(--font-semibold);
            color: var(--text-primary);
            margin-bottom: var(--space-1);
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }

        .document-meta {
            font-size: var(--text-xs);
            color: var(--text-secondary);
        }

        .document-card__menu {
            position: absolute;
            top: var(--space-2);
            right: var(--space-2);
            width: 28px;
            height: 28px;
            border: 1px solid var(--border);
            border-radius: var(--radius-sm);
            background: white;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            opacity: 0;
            transition: all 0.2s;
        }

        .document-card:hover .document-card__menu {
            opacity: 1;
        }

        .document-card__menu:hover {
            border-color: var(--employee-primary);
            background: var(--surface);
        }

        .document-status {
            margin-bottom: var(--space-3);
        }

        .status-bar {
            display: flex;
            align-items: center;
            gap: var(--space-2);
            padding: var(--space-2);
            background: var(--surface);
            border-radius: var(--radius-sm);
            font-size: var(--text-xs);
        }

        .status-indicator {
            width: 8px;
            height: 8px;
            border-radius: 50%;
        }

        .status-indicator--ready {
            background: var(--employee-primary);
        }

        .status-indicator--processing {
            background: var(--warning);
            animation: pulse 2s infinite;
        }

        .status-indicator--error {
            background: var(--error);
        }

        @keyframes pulse {

            0%,
            100% {
                opacity: 1;
            }

            50% {
                opacity: 0.5;
            }
        }

        .document-tags {
            display: flex;
            flex-wrap: wrap;
            gap: var(--space-1);
            margin-bottom: var(--space-3);
        }

        .doc-tag {
            padding: 2px 8px;
            background: var(--surface);
            border-radius: var(--radius-sm);
            font-size: var(--text-xs);
            color: var(--text-secondary);
        }

        .document-stats {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: var(--space-2);
            padding-top: var(--space-3);
            border-top: 1px solid var(--border);
        }

        .stat-item {
            text-align: center;
        }

        .stat-value {
            font-size: var(--text-sm);
            font-weight: var(--font-bold);
            color: var(--employee-primary);
        }

        .stat-label {
            font-size: var(--text-xs);
            color: var(--text-secondary);
        }

        /* ë¦¬ìŠ¤íŠ¸ ë·° */
        .documents-list {
            display: flex;
            flex-direction: column;
            gap: var(--space-2);
        }

        .document-list-item {
            background: white;
            border: 1px solid var(--border);
            border-radius: var(--radius-md);
            padding: var(--space-3);
            display: grid;
            grid-template-columns: auto 1fr auto auto auto;
            gap: var(--space-3);
            align-items: center;
            cursor: pointer;
            transition: all 0.2s;
        }

        .document-list-item:hover {
            border-color: var(--employee-primary);
            background: var(--surface);
        }

        /* ë¹ˆ ìƒíƒœ */
        .empty-state {
            text-align: center;
            padding: var(--space-8);
        }

        .empty-icon {
            font-size: 64px;
            margin-bottom: var(--space-3);
            opacity: 0.5;
        }

        .empty-title {
            font-size: var(--text-xl);
            font-weight: var(--font-bold);
            color: var(--text-primary);
            margin-bottom: var(--space-2);
        }

        .empty-desc {
            font-size: var(--text-sm);
            color: var(--text-secondary);
            margin-bottom: var(--space-4);
        }

        /* ë°˜ì‘í˜• */
        @media (max-width: 1024px) {
            .documents-layout {
                grid-template-columns: 1fr;
            }

            .folders-sidebar {
                display: none;
            }

            .documents-grid {
                grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
            }
        }

        @media (max-width: 768px) {
            .documents-grid {
                grid-template-columns: 1fr;
            }

            .header-actions {
                flex-direction: column;
                width: 100%;
            }
        }
    </style>
</head>

<body>
    <div id="app">
        <!-- Header -->
        <header class="header">
            <div class="header__left">
                <button id="menuToggle" class="header__icon-button hidden-desktop">
                    <span>â˜°</span>
                </button>
                <a href="dashboard.html" class="header__logo">
                    <span class="header__logo-icon">ğŸŒ±</span>
                    <span>GrowFit</span>
                </a>
            </div>

            <div class="header__right">
                <button id="notificationBtn" class="header__icon-button">
                    <span>ğŸ””</span>
                    <span class="header__badge">3</span>
                </button>

                <div id="profileBtn" class="header__profile">
                    <div class="header__avatar" style="background: linear-gradient(135deg, #10b981, #06b6d4);">ê¹€</div>
                    <span class="hidden-mobile">ê¹€ì§ì›</span>
                    <span class="hidden-mobile">â–¼</span>
                </div>
            </div>
        </header>

        <div class="container">
            <!-- Sidebar -->
            <aside class="sidebar sidebar--open">
                <div class="sidebar__user">
                    <div class="sidebar__user-info">
                        <div class="sidebar__user-avatar"
                            style="background: linear-gradient(135deg, #10b981, #06b6d4);">ê¹€</div>
                        <div class="sidebar__user-details">
                            <div class="sidebar__user-name">ê¹€ì§ì›</div>
                            <div class="sidebar__user-role">AI ì‹¤ìŠµìƒ</div>
                        </div>
                    </div>
                </div>

                <nav class="sidebar__nav">
                    <ul class="sidebar__menu">
                        <li class="sidebar__menu-item">
                            <a href="dashboard.html" class="sidebar__menu-link">
                                <span class="sidebar__menu-icon">ğŸ </span>
                                <span>ëŒ€ì‹œë³´ë“œ</span>
                            </a>
                        </li>
                        <li class="sidebar__menu-item">
                            <a href="practice.html" class="sidebar__menu-link">
                                <span class="sidebar__menu-icon">ğŸ’¬</span>
                                <span>AI ì‹¤ìŠµ</span>
                            </a>
                        </li>
                        <li class="sidebar__menu-item">
                            <a href="my-projects.html" class="sidebar__menu-link">
                                <span class="sidebar__menu-icon">ğŸ“</span>
                                <span>ë‚´ í”„ë¡œì íŠ¸</span>
                            </a>
                        </li>
                        <li class="sidebar__menu-item">
                            <a href="my-agents.html" class="sidebar__menu-link">
                                <span class="sidebar__menu-icon">ğŸ¤–</span>
                                <span>ë‚´ ì—ì´ì „íŠ¸</span>
                            </a>
                        </li>
                        <li class="sidebar__menu-item">
                            <a href="my-documents.html" class="sidebar__menu-link sidebar__menu-link--active">
                                <span class="sidebar__menu-icon">ğŸ“š</span>
                                <span>ë‚´ ë¬¸ì„œ</span>
                            </a>
                        </li>
                        <li class="sidebar__menu-item">
                            <a href="history.html" class="sidebar__menu-link">
                                <span class="sidebar__menu-icon">ğŸ“Š</span>
                                <span>ë‚´ ê¸°ë¡</span>
                            </a>
                        </li>
                        <li class="sidebar__menu-item">
                            <a href="profile.html" class="sidebar__menu-link">
                                <span class="sidebar__menu-icon">âš™ï¸</span>
                                <span>ì„¤ì •</span>
                            </a>
                        </li>
                    </ul>
                </nav>

                <div class="sidebar__footer">
                    <div
                        style="padding: var(--space-3); background: var(--surface); border-radius: var(--radius-md); font-size: var(--text-xs);">
                        <div style="color: var(--text-secondary); margin-bottom: var(--space-1);">ì €ì¥ ê³µê°„</div>
                        <div style="font-weight: var(--font-bold); color: var(--employee-primary);">2.3 GB / 10 GB</div>
                        <div
                            style="height: 4px; background: var(--gray-200); border-radius: 2px; margin-top: var(--space-2); overflow: hidden;">
                            <div style="height: 100%; width: 23%; background: var(--employee-primary);"></div>
                        </div>
                    </div>
                </div>
            </aside>

            <!-- Main Content -->
            <main class="main">
                <div class="documents-layout">
                    <!-- ì™¼ìª½: í´ë” íŠ¸ë¦¬ -->
                    <div class="folders-sidebar">
                        <div class="folders-header">
                            <h2 class="folders-title">ğŸ“‚ í´ë”</h2>
                            <button class="btn btn--sm btn--outline" onclick="createFolder()">
                                â•
                            </button>
                        </div>

                        <div class="folder-tree">
                            <div class="folder-item folder-item--active" onclick="selectFolder('all')">
                                <span class="folder-icon">ğŸ“</span>
                                <span>ëª¨ë“  ë¬¸ì„œ</span>
                                <span class="folder-count">24</span>
                            </div>

                            <div class="folder-item" onclick="selectFolder('recent')">
                                <span class="folder-icon">ğŸ•’</span>
                                <span>ìµœê·¼ ë¬¸ì„œ</span>
                                <span class="folder-count">8</span>
                            </div>

                            <div class="folder-item" onclick="selectFolder('favorites')">
                                <span class="folder-icon">â­</span>
                                <span>ï¿½ì¦ê²¨ì°¾ê¸°</span>
                                <span class="folder-count">5</span>
                            </div>

                            <div style="height: 1px; background: var(--border); margin: var(--space-3) 0;"></div>

                            <div class="folder-item" onclick="selectFolder('python')">
                                <span class="folder-icon">ğŸ</span>
                                <span>Python í•™ìŠµ</span>
                                <span class="folder-count">12</span>
                            </div>

                            <div class="folder-item" onclick="selectFolder('marketing')">
                                <span class="folder-icon">ğŸ“</span>
                                <span>ë§ˆì¼€íŒ… ìë£Œ</span>
                                <span class="folder-count">8</span>
                            </div>

                            <div class="folder-item" onclick="selectFolder('data')">
                                <span class="folder-icon">ğŸ“Š</span>
                                <span>ë°ì´í„° ë¶„ì„</span>
                                <span class="folder-count">4</span>
                            </div>
                        </div>
                    </div>

                    <!-- ì˜¤ë¥¸ìª½: ë¬¸ì„œ ê´€ë¦¬ -->
                    <div class="documents-main">
                        <div class="documents-header">
                            <div class="header-top">
                                <h1 class="header-title">ğŸ“š ë‚´ ë¬¸ì„œ</h1>
                                <div class="header-actions">
                                    <button class="btn btn--outline" onclick="openUploadModal()">
                                        ğŸ“¤ ì—…ë¡œë“œ
                                    </button>
                                    <button class="btn btn--primary" style="background: var(--employee-primary);" onclick="triggerFileUpload()">
                                        â• ë¬¸ì„œ ì¶”ê°€
                                    </button>
                                </div>
                            </div>

                            <div class="search-bar">
                                <input 
                                    type="text" 
                                    class="search-input" 
                                    placeholder="ğŸ” ë¬¸ì„œ ê²€ìƒ‰..."
                                    id="searchInput"
                                    onkeyup="searchDocuments(this.value)"
                                >
                                <select class="sort-select" onchange="sortDocuments(this.value)">
                                    <option value="recent">ìµœê·¼ ìˆ˜ì •ìˆœ</option>
                                    <option value="name">ì´ë¦„ìˆœ</option>
                                    <option value="size">í¬ê¸°ìˆœ</option>
                                    <option value="type">ìœ í˜•ìˆœ</option>
                                </select>
                            </div>
                        </div>

                        <!-- ì—…ë¡œë“œ ë“œë¡­ì¡´ -->
                        <div 
                            id="uploadDropzone" 
                            class="upload-dropzone" 
                            onclick="triggerFileUpload()"
                            ondragover="handleDragOver(event)"
                            ondragleave="handleDragLeave(event)"
                            ondrop="handleDrop(event)"
                        >
                            <div class="upload-icon">ğŸ“„</div>
                            <div class="upload-text">íŒŒì¼ì„ ë“œë˜ê·¸í•˜ê±°ë‚˜ í´ë¦­í•˜ì—¬ ì—…ë¡œë“œ</div>
                            <div class="upload-hint">AIê°€ ë¬¸ì„œë¥¼ ë¶„ì„í•˜ì—¬ ëŒ€í™”ì— í™œìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤</div>
                            <div class="upload-formats">
                                ì§€ì› í˜•ì‹: PDF, DOCX, TXT, XLSX, PPT, ì´ë¯¸ì§€ (ìµœëŒ€ 50MB)
                            </div>
                            <input 
                                type="file" 
                                id="fileInput" 
                                style="display: none;" 
                                multiple
                                accept=".pdf,.doc,.docx,.txt,.xlsx,.xls,.ppt,.pptx,.jpg,.jpeg,.png,.gif"
                                onchange="handleFileSelect(event)"
                            >
                        </div>

                        <div class="documents-content">
                            <!-- ë·° ì»¨íŠ¸ë¡¤ -->
                            <div class="view-controls">
                                <div class="view-tabs">
                                    <button class="view-tab view-tab--active" onclick="switchView('grid')">
                                        âŠ ê·¸ë¦¬ë“œ
                                    </button>
                                    <button class="view-tab" onclick="switchView('list')">
                                        â˜° ë¦¬ìŠ¤íŠ¸
                                    </button>
                                </div>
                            </div>

                            <!-- ê·¸ë¦¬ë“œ ë·° -->
                            <div id="documentsGrid" class="documents-grid">
                                <!-- PDF ë¬¸ì„œ -->
                                <div class="document-card" onclick="viewDocument('doc-1')">
                                    <button class="document-card__menu" onclick="event.stopPropagation(); openDocMenu('doc-1')">
                                        â‹®
                                    </button>
                                    
                                    <div class="document-card__header">
                                        <div class="document-icon document-icon--pdf">ğŸ“„</div>
                                        <div class="document-info">
                                            <div class="document-name">Python ê¸°ì´ˆ ê°€ì´ë“œ.pdf</div>
                                            <div class="document-meta">2.3 MB â€¢ 2ì‹œê°„ ì „</div>
                                        </div>
                                    </div>

                                    <div class="document-status">
                                        <div class="status-bar">
                                            <div class="status-indicator status-indicator--ready"></div>
                                            <span style="color: var(--employee-primary); font-weight: var(--font-semibold);">
                                                RAG ì¤€ë¹„ ì™„ë£Œ
                                            </span>
                                        </div>
                                    </div>

                                    <div class="document-tags">
                                        <span class="doc-tag">Python</span>
                                        <span class="doc-tag">êµìœ¡</span>
                                        <span class="doc-tag">í”„ë¡œê·¸ë˜ë°</span>
                                    </div>

                                    <div class="document-stats">
                                        <div class="stat-item">
                                            <div class="stat-value">156</div>
                                            <div class="stat-label">ì²­í¬</div>
                                        </div>
                                        <div class="stat-item">
                                            <div class="stat-value">23</div>
                                            <div class="stat-label">í™œìš© íšŸìˆ˜</div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Word ë¬¸ì„œ -->
                                <div class="document-card" onclick="viewDocument('doc-2')">
                                    <button class="document-card__menu" onclick="event.stopPropagation(); openDocMenu('doc-2')">
                                        â‹®
                                    </button>
                                    
                                    <div class="document-card__header">
                                        <div class="document-icon document-icon--doc">ğŸ“</div>
                                        <div class="document-info">
                                            <div class="document-name">ë§ˆì¼€íŒ… ì „ëµ ë³´ê³ ì„œ.docx</div>
                                            <div class="document-meta">1.8 MB â€¢ ì–´ì œ</div>
                                        </div>
                                    </div>

                                    <div class="document-status">
                                        <div class="status-bar">
                                            <div class="status-indicator status-indicator--ready"></div>
                                            <span style="color: var(--employee-primary); font-weight: var(--font-semibold);">
                                                RAG ì¤€ë¹„ ì™„ë£Œ
                                            </span>
                                        </div>
                                    </div>

                                    <div class="document-tags">
                                        <span class="doc-tag">ë§ˆì¼€íŒ…</span>
                                        <span class="doc-tag">ì „ëµ</span>
                                    </div>

                                    <div class="document-stats">
                                        <div class="stat-item">
                                            <div class="stat-value">89</div>
                                            <div class="stat-label">ì²­í¬</div>
                                        </div>
                                        <div class="stat-item">
                                            <div class="stat-value">12</div>
                                            <div class="stat-label">í™œìš© íšŸìˆ˜</div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Excel ë¬¸ì„œ -->
                                <div class="document-card" onclick="viewDocument('doc-3')">
                                    <button class="document-card__menu" onclick="event.stopPropagation(); openDocMenu('doc-3')">
                                        â‹®
                                    </button>
                                    
                                    <div class="document-card__header">
                                        <div class="document-icon document-icon--excel">ğŸ“Š</div>
                                        <div class="document-info">
                                            <div class="document-name">2024 íŒë§¤ ë°ì´í„°.xlsx</div>
                                            <div class="document-meta">856 KB â€¢ 3ì¼ ì „</div>
                                        </div>
                                    </div>

                                    <div class="document-status">
                                        <div class="status-bar">
                                            <div class="status-indicator status-indicator--processing"></div>
                                            <span style="color: var(--warning); font-weight: var(--font-semibold);">
                                                ì²˜ë¦¬ ì¤‘...
                                            </span>
                                        </div>
                                    </div>

                                    <div class="document-tags">
                                        <span class="doc-tag">ë°ì´í„°</span>
                                        <span class="doc-tag">íŒë§¤</span>
                                    </div>

                                    <div class="document-stats">
                                        <div class="stat-item">
                                            <div class="stat-value">-</div>
                                            <div class="stat-label">ì²­í¬</div>
                                        </div>
                                        <div class="stat-item">
                                            <div class="stat-value">0</div>
                                            <div class="stat-label">í™œìš© íšŸìˆ˜</div>
                                        </div>
                                    </div>
                                </div>

                                <!-- ì´ë¯¸ì§€ -->
                                <div class="document-card" onclick="viewDocument('doc-4')">
                                    <button class="document-card__menu" onclick="event.stopPropagation(); openDocMenu('doc-4')">
                                        â‹®
                                    </button>
                                    
                                    <div class="document-card__header">
                                        <div class="document-icon document-icon--image">ğŸ–¼ï¸</div>
                                        <div class="document-info">
                                            <div class="document-name">í”„ë¡œì íŠ¸ ë‹¤ì´ì–´ê·¸ë¨.png</div>
                                            <div class="document-meta">1.2 MB â€¢ 1ì£¼ì¼ ì „</div>
                                        </div>
                                    </div>

                                    <div class="document-status">
                                        <div class="status-bar">
                                            <div class="status-indicator status-indicator--ready"></div>
                                            <span style="color: var(--employee-primary); font-weight: var(--font-semibold);">
                                                RAG ì¤€ë¹„ ì™„ë£Œ
                                            </span>
                                        </div>
                                    </div>

                                    <div class="document-tags">
                                        <span class="doc-tag">ì´ë¯¸ì§€</span>
                                        <span class="doc-tag">ë‹¤ì´ì–´ê·¸ë¨</span>
                                    </div>

                                    <div class="document-stats">
                                        <div class="stat-item">
                                            <div class="stat-value">1</div>
                                            <div class="stat-label">ì´ë¯¸ì§€</div>
                                        </div>
                                        <div class="stat-item">
                                            <div class="stat-value">8</div>
                                            <div class="stat-label">í™œìš© íšŸìˆ˜</div>
                                        </div>
                                    </div>
                                </div>

                                <!-- TXT ë¬¸ì„œ -->
                                <div class="document-card" onclick="viewDocument('doc-5')">
                                    <button class="document-card__menu" onclick="event.stopPropagation(); openDocMenu('doc-5')">
                                        â‹®
                                    </button>
                                    
                                    <div class="document-card__header">
                                        <div class="document-icon document-icon--txt">ğŸ“ƒ</div>
                                        <div class="document-info">
                                            <div class="document-name">íšŒì˜ë¡_2024-10-09.txt</div>
                                            <div class="document-meta">45 KB â€¢ ì˜¤ëŠ˜</div>
                                        </div>
                                    </div>

                                    <div class="document-status">
                                        <div class="status-bar">
                                            <div class="status-indicator status-indicator--ready"></div>
                                            <span style="color: var(--employee-primary); font-weight: var(--font-semibold);">
                                                RAG ì¤€ë¹„ ì™„ë£Œ
                                            </span>
                                        </div>
                                    </div>

                                    <div class="document-tags">
                                        <span class="doc-tag">íšŒì˜ë¡</span>
                                        <span class="doc-tag">í…ìŠ¤íŠ¸</span>
                                    </div>

                                    <div class="document-stats">
                                        <div class="stat-item">
                                            <div class="stat-value">12</div>
                                            <div class="stat-label">ì²­í¬</div>
                                        </div>
                                        <div class="stat-item">
                                            <div class="stat-value">3</div>
                                            <div class="stat-label">í™œìš© íšŸìˆ˜</div>
                                        </div>
                                    </div>
                                </div>

                                <!-- PDF ë¬¸ì„œ 2 -->
                                <div class="document-card" onclick="viewDocument('doc-6')">
                                    <button class="document-card__menu" onclick="event.stopPropagation(); openDocMenu('doc-6')">
                                        â‹®
                                    </button>
                                    
                                    <div class="document-card__header">
                                        <div class="document-icon document-icon--pdf">ğŸ“„</div>
                                        <div class="document-info">
                                            <div class="document-name">ë°ì´í„° ë¶„ì„ ê°€ì´ë“œ.pdf</div>
                                            <div class="document-meta">3.5 MB â€¢ 2ì¼ ì „</div>
                                        </div>
                                    </div>

                                    <div class="document-status">
                                        <div class="status-bar">
                                            <div class="status-indicator status-indicator--ready"></div>
                                            <span style="color: var(--employee-primary); font-weight: var(--font-semibold);">
                                                RAG ì¤€ë¹„ ì™„ë£Œ
                                            </span>
                                        </div>
                                    </div>

                                    <div class="document-tags">
                                        <span class="doc-tag">ë°ì´í„°</span>
                                        <span class="doc-tag">ë¶„ì„</span>
                                        <span class="doc-tag">ê°€ì´ë“œ</span>
                                    </div>

                                    <div class="document-stats">
                                        <div class="stat-item">
                                            <div class="stat-value">234</div>
                                            <div class="stat-label">ì²­í¬</div>
                                        </div>
                                        <div class="stat-item">
                                            <div class="stat-value">15</div>
                                            <div class="stat-label">í™œìš© íšŸìˆ˜</div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- ë¦¬ìŠ¤íŠ¸ ë·° (ìˆ¨ê¹€) -->
                            <div id="documentsList" class="documents-list" style="display: none;">
                                <!-- JavaScriptë¡œ ë™ì  ìƒì„± -->
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <!-- ê³µí†µ ìŠ¤í¬ë¦½íŠ¸ -->
    <script src="../common/layout.js"></script>
    <script src="../common/utils.js"></script>

    <!-- í˜ì´ì§€ ì „ìš© ìŠ¤í¬ë¦½íŠ¸ -->
    <script>
        // ========== Documents ì „ìš© ë¡œì§ ==========

        // ì „ì—­ ë³€ìˆ˜
        let currentFolder = 'all';
        let currentView = 'grid';
        let uploadQueue = [];

        // ë¬¸ì„œ ë°ì´í„° (ì‹œë®¬ë ˆì´ì…˜)
        const documentsData = [
            {
                id: 'doc-1',
                name: 'Python ê¸°ì´ˆ ê°€ì´ë“œ.pdf',
                type: 'pdf',
                size: 2.3 * 1024 * 1024, // bytes
                uploadedAt: new Date(Date.now() - 2 * 60 * 60 * 1000), // 2ì‹œê°„ ì „
                folder: 'python',
                status: 'ready',
                chunks: 156,
                usageCount: 23,
                tags: ['Python', 'êµìœ¡', 'í”„ë¡œê·¸ë˜ë°']
            },
            {
                id: 'doc-2',
                name: 'ë§ˆì¼€íŒ… ì „ëµ ë³´ê³ ì„œ.docx',
                type: 'doc',
                size: 1.8 * 1024 * 1024,
                uploadedAt: new Date(Date.now() - 24 * 60 * 60 * 1000), // 1ì¼ ì „
                folder: 'marketing',
                status: 'ready',
                chunks: 89,
                usageCount: 12,
                tags: ['ë§ˆì¼€íŒ…', 'ì „ëµ']
            },
            {
                id: 'doc-3',
                name: '2024 íŒë§¤ ë°ì´í„°.xlsx',
                type: 'excel',
                size: 856 * 1024,
                uploadedAt: new Date(Date.now() - 3 * 24 * 60 * 60 * 1000), // 3ì¼ ì „
                folder: 'data',
                status: 'processing',
                chunks: 0,
                usageCount: 0,
                tags: ['ë°ì´í„°', 'íŒë§¤']
            },
            {
                id: 'doc-4',
                name: 'í”„ë¡œì íŠ¸ ë‹¤ì´ì–´ê·¸ë¨.png',
                type: 'image',
                size: 1.2 * 1024 * 1024,
                uploadedAt: new Date(Date.now() - 7 * 24 * 60 * 60 * 1000), // 1ì£¼ì¼ ì „
                folder: 'python',
                status: 'ready',
                chunks: 1,
                usageCount: 8,
                tags: ['ì´ë¯¸ì§€', 'ë‹¤ì´ì–´ê·¸ë¨']
            },
            {
                id: 'doc-5',
                name: 'íšŒì˜ë¡_2024-10-09.txt',
                type: 'txt',
                size: 45 * 1024,
                uploadedAt: new Date(),
                folder: 'all',
                status: 'ready',
                chunks: 12,
                usageCount: 3,
                tags: ['íšŒì˜ë¡', 'í…ìŠ¤íŠ¸']
            },
            {
                id: 'doc-6',
                name: 'ë°ì´í„° ë¶„ì„ ê°€ì´ë“œ.pdf',
                type: 'pdf',
                size: 3.5 * 1024 * 1024,
                uploadedAt: new Date(Date.now() - 2 * 24 * 60 * 60 * 1000), // 2ì¼ ì „
                folder: 'data',
                status: 'ready',
                chunks: 234,
                usageCount: 15,
                tags: ['ë°ì´í„°', 'ë¶„ì„', 'ê°€ì´ë“œ']
            }
        ];

        // ========== ì´ˆê¸°í™” ==========
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Documents í˜ì´ì§€ ì´ˆê¸°í™”');
            
            initializeDocuments();
            setupEventListeners();
        });

        function initializeDocuments() {
            // ë“œë˜ê·¸ ì•¤ ë“œë¡­ ì„¤ì •
            setupDragAndDrop();
            
            // ì¹´ë“œ ì• ë‹ˆë©”ì´ì…˜
            animateCards();
        }

        function setupEventListeners() {
            // íŒŒì¼ ì…ë ¥ ë³€ê²½ ê°ì§€
            const fileInput = document.getElementById('fileInput');
            if (fileInput) {
                fileInput.addEventListener('change', handleFileSelect);
            }
        }

        function animateCards() {
            const cards = document.querySelectorAll('.document-card');
            cards.forEach((card, index) => {
                card.style.opacity = '0';
                card.style.transform = 'translateY(20px)';
                
                setTimeout(() => {
                    card.style.transition = 'all 0.3s ease-out';
                    card.style.opacity = '1';
                    card.style.transform = 'translateY(0)';
                }, index * 50);
            });
        }

        // ========== í´ë” ì„ íƒ ==========
        function selectFolder(folderId) {
            currentFolder = folderId;

            // í´ë” ì•„ì´í…œ í™œì„±í™” ìƒíƒœ ì—…ë°ì´íŠ¸
            document.querySelectorAll('.folder-item').forEach(item => {
                item.classList.remove('folder-item--active');
            });
            event.target.closest('.folder-item').classList.add('folder-item--active');

            // ë¬¸ì„œ í•„í„°ë§
            filterDocuments();

            console.log('í´ë” ì„ íƒ:', folderId);
        }

        function filterDocuments() {
            const cards = document.querySelectorAll('.document-card');
            
            cards.forEach(card => {
                const docId = card.getAttribute('onclick').match(/'([^']+)'/)[1];
                const doc = documentsData.find(d => d.id === docId);
                
                if (!doc) return;

                let show = false;
                if (currentFolder === 'all') {
                    show = true;
                } else if (currentFolder === 'recent') {
                    const daysSinceUpload = (Date.now() - doc.uploadedAt) / (1000 * 60 * 60 * 24);
                    show = daysSinceUpload <= 7;
                } else if (currentFolder === 'favorites') {
                    // ì¦ê²¨ì°¾ê¸° ë¡œì§ (ì‹œë®¬ë ˆì´ì…˜)
                    show = doc.usageCount > 10;
                } else {
                    show = doc.folder === currentFolder;
                }

                card.style.display = show ? 'block' : 'none';
            });
        }

        // ========== ë·° ì „í™˜ ==========
        function switchView(view) {
            currentView = view;

            const gridView = document.getElementById('documentsGrid');
            const listView = document.getElementById('documentsList');
            const viewTabs = document.querySelectorAll('.view-tab');

            viewTabs.forEach(tab => tab.classList.remove('view-tab--active'));
            event.target.classList.add('view-tab--active');

            if (view === 'grid') {
                gridView.style.display = 'grid';
                listView.style.display = 'none';
            } else {
                gridView.style.display = 'none';
                listView.style.display = 'flex';
                renderListView();
            }

            window.GrowFitUtils.showToast(
                `${view === 'grid' ? 'ê·¸ë¦¬ë“œ' : 'ë¦¬ìŠ¤íŠ¸'} ë·°ë¡œ ì „í™˜í–ˆìŠµë‹ˆë‹¤`,
                'info'
            );
        }

        function renderListView() {
            const listView = document.getElementById('documentsList');
            
            listView.innerHTML = documentsData.map(doc => `
                <div class="document-list-item" onclick="viewDocument('${doc.id}')">
                    <div class="document-icon document-icon--${doc.type}" style="width: 40px; height: 40px; font-size: 20px;">
                        ${getDocumentIcon(doc.type)}
                    </div>
                    <div>
                        <div style="font-weight: var(--font-semibold); margin-bottom: 4px;">${doc.name}</div>
                        <div style="font-size: var(--text-xs); color: var(--text-secondary);">
                            ${formatFileSize(doc.size)} â€¢ ${formatDate(doc.uploadedAt)}
                        </div>
                    </div>
                    <div style="text-align: center;">
                        <div style="font-weight: var(--font-bold); color: var(--employee-primary);">${doc.chunks}</div>
                        <div style="font-size: var(--text-xs); color: var(--text-secondary);">ì²­í¬</div>
                    </div>
                    <div style="text-align: center;">
                        <div style="font-weight: var(--font-bold); color: var(--employee-primary);">${doc.usageCount}</div>
                        <div style="font-size: var(--text-xs); color: var(--text-secondary);">í™œìš©</div>
                    </div>
                    <div>
                        <span class="session-badge ${doc.status === 'ready' ? 'session-badge--active' : ''}" style="font-size: var(--text-xs);">
                            ${doc.status === 'ready' ? 'ì¤€ë¹„ë¨' : 'ì²˜ë¦¬ ì¤‘'}
                        </span>
                    </div>
                </div>
            `).join('');
        }

        // ========== íŒŒì¼ ì—…ë¡œë“œ ==========
        function triggerFileUpload() {
            document.getElementById('fileInput').click();
        }

        function handleFileSelect(event) {
            const files = event.target.files;
            if (files.length === 0) return;

            Array.from(files).forEach(file => {
                uploadFile(file);
            });

            // ì…ë ¥ ì´ˆê¸°í™”
            event.target.value = '';
        }

        function uploadFile(file) {
            // íŒŒì¼ í¬ê¸° ê²€ì¦ (50MB)
            const maxSize = 50 * 1024 * 1024;
            if (file.size > maxSize) {
                window.GrowFitUtils.showToast(
                    `íŒŒì¼ì´ ë„ˆë¬´ í½ë‹ˆë‹¤ (ìµœëŒ€ 50MB): ${file.name}`,
                    'error'
                );
                return;
            }

            // íŒŒì¼ ìœ í˜• ê²€ì¦
            const allowedTypes = ['pdf', 'doc', 'docx', 'txt', 'xlsx', 'xls', 'ppt', 'pptx', 'jpg', 'jpeg', 'png', 'gif'];
            const extension = file.name.split('.').pop().toLowerCase();
            
            if (!allowedTypes.includes(extension)) {
                window.GrowFitUtils.showToast(
                    `ì§€ì›í•˜ì§€ ì•ŠëŠ” íŒŒì¼ í˜•ì‹ì…ë‹ˆë‹¤: ${file.name}`,
                    'error'
                );
                return;
            }

            // ì—…ë¡œë“œ ì‹œë®¬ë ˆì´ì…˜
            const fileId = `doc-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;
            
            window.GrowFitUtils.showToast(
                `"${file.name}" ì—…ë¡œë“œ ì¤‘...`,
                'info'
            );

            // í”„ë¡œê·¸ë ˆìŠ¤ í‘œì‹œ (ì‹¤ì œë¡œëŠ” XMLHttpRequest ë˜ëŠ” FormData ì‚¬ìš©)
            simulateUpload(file, fileId);
        }

        function simulateUpload(file, fileId) {
            // ì‹¤ì œë¡œëŠ” ì„œë²„ë¡œ íŒŒì¼ ì „ì†¡
            setTimeout(() => {
                // ì—…ë¡œë“œ ì™„ë£Œ
                window.GrowFitUtils.showToast(
                    `"${file.name}" ì—…ë¡œë“œ ì™„ë£Œ`,
                    'success'
                );

                // ì„ë² ë”© ì²˜ë¦¬ ì‹œì‘
                setTimeout(() => {
                    window.GrowFitUtils.showToast(
                        `"${file.name}" RAG ì²˜ë¦¬ ì¤‘...`,
                        'info'
                    );

                    // ì„ë² ë”© ì™„ë£Œ
                    setTimeout(() => {
                        window.GrowFitUtils.showToast(
                            `"${file.name}" RAG ì¤€ë¹„ ì™„ë£Œ! AI ëŒ€í™”ì— í™œìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.`,
                            'success'
                        );

                        // ë¬¸ì„œ ëª©ë¡ì— ì¶”ê°€
                        addDocumentToList(file, fileId);
                    }, 3000);
                }, 1000);
            }, 2000);
        }

        function addDocumentToList(file, fileId) {
            const newDoc = {
                id: fileId,
                name: file.name,
                type: getFileType(file.name),
                size: file.size,
                uploadedAt: new Date(),
                folder: currentFolder === 'all' ? 'python' : currentFolder,
                status: 'ready',
                chunks: Math.floor(Math.random() * 200) + 50,
                usageCount: 0,
                tags: []
            };

            documentsData.unshift(newDoc);

            // UI ì—…ë°ì´íŠ¸ (ì‹¤ì œë¡œëŠ” ë™ì ìœ¼ë¡œ ì¹´ë“œ ì¶”ê°€)
            console.log('ìƒˆ ë¬¸ì„œ ì¶”ê°€:', newDoc);
        }

        // ========== ë“œë˜ê·¸ ì•¤ ë“œë¡­ ==========
        function setupDragAndDrop() {
            const dropzone = document.getElementById('uploadDropzone');
            
            ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
                dropzone.addEventListener(eventName, preventDefaults, false);
            });

            function preventDefaults(e) {
                e.preventDefault();
                e.stopPropagation();
            }
        }

        function handleDragOver(event) {
            event.preventDefault();
            event.currentTarget.classList.add('upload-dropzone--active');
        }

        function handleDragLeave(event) {
            event.preventDefault();
            event.currentTarget.classList.remove('upload-dropzone--active');
        }

        function handleDrop(event) {
            event.preventDefault();
            event.currentTarget.classList.remove('upload-dropzone--active');

            const files = event.dataTransfer.files;
            Array.from(files).forEach(file => {
                uploadFile(file);
            });
        }

        // ========== ë¬¸ì„œ ë³´ê¸° ==========
        function viewDocument(docId) {
            const doc = documentsData.find(d => d.id === docId);
            if (!doc) return;

            const info = `
ë¬¸ì„œ ìƒì„¸ ì •ë³´

ğŸ“„ íŒŒì¼ëª…: ${doc.name}
ğŸ“ í¬ê¸°: ${formatFileSize(doc.size)}
ğŸ“… ì—…ë¡œë“œ: ${formatDate(doc.uploadedAt)}
ğŸ“ í´ë”: ${doc.folder}

ğŸ¤– RAG ì •ë³´:
- ìƒíƒœ: ${doc.status === 'ready' ? 'âœ“ ì¤€ë¹„ ì™„ë£Œ' : 'â³ ì²˜ë¦¬ ì¤‘'}
- ì²­í¬ ìˆ˜: ${doc.chunks}ê°œ
- í™œìš© íšŸìˆ˜: ${doc.usageCount}íšŒ

ğŸ·ï¸ íƒœê·¸:
${doc.tags.join(', ')}

ğŸ’¡ ì´ ë¬¸ì„œëŠ” AI ëŒ€í™”ì—ì„œ ìë™ìœ¼ë¡œ ì°¸ì¡°ë©ë‹ˆë‹¤.
            `.trim();

            alert(info);
        }

        // ========== ë¬¸ì„œ ë©”ë‰´ ==========
        function openDocMenu(docId) {
            const actions = [
                '1. ğŸ‘ï¸ ë¯¸ë¦¬ë³´ê¸°',
                '2. ğŸ’¬ AIì™€ ëŒ€í™”í•˜ê¸°',
                '3. âœï¸ ì´ë¦„ ë³€ê²½',
                '4. ğŸ·ï¸ íƒœê·¸ í¸ì§‘',
                '5. ğŸ“ í´ë” ì´ë™',
                '6. ğŸ“¥ ë‹¤ìš´ë¡œë“œ',
                '7. ğŸ”„ ì¬ì²˜ë¦¬',
                '8. ğŸ—‘ï¸ ì‚­ì œ',
                '',
                'ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”:'
            ].join('\n');

            const choice = prompt(actions);

            if (choice) {
                switch(choice) {
                    case '1':
                        previewDocument(docId);
                        break;
                    case '2':
                        chatWithDocument(docId);
                        break;
                    case '3':
                        renameDocument(docId);
                        break;
                    case '4':
                        editTags(docId);
                        break;
                    case '5':
                        moveDocument(docId);
                        break;
                    case '6':
                        downloadDocument(docId);
                        break;
                    case '7':
                        reprocessDocument(docId);
                        break;
                    case '8':
                        deleteDocument(docId);
                        break;
                }
            }
        }

        function previewDocument(docId) {
            const doc = documentsData.find(d => d.id === docId);
            if (!doc) return;

            window.GrowFitUtils.showToast('ë¬¸ì„œ ë¯¸ë¦¬ë³´ê¸°ë¥¼ ì—¬ëŠ” ì¤‘...', 'info');
            
            // ì‹¤ì œë¡œëŠ” ë¬¸ì„œ ë·°ì–´ ëª¨ë‹¬ í‘œì‹œ
            setTimeout(() => {
                alert(`${doc.name}\n\në¯¸ë¦¬ë³´ê¸° ê¸°ëŠ¥ì€ ê°œë°œ ì¤‘ì…ë‹ˆë‹¤.`);
            }, 500);
        }

        function chatWithDocument(docId) {
            const doc = documentsData.find(d => d.id === docId);
            if (!doc) return;

            if (doc.status !== 'ready') {
                window.GrowFitUtils.showToast('ë¬¸ì„œê°€ ì•„ì§ ì²˜ë¦¬ ì¤‘ì…ë‹ˆë‹¤', 'warning');
                return;
            }

            // AI ì‹¤ìŠµ í˜ì´ì§€ë¡œ ì´ë™í•˜ë©° ë¬¸ì„œ ì»¨í…ìŠ¤íŠ¸ ì „ë‹¬
            window.GrowFitUtils.showToast('AI ëŒ€í™” ì‹œì‘...', 'info');
            
            setTimeout(() => {
                location.href = `practice.html?doc=${docId}`;
            }, 500);
        }

        function renameDocument(docId) {
            const doc = documentsData.find(d => d.id === docId);
            if (!doc) return;

            const newName = prompt('ìƒˆ íŒŒì¼ëª…ì„ ì…ë ¥í•˜ì„¸ìš”:', doc.name);
            
            if (newName && newName.trim() && newName !== doc.name) {
                doc.name = newName.trim();
                window.GrowFitUtils.showToast('íŒŒì¼ëª…ì´ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤', 'success');
                // UI ì—…ë°ì´íŠ¸
            }
        }

        function editTags(docId) {
            const doc = documentsData.find(d => d.id === docId);
            if (!doc) return;

            const currentTags = doc.tags.join(', ');
            const newTags = prompt('íƒœê·¸ë¥¼ ì…ë ¥í•˜ì„¸ìš” (ì‰¼í‘œë¡œ êµ¬ë¶„):', currentTags);
            
            if (newTags !== null) {
                doc.tags = newTags.split(',').map(tag => tag.trim()).filter(tag => tag);
                window.GrowFitUtils.showToast('íƒœê·¸ê°€ ì—…ë°ì´íŠ¸ë˜ì—ˆìŠµë‹ˆë‹¤', 'success');
                // UI ì—…ë°ì´íŠ¸
            }
        }

        function moveDocument(docId) {
            const doc = documentsData.find(d => d.id === docId);
            if (!doc) return;

            const folders = ['python', 'marketing', 'data'];
            const choice = prompt(`í´ë” ì„ íƒ:\n1. Python í•™ìŠµ\n2. ë§ˆì¼€íŒ… ìë£Œ\n3. ë°ì´í„° ë¶„ì„\n\në²ˆí˜¸ ì…ë ¥:`);
            
            if (choice && ['1', '2', '3'].includes(choice)) {
                const folderMap = { '1': 'python', '2': 'marketing', '3': 'data' };
                doc.folder = folderMap[choice];
                window.GrowFitUtils.showToast('ë¬¸ì„œê°€ ì´ë™ë˜ì—ˆìŠµë‹ˆë‹¤', 'success');
                filterDocuments();
            }
        }

        function downloadDocument(docId) {
            const doc = documentsData.find(d => d.id === docId);
            if (!doc) return;

            window.GrowFitUtils.showToast(`"${doc.name}" ë‹¤ìš´ë¡œë“œ ì¤‘...`, 'info');
            
            // ì‹¤ì œë¡œëŠ” íŒŒì¼ ë‹¤ìš´ë¡œë“œ ì²˜ë¦¬
            console.log('ë¬¸ì„œ ë‹¤ìš´ë¡œë“œ:', docId);
        }

        function reprocessDocument(docId) {
            const doc = documentsData.find(d => d.id === docId);
            if (!doc) return;

            if (confirm(`"${doc.name}"ì„(ë¥¼) ë‹¤ì‹œ ì²˜ë¦¬í•˜ì‹œê² ìŠµë‹ˆê¹Œ?\n\nRAG ì„ë² ë”©ì´ ì¬ìƒì„±ë©ë‹ˆë‹¤.`)) {
                doc.status = 'processing';
                window.GrowFitUtils.showToast('ë¬¸ì„œ ì¬ì²˜ë¦¬ ì¤‘...', 'info');
                
                // ì²˜ë¦¬ ì‹œë®¬ë ˆì´ì…˜
                setTimeout(() => {
                    doc.status = 'ready';
                    window.GrowFitUtils.showToast('ì¬ì²˜ë¦¬ê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤', 'success');
                    // UI ì—…ë°ì´íŠ¸
                }, 3000);
            }
        }

        function deleteDocument(docId) {
            const doc = documentsData.find(d => d.id === docId);
            if (!doc) return;

            if (confirm(`"${doc.name}"ì„(ë¥¼) ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?\n\nì´ ì‘ì—…ì€ ë˜ëŒë¦´ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.`)) {
                const index = documentsData.findIndex(d => d.id === docId);
                if (index > -1) {
                    documentsData.splice(index, 1);
                    window.GrowFitUtils.showToast('ë¬¸ì„œê°€ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤', 'success');
                    
                    // UIì—ì„œ ì œê±°
                    const card = document.querySelector(`[onclick*="${docId}"]`);
                    if (card) {
                        card.style.transition = 'all 0.3s';
                        card.style.opacity = '0';
                        card.style.transform = 'scale(0.9)';
                        setTimeout(() => card.remove(), 300);
                    }
                }
            }
        }

        // ========== ê²€ìƒ‰ ==========
        function searchDocuments(query) {
            const cards = document.querySelectorAll('.document-card');
            const lowerQuery = query.toLowerCase();

            cards.forEach(card => {
                const nameEl = card.querySelector('.document-name');
                if (!nameEl) return;

                const name = nameEl.textContent.toLowerCase();
                const tagsEls = card.querySelectorAll('.doc-tag');
                const tags = Array.from(tagsEls).map(el => el.textContent.toLowerCase());

                const matches = name.includes(lowerQuery) || 
                               tags.some(tag => tag.includes(lowerQuery));

                card.style.display = matches ? 'block' : 'none';
            });

            if (query) {
                console.log(`"${query}" ê²€ìƒ‰ ê²°ê³¼`);
            } else {
                // ê²€ìƒ‰ì–´ ì—†ìœ¼ë©´ í˜„ì¬ í´ë” í•„í„° ì ìš©
                filterDocuments();
            }
        }

        // ========== ì •ë ¬ ==========
        function sortDocuments(sortBy) {
            console.log('ì •ë ¬ ê¸°ì¤€:', sortBy);

            // ì‹¤ì œë¡œëŠ” ë°ì´í„° ì •ë ¬ í›„ UI ì¬ë Œë”ë§
            window.GrowFitUtils.showToast(`${sortBy} ê¸°ì¤€ìœ¼ë¡œ ì •ë ¬í–ˆìŠµë‹ˆë‹¤`, 'info');
        }

        // ========== í´ë” ìƒì„± ==========
        function createFolder() {
            const folderName = prompt('ìƒˆ í´ë” ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”:');
            
            if (folderName && folderName.trim()) {
                console.log('ìƒˆ í´ë” ìƒì„±:', folderName);
                window.GrowFitUtils.showToast(`"${folderName}" í´ë”ê°€ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤`, 'success');
                
                // ì‹¤ì œë¡œëŠ” í´ë” ëª©ë¡ì— ì¶”ê°€
            }
        }

        // ========== ì—…ë¡œë“œ ëª¨ë‹¬ ==========
        function openUploadModal() {
            // ê³ ê¸‰ ì—…ë¡œë“œ ì˜µì…˜ ëª¨ë‹¬
            const options = `
ê³ ê¸‰ ì—…ë¡œë“œ ì˜µì…˜

1. ğŸ“ í´ë” ì„ íƒ
2. ğŸ·ï¸ íƒœê·¸ ìë™ ì¶”ê°€
3. ğŸ¤– RAG ì„¤ì •
4. ğŸ“Š ì²˜ë¦¬ ìš°ì„ ìˆœìœ„

í˜„ì¬ëŠ” ê¸°ë³¸ ì—…ë¡œë“œë§Œ ì§€ì›ë©ë‹ˆë‹¤.
            `.trim();

            alert(options);
            triggerFileUpload();
        }

        // ========== ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ ==========
        function formatFileSize(bytes) {
            if (bytes === 0) return '0 Bytes';
            
            const k = 1024;
            const sizes = ['Bytes', 'KB', 'MB', 'GB'];
            const i = Math.floor(Math.log(bytes) / Math.log(k));
            
            return Math.round(bytes / Math.pow(k, i) * 100) / 100 + ' ' + sizes[i];
        }

        function formatDate(date) {
            const now = new Date();
            const diff = now - date;
            const seconds = Math.floor(diff / 1000);
            const minutes = Math.floor(seconds / 60);
            const hours = Math.floor(minutes / 60);
            const days = Math.floor(hours / 24);

            if (seconds < 60) return 'ë°©ê¸ˆ';
            if (minutes < 60) return `${minutes}ë¶„ ì „`;
            if (hours < 24) return `${hours}ì‹œê°„ ì „`;
            if (days === 1) return 'ì–´ì œ';
            if (days < 7) return `${days}ì¼ ì „`;
            if (days < 30) return `${Math.floor(days / 7)}ì£¼ì¼ ì „`;
            
            return date.toLocaleDateString('ko-KR');
        }

        function getFileType(filename) {
            const extension = filename.split('.').pop().toLowerCase();
            
            if (['pdf'].includes(extension)) return 'pdf';
            if (['doc', 'docx'].includes(extension)) return 'doc';
            if (['xls', 'xlsx'].includes(extension)) return 'excel';
            if (['ppt', 'pptx'].includes(extension)) return 'ppt';
            if (['jpg', 'jpeg', 'png', 'gif'].includes(extension)) return 'image';
            if (['txt'].includes(extension)) return 'txt';
            
            return 'file';
        }

        function getDocumentIcon(type) {
            const icons = {
                'pdf': 'ğŸ“„',
                'doc': 'ğŸ“',
                'excel': 'ğŸ“Š',
                'ppt': 'ğŸ“Š',
                'image': 'ğŸ–¼ï¸',
                'txt': 'ğŸ“ƒ',
                'file': 'ğŸ“„'
            };
            
            return icons[type] || 'ğŸ“„';
        }

        // ========== ì¼ê´„ ì‘ì—… ==========
        function selectAllDocuments() {
            console.log('ëª¨ë“  ë¬¸ì„œ ì„ íƒ');
            window.GrowFitUtils.showToast('ëª¨ë“  ë¬¸ì„œê°€ ì„ íƒë˜ì—ˆìŠµë‹ˆë‹¤', 'info');
        }

        function bulkDelete() {
            if (confirm('ì„ íƒí•œ ë¬¸ì„œë¥¼ ëª¨ë‘ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                window.GrowFitUtils.showToast('ë¬¸ì„œê°€ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤', 'success');
            }
        }

        function bulkMove() {
            const choice = prompt('ì´ë™í•  í´ë”:\n1. Python í•™ìŠµ\n2. ë§ˆì¼€íŒ… ìë£Œ\n3. ë°ì´í„° ë¶„ì„');
            
            if (choice) {
                window.GrowFitUtils.showToast('ë¬¸ì„œê°€ ì´ë™ë˜ì—ˆìŠµë‹ˆë‹¤', 'success');
            }
        }

        function bulkTag() {
            const tags = prompt('ì¶”ê°€í•  íƒœê·¸ (ì‰¼í‘œë¡œ êµ¬ë¶„):');
            
            if (tags && tags.trim()) {
                window.GrowFitUtils.showToast('íƒœê·¸ê°€ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤', 'success');
            }
        }

        // ========== RAG ì„¤ì • ==========
        function configureRAG(docId) {
            const doc = documentsData.find(d => d.id === docId);
            if (!doc) return;

            const config = `
RAG ì„¤ì •: ${doc.name}

í˜„ì¬ ì„¤ì •:
- ì²­í¬ í¬ê¸°: 512 í† í°
- ì˜¤ë²„ë©: 50 í† í°
- ì„ë² ë”© ëª¨ë¸: text-embedding-3-small
- ê²€ìƒ‰ ë°©ì‹: ì˜ë¯¸ì  ìœ ì‚¬ë„

ê³ ê¸‰ ì„¤ì •:
1. ì²­í¬ í¬ê¸° ì¡°ì •
2. ì„ë² ë”© ëª¨ë¸ ë³€ê²½
3. ê²€ìƒ‰ ì•Œê³ ë¦¬ì¦˜ ì„¤ì •
4. ë©”íƒ€ë°ì´í„° ì¶”ê°€

ì„¤ì •ì„ ë³€ê²½í•˜ì‹œê² ìŠµë‹ˆê¹Œ?
            `.trim();

            if (confirm(config)) {
                window.GrowFitUtils.showToast('RAG ì„¤ì •ì´ ì—…ë°ì´íŠ¸ë˜ì—ˆìŠµë‹ˆë‹¤', 'success');
            }
        }

        // ========== ë¬¸ì„œ í†µê³„ ==========
        function showDocumentStats() {
            const totalDocs = documentsData.length;
            const totalSize = documentsData.reduce((sum, doc) => sum + doc.size, 0);
            const readyDocs = documentsData.filter(d => d.status === 'ready').length;
            const totalChunks = documentsData.reduce((sum, doc) => sum + doc.chunks, 0);
            const totalUsage = documentsData.reduce((sum, doc) => sum + doc.usageCount, 0);

            const stats = `
ğŸ“Š ë¬¸ì„œ í†µê³„

ğŸ“„ ë¬¸ì„œ í˜„í™©:
- ì „ì²´ ë¬¸ì„œ: ${totalDocs}ê°œ
- RAG ì¤€ë¹„: ${readyDocs}ê°œ
- ì²˜ë¦¬ ì¤‘: ${totalDocs - readyDocs}ê°œ

ğŸ’¾ ì €ì¥ ê³µê°„:
- ì‚¬ìš© ì¤‘: ${formatFileSize(totalSize)}
- ì „ì²´: 10 GB
- ì‚¬ìš©ë¥ : ${Math.round(totalSize / (10 * 1024 * 1024 * 1024) * 100)}%

ğŸ¤– RAG ì •ë³´:
- ì´ ì²­í¬: ${totalChunks}ê°œ
- ì´ í™œìš©: ${totalUsage}íšŒ
- í‰ê·  í™œìš©: ${Math.round(totalUsage / totalDocs)}íšŒ/ë¬¸ì„œ

ğŸ“ˆ ìœ í˜•ë³„:
- PDF: ${documentsData.filter(d => d.type === 'pdf').length}ê°œ
- Word: ${documentsData.filter(d => d.type === 'doc').length}ê°œ
- Excel: ${documentsData.filter(d => d.type === 'excel').length}ê°œ
- ì´ë¯¸ì§€: ${documentsData.filter(d => d.type === 'image').length}ê°œ
- ê¸°íƒ€: ${documentsData.filter(d => !['pdf', 'doc', 'excel', 'image'].includes(d.type)).length}ê°œ
            `.trim();

            alert(stats);
        }

        // ========== ë¬¸ì„œ ë‚´ë³´ë‚´ê¸° ==========
        function exportDocumentList() {
            const exportData = {
                exportDate: new Date().toISOString(),
                totalDocuments: documentsData.length,
                documents: documentsData.map(doc => ({
                    name: doc.name,
                    type: doc.type,
                    size: doc.size,
                    uploadedAt: doc.uploadedAt.toISOString(),
                    folder: doc.folder,
                    status: doc.status,
                    chunks: doc.chunks,
                    usageCount: doc.usageCount,
                    tags: doc.tags
                }))
            };

            const dataStr = JSON.stringify(exportData, null, 2);
            const dataBlob = new Blob([dataStr], { type: 'application/json' });
            const url = URL.createObjectURL(dataBlob);
            const link = document.createElement('a');
            link.href = url;
            link.download = `documents_${Date.now()}.json`;
            link.click();
            URL.revokeObjectURL(url);

            window.GrowFitUtils.showToast('ë¬¸ì„œ ëª©ë¡ì´ ë‚´ë³´ë‚´ì¡ŒìŠµë‹ˆë‹¤', 'success');
        }

        // ========== ë¬¸ì„œ ê°€ì ¸ì˜¤ê¸° ==========
        function importDocumentList() {
            window.GrowFitUtils.showToast('ë¬¸ì„œ ê°€ì ¸ì˜¤ê¸° ê¸°ëŠ¥ì€ ê°œë°œ ì¤‘ì…ë‹ˆë‹¤', 'info');
        }

        // ========== ìë™ íƒœê·¸ ìƒì„± ==========
        function autoTagDocument(docId) {
            const doc = documentsData.find(d => d.id === docId);
            if (!doc) return;

            window.GrowFitUtils.showToast('AIê°€ íƒœê·¸ë¥¼ ìƒì„±í•˜ëŠ” ì¤‘...', 'info');

            // AI ë¶„ì„ ì‹œë®¬ë ˆì´ì…˜
            setTimeout(() => {
                const suggestedTags = [
                    'AI ìƒì„±',
                    'ìë™ ë¶„ë¥˜',
                    doc.name.includes('Python') ? 'Python' : null,
                    doc.name.includes('ë§ˆì¼€íŒ…') ? 'ë§ˆì¼€íŒ…' : null,
                    doc.name.includes('ë°ì´í„°') ? 'ë°ì´í„°' : null
                ].filter(tag => tag);

                doc.tags = [...new Set([...doc.tags, ...suggestedTags])];

                window.GrowFitUtils.showToast(
                    `${suggestedTags.length}ê°œ íƒœê·¸ê°€ ìë™ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤`,
                    'success'
                );
                // UI ì—…ë°ì´íŠ¸
            }, 2000);
        }

        // ========== ë¬¸ì„œ ê³µìœ  ==========
        function shareDocument(docId) {
            const doc = documentsData.find(d => d.id === docId);
            if (!doc) return;

            const shareUrl = `${window.location.origin}/share/doc/${docId}`;
            
            if (navigator.clipboard) {
                navigator.clipboard.writeText(shareUrl).then(() => {
                    window.GrowFitUtils.showToast('ê³µìœ  ë§í¬ê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤', 'success');
                });
            } else {
                prompt('ê³µìœ  ë§í¬:', shareUrl);
            }
        }

        // ========== ë¬¸ì„œ ë²„ì „ ê´€ë¦¬ ==========
        function showVersionHistory(docId) {
            const doc = documentsData.find(d => d.id === docId);
            if (!doc) return;

            const history = `
ë²„ì „ íˆìŠ¤í† ë¦¬: ${doc.name}

ğŸ“œ ë²„ì „ ëª©ë¡:

v3 (í˜„ì¬) - ${formatDate(doc.uploadedAt)}
- RAG ì¬ì²˜ë¦¬ ì™„ë£Œ
- íƒœê·¸ ì—…ë°ì´íŠ¸

v2 - 2ì¼ ì „
- íŒŒì¼ëª… ë³€ê²½
- í´ë” ì´ë™

v1 - 1ì£¼ì¼ ì „
- ìµœì´ˆ ì—…ë¡œë“œ

[ë³µì›] [ë¹„êµ] [ë‹¤ìš´ë¡œë“œ]
            `.trim();

            alert(history);
        }

        // ========== ë¬¸ì„œ ë¶„ì„ ==========
        function analyzeDocument(docId) {
            const doc = documentsData.find(d => d.id === docId);
            if (!doc) return;

            window.GrowFitUtils.showToast('ë¬¸ì„œë¥¼ ë¶„ì„í•˜ëŠ” ì¤‘...', 'info');

            setTimeout(() => {
                const analysis = `
ë¬¸ì„œ ë¶„ì„ ê²°ê³¼: ${doc.name}

ğŸ“Š ê¸°ë³¸ ì •ë³´:
- íŒŒì¼ í¬ê¸°: ${formatFileSize(doc.size)}
- ì—…ë¡œë“œ: ${formatDate(doc.uploadedAt)}
- ìœ í˜•: ${doc.type.toUpperCase()}

ğŸ¤– RAG ë¶„ì„:
- ì²­í¬ ìˆ˜: ${doc.chunks}ê°œ
- í‰ê·  ì²­í¬ í¬ê¸°: ${Math.round(doc.size / doc.chunks / 1024)}KB
- ì„ë² ë”© ì™„ë£Œ: âœ“

ğŸ“ˆ í™œìš© ë¶„ì„:
- ì´ í™œìš©: ${doc.usageCount}íšŒ
- ìµœê·¼ í™œìš©: ${Math.floor(Math.random() * 3) + 1}ì¼ ì „
- ì£¼ í™œìš© í”„ë¡œì íŠ¸: Python í•™ìŠµ

ğŸ’¡ ì¶”ì²œ:
- ê´€ë ¨ ë¬¸ì„œ ì¶”ê°€ ê¶Œì¥
- íƒœê·¸ ìµœì í™” í•„ìš”
- ì •ê¸°ì  ì—…ë°ì´íŠ¸ ê¶Œì¥
                `.trim();

                alert(analysis);
            }, 1500);
        }

        // ========== ì¤‘ë³µ ë¬¸ì„œ ê°ì§€ ==========
        function findDuplicates() {
            window.GrowFitUtils.showToast('ì¤‘ë³µ ë¬¸ì„œë¥¼ ê²€ìƒ‰í•˜ëŠ” ì¤‘...', 'info');

            setTimeout(() => {
                const duplicates = `
ì¤‘ë³µ ë¬¸ì„œ ê²€ìƒ‰ ê²°ê³¼

ğŸ” ê²€ìƒ‰ ì™„ë£Œ:
- ìŠ¤ìº”í•œ ë¬¸ì„œ: ${documentsData.length}ê°œ
- ë°œê²¬ëœ ì¤‘ë³µ: 0ê°œ

âœ… ì¤‘ë³µ ë¬¸ì„œê°€ ì—†ìŠµë‹ˆë‹¤!

ì¤‘ë³µ ê°ì§€ ê¸°ì¤€:
- íŒŒì¼ëª… ìœ ì‚¬ë„
- íŒŒì¼ í¬ê¸°
- ì»¨í…ì¸  í•´ì‹œ
                `.trim();

                alert(duplicates);
            }, 1500);
        }

        // ========== ì €ì¥ ê³µê°„ ì •ë¦¬ ==========
        function cleanupStorage() {
            if (confirm('ì €ì¥ ê³µê°„ ì •ë¦¬ë¥¼ ì‹œì‘í•˜ì‹œê² ìŠµë‹ˆê¹Œ?\n\në‹¤ìŒ í•­ëª©ì´ ì‚­ì œë©ë‹ˆë‹¤:\nâ€¢ 90ì¼ ì´ìƒ ë¯¸ì‚¬ìš© ë¬¸ì„œ\nâ€¢ ì„ì‹œ íŒŒì¼\nâ€¢ ìºì‹œ ë°ì´í„°')) {
                window.GrowFitUtils.showToast('ì €ì¥ ê³µê°„ì„ ì •ë¦¬í•˜ëŠ” ì¤‘...', 'info');

                setTimeout(() => {
                    window.GrowFitUtils.showToast('234 MBì˜ ê³µê°„ì´ í™•ë³´ë˜ì—ˆìŠµë‹ˆë‹¤', 'success');
                }, 2000);
            }
        }

        // ========== ë¬¸ì„œ ë°±ì—… ==========
        function backupDocuments() {
            if (confirm('ëª¨ë“  ë¬¸ì„œë¥¼ ë°±ì—…í•˜ì‹œê² ìŠµë‹ˆê¹Œ?\n\nì˜ˆìƒ ì‹œê°„: ì•½ 5ë¶„\në°±ì—… í¬ê¸°: ì•½ 2.3 GB')) {
                window.GrowFitUtils.showToast('ë°±ì—…ì„ ì‹œì‘í•©ë‹ˆë‹¤...', 'info');

                setTimeout(() => {
                    window.GrowFitUtils.showToast('ë°±ì—…ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤', 'success');
                }, 3000);
            }
        }

        // ========== ë¬¸ì„œ ë³µì› ==========
        function restoreDocuments() {
            const input = document.createElement('input');
            input.type = 'file';
            input.accept = '.zip,.json';
            
            input.onchange = function(e) {
                const file = e.target.files[0];
                if (file) {
                    window.GrowFitUtils.showToast('ë°±ì—…ì„ ë³µì›í•˜ëŠ” ì¤‘...', 'info');

                    setTimeout(() => {
                        window.GrowFitUtils.showToast('ë³µì›ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤', 'success');
                        location.reload();
                    }, 2000);
                }
            };

            input.click();
        }

        // ========== AI ìš”ì•½ ìƒì„± ==========
        function generateSummary(docId) {
            const doc = documentsData.find(d => d.id === docId);
            if (!doc) return;

            if (doc.status !== 'ready') {
                window.GrowFitUtils.showToast('ë¬¸ì„œê°€ ì•„ì§ ì²˜ë¦¬ ì¤‘ì…ë‹ˆë‹¤', 'warning');
                return;
            }

            window.GrowFitUtils.showToast('AIê°€ ë¬¸ì„œë¥¼ ìš”ì•½í•˜ëŠ” ì¤‘...', 'info');

            setTimeout(() => {
                const summary = `
AI ë¬¸ì„œ ìš”ì•½: ${doc.name}

ğŸ“ í•µì‹¬ ë‚´ìš©:
ì´ ë¬¸ì„œëŠ” ${doc.name}ì— ëŒ€í•œ ì¢…í•©ì ì¸ ê°€ì´ë“œì…ë‹ˆë‹¤. 
ì£¼ìš” ì£¼ì œì™€ ê°œë…ì„ ë‹¤ë£¨ë©°, ì‹¤ìš©ì ì¸ ì˜ˆì œë¥¼ í¬í•¨í•˜ê³  ìˆìŠµë‹ˆë‹¤.

ğŸ¯ ì£¼ìš” í¬ì¸íŠ¸:
- ê¸°ì´ˆ ê°œë… ì†Œê°œ
- ì‹¤ìŠµ ì˜ˆì œ ì œê³µ
- ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤ ì„¤ëª…
- ê³ ê¸‰ ê¸°ë²• ì•ˆë‚´

ğŸ’¡ í™œìš© ë°©ì•ˆ:
ì´ ë¬¸ì„œëŠ” í•™ìŠµ ìë£Œë¡œ í™œìš©í•˜ê¸°ì— ì í•©í•˜ë©°,
AI ëŒ€í™”ì—ì„œ ì°¸ê³  ìë£Œë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

â±ï¸ ì˜ˆìƒ í•™ìŠµ ì‹œê°„: ${Math.floor(Math.random() * 3) + 2}ì‹œê°„
                `.trim();

                alert(summary);
            }, 2000);
        }

        // ========== í‚¤ì›Œë“œ ì¶”ì¶œ ==========
        function extractKeywords(docId) {
            const doc = documentsData.find(d => d.id === docId);
            if (!doc) return;

            window.GrowFitUtils.showToast('í‚¤ì›Œë“œë¥¼ ì¶”ì¶œí•˜ëŠ” ì¤‘...', 'info');

            setTimeout(() => {
                const keywords = [
                    'Python', 'í”„ë¡œê·¸ë˜ë°', 'í•¨ìˆ˜', 'í´ë˜ìŠ¤',
                    'ë°ì´í„° êµ¬ì¡°', 'ì•Œê³ ë¦¬ì¦˜', 'ì˜ˆì œ', 'ì‹¤ìŠµ'
                ];

                const result = `
í‚¤ì›Œë“œ ì¶”ì¶œ ê²°ê³¼: ${doc.name}

ğŸ”‘ ì£¼ìš” í‚¤ì›Œë“œ:
${keywords.map(kw => `â€¢ ${kw}`).join('\n')}

ğŸ’¡ ì´ í‚¤ì›Œë“œë“¤ì„ íƒœê·¸ë¡œ ì¶”ê°€í•˜ì‹œê² ìŠµë‹ˆê¹Œ?
                `.trim();

                if (confirm(result)) {
                    doc.tags = [...new Set([...doc.tags, ...keywords])];
                    window.GrowFitUtils.showToast('í‚¤ì›Œë“œê°€ íƒœê·¸ë¡œ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤', 'success');
                }
            }, 1500);
        }

        // ========== í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤ ==========
        document.addEventListener('keydown', function(e) {
            // Ctrl/Cmd + U: ì—…ë¡œë“œ
            if ((e.ctrlKey || e.metaKey) && e.key === 'u') {
                e.preventDefault();
                triggerFileUpload();
            }

            // Ctrl/Cmd + F: ê²€ìƒ‰ í¬ì»¤ìŠ¤
            if ((e.ctrlKey || e.metaKey) && e.key === 'f') {
                e.preventDefault();
                document.getElementById('searchInput').focus();
            }

            // Ctrl/Cmd + A: ì „ì²´ ì„ íƒ
            if ((e.ctrlKey || e.metaKey) && e.key === 'a') {
                if (event.target.tagName !== 'INPUT') {
                    e.preventDefault();
                    selectAllDocuments();
                }
            }

            // Delete: ì„ íƒ í•­ëª© ì‚­ì œ
            if (e.key === 'Delete') {
                // ì„ íƒëœ ë¬¸ì„œê°€ ìˆë‹¤ë©´ ì‚­ì œ
                console.log('Delete í‚¤ ê°ì§€');
            }
        });

        // ========== ì»¨í…ìŠ¤íŠ¸ ë©”ë‰´ (ìš°í´ë¦­) ==========
        document.addEventListener('contextmenu', function(e) {
            const card = e.target.closest('.document-card');
            if (card) {
                e.preventDefault();
                
                const docId = card.getAttribute('onclick').match(/'([^']+)'/)[1];
                openDocMenu(docId);
            }
        });

        // ========== ìë™ ì €ì¥ ê³µê°„ ì²´í¬ ==========
        function checkStorageSpace() {
            const totalSize = documentsData.reduce((sum, doc) => sum + doc.size, 0);
            const maxSize = 10 * 1024 * 1024 * 1024; // 10GB
            const usagePercent = (totalSize / maxSize) * 100;

            if (usagePercent > 90) {
                window.GrowFitUtils.showToast(
                    'âš ï¸ ì €ì¥ ê³µê°„ì´ 90%ë¥¼ ì´ˆê³¼í–ˆìŠµë‹ˆë‹¤. ì •ë¦¬ë¥¼ ê¶Œì¥í•©ë‹ˆë‹¤.',
                    'warning'
                );
            }
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì²´í¬
        window.addEventListener('load', function() {
            checkStorageSpace();
        });

        // ========== ë„ì›€ë§ ==========
        function showHelp() {
            const help = `
ğŸ“š ë‚´ ë¬¸ì„œ ë„ì›€ë§

ğŸ“¤ ì—…ë¡œë“œ:
- ë“œë˜ê·¸ ì•¤ ë“œë¡­ ë˜ëŠ” í´ë¦­ìœ¼ë¡œ ì—…ë¡œë“œ
- ìµœëŒ€ íŒŒì¼ í¬ê¸°: 50MB
- ì§€ì› í˜•ì‹: PDF, Word, Excel, ì´ë¯¸ì§€ ë“±

ğŸ¤– RAG (ê²€ìƒ‰ ì¦ê°• ìƒì„±):
- ì—…ë¡œë“œëœ ë¬¸ì„œëŠ” ìë™ìœ¼ë¡œ ì²˜ë¦¬ë©ë‹ˆë‹¤
- AI ëŒ€í™”ì—ì„œ ìë™ìœ¼ë¡œ ì°¸ì¡°ë©ë‹ˆë‹¤
- ì²­í¬ë¡œ ë¶„í• ë˜ì–´ íš¨ìœ¨ì ìœ¼ë¡œ ê²€ìƒ‰ë©ë‹ˆë‹¤

ğŸ“ í´ë”:
- ë¬¸ì„œë¥¼ í´ë”ë³„ë¡œ ì •ë¦¬í•˜ì„¸ìš”
- í”„ë¡œì íŠ¸ë³„ ë¶„ë¥˜ ê°€ëŠ¥
- í´ë” ê°„ ì´ë™ ê°€ëŠ¥

ğŸ·ï¸ íƒœê·¸:
- ë¬¸ì„œì— íƒœê·¸ë¥¼ ì¶”ê°€í•˜ì—¬ ê²€ìƒ‰ ê°œì„ 
- AI ìë™ íƒœê·¸ ìƒì„± ê¸°ëŠ¥
- ì—¬ëŸ¬ íƒœê·¸ ë™ì‹œ ì ìš© ê°€ëŠ¥

ğŸ’¬ AI ëŒ€í™”:
- "AIì™€ ëŒ€í™”í•˜ê¸°"ë¡œ ë¬¸ì„œ ê¸°ë°˜ ëŒ€í™” ì‹œì‘
- ë¬¸ì„œ ë‚´ìš©ì„ ê¸°ë°˜ìœ¼ë¡œ ì§ˆë¬¸ ê°€ëŠ¥
- ì—¬ëŸ¬ ë¬¸ì„œ ë™ì‹œ ì°¸ì¡° ê°€ëŠ¥

âŒ¨ï¸ ë‹¨ì¶•í‚¤:
- Ctrl+U: ì—…ë¡œë“œ
- Ctrl+F: ê²€ìƒ‰
- Ctrl+A: ì „ì²´ ì„ íƒ

ğŸ’¡ íŒ:
- ê´€ë ¨ ë¬¸ì„œë¥¼ ê°™ì€ í´ë”ì— ë³´ê´€
- ì •ê¸°ì ìœ¼ë¡œ íƒœê·¸ ì •ë¦¬
- ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ë¬¸ì„œëŠ” ì‚­ì œ
            `.trim();

            alert(help);
        }

        // ========== ì´ˆê¸°í™” ì™„ë£Œ ==========
        console.log('Documents í˜ì´ì§€ ìŠ¤í¬ë¦½íŠ¸ ë¡œë“œ ì™„ë£Œ');
        console.log('ë‹¨ì¶•í‚¤: Ctrl+U(ì—…ë¡œë“œ), Ctrl+F(ê²€ìƒ‰), Ctrl+A(ì „ì²´ì„ íƒ)');
    </script>
</body>
</html>