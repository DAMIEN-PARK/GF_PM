<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì „ì²´ ì‚¬ìš©ì ê´€ë¦¬ - GrowFit Platform Admin</title>

    <!-- ê³µí†µ CSS -->
    <link rel="stylesheet" href="../common/variables.css">
    <link rel="stylesheet" href="../common/layout.css">
    <link rel="stylesheet" href="../common/components.css">

    <style>
        /* ========== User Management ì „ìš© ìŠ¤íƒ€ì¼ ========== */
        :root {
            --platform-primary: #6366f1;
            --platform-primary-light: #818cf8;
            --platform-primary-dark: #4f46e5;
            --platform-secondary: #ec4899;
            --platform-accent: #f59e0b;
            --platform-success: #10b981;
            --platform-warning: #f59e0b;
            --platform-danger: #ef4444;
            --platform-purple: #8b5cf6;
            --platform-blue: #3b82f6;
        }

        /* í˜ì´ì§€ í—¤ë” */
        .page-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--space-6);
        }

        .page-header__left h1 {
            font-size: var(--text-3xl);
            font-weight: var(--font-bold);
            background: linear-gradient(135deg, var(--platform-primary), var(--platform-secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: var(--space-1);
        }

        .page-header__left p {
            font-size: var(--text-sm);
            color: var(--text-secondary);
        }

        .page-header__actions {
            display: flex;
            gap: var(--space-2);
        }

        /* í†µê³„ ì¹´ë“œ */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: var(--space-4);
            margin-bottom: var(--space-6);
        }

        .stat-card {
            background: var(--background);
            border: 2px solid var(--border);
            border-radius: var(--radius-xl);
            padding: var(--space-4);
            transition: all 0.3s;
        }

        .stat-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 16px rgba(99, 102, 241, 0.1);
            border-color: var(--platform-primary);
        }

        .stat-card__label {
            font-size: var(--text-sm);
            color: var(--text-secondary);
            margin-bottom: var(--space-2);
        }

        .stat-card__value {
            font-size: var(--text-2xl);
            font-weight: var(--font-bold);
            color: var(--platform-primary);
            margin-bottom: var(--space-1);
        }

        .stat-card__change {
            font-size: var(--text-xs);
            font-weight: var(--font-bold);
        }

        .stat-card__change--up {
            color: var(--platform-success);
        }

        .stat-card__change--down {
            color: var(--platform-danger);
        }

        /* í•„í„° & ê²€ìƒ‰ */
        .filter-section {
            background: var(--background);
            border: 2px solid var(--border);
            border-radius: var(--radius-xl);
            padding: var(--space-4);
            margin-bottom: var(--space-4);
        }

        .filter-row {
            display: flex;
            gap: var(--space-3);
            align-items: end;
        }

        .filter-group {
            flex: 1;
        }

        .filter-label {
            font-size: var(--text-sm);
            font-weight: var(--font-medium);
            color: var(--text-primary);
            margin-bottom: var(--space-2);
        }

        .filter-input {
            width: 100%;
            padding: var(--space-3);
            border: 2px solid var(--border);
            border-radius: var(--radius-md);
            font-size: var(--text-sm);
            transition: all 0.2s;
        }

        .filter-input:focus {
            outline: none;
            border-color: var(--platform-primary);
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
        }

        .filter-select {
            width: 100%;
            padding: var(--space-3);
            border: 2px solid var(--border);
            border-radius: var(--radius-md);
            font-size: var(--text-sm);
            background: white;
            cursor: pointer;
        }

        /* ì‚¬ìš©ì í…Œì´ë¸” */
        .user-table-container {
            background: var(--background);
            border: 2px solid var(--border);
            border-radius: var(--radius-xl);
            overflow: hidden;
        }

        .user-table {
            width: 100%;
            border-collapse: collapse;
        }

        .user-table thead {
            background: var(--surface);
        }

        .user-table th {
            padding: var(--space-4);
            text-align: left;
            font-size: var(--text-sm);
            font-weight: var(--font-semibold);
            color: var(--text-secondary);
            border-bottom: 2px solid var(--border);
            white-space: nowrap;
        }

        .user-table th.sortable {
            cursor: pointer;
            user-select: none;
        }

        .user-table th.sortable:hover {
            color: var(--platform-primary);
        }

        .user-table td {
            padding: var(--space-4);
            font-size: var(--text-sm);
            border-bottom: 1px solid var(--border);
        }

        .user-table tbody tr {
            transition: all 0.2s;
            cursor: pointer;
        }

        .user-table tbody tr:hover {
            background: var(--surface);
        }

        /* ì‚¬ìš©ì ì •ë³´ */
        .user-info {
            display: flex;
            align-items: center;
            gap: var(--space-3);
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: var(--radius-full);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            font-weight: var(--font-bold);
            color: white;
            flex-shrink: 0;
        }

        .user-details {
            flex: 1;
            min-width: 0;
        }

        .user-name {
            font-weight: var(--font-semibold);
            color: var(--text-primary);
            margin-bottom: 2px;
        }

        .user-email {
            font-size: var(--text-xs);
            color: var(--text-secondary);
        }

        /* ì—­í•  ë°°ì§€ */
        .role-badge {
            padding: 4px 12px;
            border-radius: var(--radius-full);
            font-size: var(--text-xs);
            font-weight: var(--font-bold);
            display: inline-block;
        }

        .role-badge--admin {
            background: linear-gradient(135deg, #ef4444, #f87171);
            color: white;
        }

        .role-badge--manager {
            background: linear-gradient(135deg, #f59e0b, #fbbf24);
            color: white;
        }

        .role-badge--employee {
            background: linear-gradient(135deg, #3b82f6, #60a5fa);
            color: white;
        }

        /* ìƒíƒœ ë°°ì§€ */
        .status-badge {
            padding: 4px 12px;
            border-radius: var(--radius-full);
            font-size: var(--text-xs);
            font-weight: var(--font-bold);
            display: inline-block;
        }

        .status-badge--active {
            background: rgba(16, 185, 129, 0.1);
            color: var(--platform-success);
        }

        .status-badge--inactive {
            background: rgba(107, 114, 128, 0.1);
            color: var(--text-secondary);
        }

        .status-badge--suspended {
            background: rgba(239, 68, 68, 0.1);
            color: var(--platform-danger);
        }

        /* ì¡°ì§ ë§í¬ */
        .org-link {
            display: inline-flex;
            align-items: center;
            gap: var(--space-1);
            padding: 4px 8px;
            background: var(--surface);
            border-radius: var(--radius-md);
            font-size: var(--text-xs);
            color: var(--text-secondary);
            text-decoration: none;
            transition: all 0.2s;
        }

        .org-link:hover {
            background: var(--platform-primary);
            color: white;
        }

        /* í™œë™ ì§€í‘œ */
        .activity-indicator {
            display: flex;
            align-items: center;
            gap: var(--space-2);
        }

        .activity-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            animation: pulse 2s infinite;
        }

        .activity-dot--online {
            background: var(--platform-success);
        }

        .activity-dot--away {
            background: var(--platform-warning);
        }

        .activity-dot--offline {
            background: var(--text-tertiary);
        }

        @keyframes pulse {

            0%,
            100% {
                opacity: 1;
            }

            50% {
                opacity: 0.5;
            }
        }

        /* ì•¡ì…˜ ë²„íŠ¼ */
        .action-buttons {
            display: flex;
            gap: var(--space-2);
        }

        .action-btn {
            width: 32px;
            height: 32px;
            border-radius: var(--radius-md);
            border: 2px solid var(--border);
            background: white;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 16px;
        }

        .action-btn:hover {
            border-color: var(--platform-primary);
            background: var(--surface);
            transform: scale(1.1);
        }

        /* í˜ì´ì§€ë„¤ì´ì…˜ */
        .pagination {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: var(--space-4);
            background: var(--surface);
            border-top: 2px solid var(--border);
        }

        .pagination-info {
            font-size: var(--text-sm);
            color: var(--text-secondary);
        }

        .pagination-controls {
            display: flex;
            gap: var(--space-2);
        }

        .pagination-btn {
            padding: var(--space-2) var(--space-3);
            border: 2px solid var(--border);
            border-radius: var(--radius-md);
            background: white;
            font-size: var(--text-sm);
            cursor: pointer;
            transition: all 0.2s;
        }

        .pagination-btn:hover:not(:disabled) {
            border-color: var(--platform-primary);
            color: var(--platform-primary);
        }

        .pagination-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .pagination-btn--active {
            background: var(--platform-primary);
            color: white;
            border-color: var(--platform-primary);
        }

        /* ëª¨ë‹¬ */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            backdrop-filter: blur(4px);
        }

        .modal-overlay--active {
            display: flex;
        }

        .modal {
            background: white;
            border-radius: var(--radius-xl);
            width: 90%;
            max-width: 600px;
            max-height: 90vh;
            overflow: hidden;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            animation: modalSlideUp 0.3s ease-out;
        }

        @keyframes modalSlideUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .modal-header {
            padding: var(--space-5);
            border-bottom: 2px solid var(--border);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-title {
            font-size: var(--text-xl);
            font-weight: var(--font-bold);
            color: var(--text-primary);
        }

        .modal-close {
            width: 32px;
            height: 32px;
            border-radius: var(--radius-md);
            border: none;
            background: var(--surface);
            cursor: pointer;
            font-size: 20px;
            transition: all 0.2s;
        }

        .modal-close:hover {
            background: var(--platform-danger);
            color: white;
            transform: rotate(90deg);
        }

        .modal-body {
            padding: var(--space-5);
            max-height: calc(90vh - 160px);
            overflow-y: auto;
        }

        .modal-footer {
            padding: var(--space-4);
            border-top: 2px solid var(--border);
            display: flex;
            justify-content: flex-end;
            gap: var(--space-2);
        }

        /* ì •ë³´ ê·¸ë£¹ */
        .info-group {
            margin-bottom: var(--space-4);
        }

        .info-label {
            font-size: var(--text-sm);
            font-weight: var(--font-semibold);
            color: var(--text-secondary);
            margin-bottom: var(--space-2);
        }

        .info-value {
            font-size: var(--text-base);
            color: var(--text-primary);
        }

        /* ë°˜ì‘í˜• */
        @media (max-width: 1400px) {
            .stats-grid {
                grid-template-columns: repeat(3, 1fr);
            }
        }

        @media (max-width: 1024px) {
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .filter-row {
                flex-direction: column;
            }
        }

        @media (max-width: 768px) {
            .stats-grid {
                grid-template-columns: 1fr;
            }

            .user-table {
                display: block;
                overflow-x: auto;
            }
        }
    </style>
</head>

<body>
    <div id="app">
        <!-- Header -->
        <header class="header">
            <div class="header__left">
                <button id="menuToggle" class="header__icon-button hidden-desktop">
                    <span>â˜°</span>
                </button>
                <a href="platform-dashboard.html" class="header__logo">
                    <span class="header__logo-icon">ğŸš€</span>
                    <span>GrowFit Platform</span>
                </a>
            </div>

            <div class="header__right">
                <button class="header__icon-button" title="ìƒˆë¡œê³ ì¹¨" onclick="refreshUsers()">
                    <span>ğŸ”„</span>
                </button>

                <button id="notificationBtn" class="header__icon-button">
                    <span>ğŸ””</span>
                    <span class="header__badge">5</span>
                </button>

                <div id="profileBtn" class="header__profile">
                    <div class="header__avatar" style="background: linear-gradient(135deg, #6366f1, #ec4899);">í”Œ</div>
                    <span class="hidden-mobile">í”Œë«í¼ ê´€ë¦¬ì</span>
                    <span class="hidden-mobile">â–¼</span>
                </div>
            </div>
        </header>

        <div class="container">
            <!-- Sidebar -->
            <aside class="sidebar sidebar--open">
                <div class="sidebar__user">
                    <div class="sidebar__user-info">
                        <div class="sidebar__user-avatar"
                            style="background: linear-gradient(135deg, #6366f1, #ec4899);">í”Œ</div>
                        <div class="sidebar__user-details">
                            <div class="sidebar__user-name">í”Œë«í¼ ê´€ë¦¬ì</div>
                            <div class="sidebar__user-role">Platform Admin</div>
                        </div>
                    </div>
                </div>

                <nav class="sidebar__nav">
                    <ul class="sidebar__menu">
                        <li class="sidebar__menu-item">
                            <a href="platform-dashboard.html" class="sidebar__menu-link">
                                <span class="sidebar__menu-icon">ğŸ </span>
                                <span>í”Œë«í¼ ëŒ€ì‹œë³´ë“œ</span>
                            </a>
                        </li>
                        <li class="sidebar__menu-item">
                            <a href="organization-management.html" class="sidebar__menu-link">
                                <span class="sidebar__menu-icon">ğŸ¢</span>
                                <span>ì¡°ì§ ê´€ë¦¬</span>
                            </a>
                        </li>
                        <li class="sidebar__menu-item">
                            <a href="user-management.html" class="sidebar__menu-link sidebar__menu-link--active">
                                <span class="sidebar__menu-icon">ğŸ‘¥</span>
                                <span>ì „ì²´ ì‚¬ìš©ì</span>
                            </a>
                        </li>
                        <li class="sidebar__menu-item">
                            <a href="revenue-billing.html" class="sidebar__menu-link">
                                <span class="sidebar__menu-icon">ğŸ’°</span>
                                <span>ë§¤ì¶œ/ê³¼ê¸ˆ</span>
                            </a>
                        </li>
                        <li class="sidebar__menu-item">
                            <a href="analytics-reports.html" class="sidebar__menu-link">
                                <span class="sidebar__menu-icon">ğŸ“Š</span>
                                <span>ë¶„ì„ & ë¦¬í¬íŠ¸</span>
                            </a>
                        </li>
                        <li class="sidebar__menu-item">
                            <a href="system-monitoring.html" class="sidebar__menu-link">
                                <span class="sidebar__menu-icon">ğŸ”§</span>
                                <span>ì‹œìŠ¤í…œ ëª¨ë‹ˆí„°ë§</span>
                            </a>
                        </li>
                        <li class="sidebar__menu-item">
                            <a href="platform-settings.html" class="sidebar__menu-link">
                                <span class="sidebar__menu-icon">âš™ï¸</span>
                                <span>ì‹œìŠ¤í…œ ì„¤ì •</span>
                            </a>
                        </li>
                    </ul>
                </nav>

                <div class="sidebar__footer">
                    <div
                        style="padding: var(--space-3); background: linear-gradient(135deg, rgba(99, 102, 241, 0.1), rgba(236, 72, 153, 0.1)); border-radius: var(--radius-md); font-size: var(--text-xs);">
                        <div style="color: var(--text-secondary); margin-bottom: var(--space-1);">ì´ ì‚¬ìš©ì</div>
                        <div
                            style="font-weight: var(--font-bold); color: var(--platform-primary); font-size: var(--text-lg);">
                            8,947ëª…</div>
                    </div>
                </div>
            </aside>

            <!-- Main Content -->
            <main class="main">
                <!-- í˜ì´ì§€ í—¤ë” -->
                <div class="page-header">
                    <div class="page-header__left">
                        <h1>ğŸ‘¥ ì „ì²´ ì‚¬ìš©ì</h1>
                        <p>ëª¨ë“  ì¡°ì§ì˜ ì‚¬ìš©ìë¥¼ í†µí•© ê´€ë¦¬í•˜ì„¸ìš”</p>
                    </div>
                    <div class="page-header__actions">
                        <button class="btn btn--outline" onclick="exportUsers()">
                            ğŸ“¥ ë‚´ë³´ë‚´ê¸°
                        </button>
                        <button class="btn btn--outline" onclick="bulkActions()">
                            âš™ï¸ ëŒ€ëŸ‰ ì‘ì—…
                        </button>
                        <button class="btn btn--primary" onclick="showUserAnalytics()">
                            ğŸ“Š ì‚¬ìš©ì ë¶„ì„
                        </button>
                    </div>
                </div>

                <!-- í†µê³„ ì¹´ë“œ -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-card__label">ì´ ì‚¬ìš©ì</div>
                        <div class="stat-card__value">8,947</div>
                        <div class="stat-card__change stat-card__change--up">â†‘ 18.3% (ì´ë²ˆ ë‹¬)</div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-card__label">í™œì„± ì‚¬ìš©ì</div>
                        <div class="stat-card__value">8,501</div>
                        <div class="stat-card__change stat-card__change--up">â†‘ 15.2%</div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-card__label">ì˜¨ë¼ì¸ ì‚¬ìš©ì</div>
                        <div class="stat-card__value">1,247</div>
                        <div class="stat-card__change stat-card__change--up">â†‘ 8.7%</div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-card__label">ì‹ ê·œ ê°€ì… (30ì¼)</div>
                        <div class="stat-card__value">1,384</div>
                        <div class="stat-card__change stat-card__change--up">â†‘ 22.1%</div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-card__label">í‰ê·  ì„¸ì…˜</div>
                        <div class="stat-card__value">2.4h</div>
                        <div class="stat-card__change stat-card__change--up">â†‘ 5.3%</div>
                    </div>
                </div>

                <!-- í•„í„° & ê²€ìƒ‰ -->
                <div class="filter-section">
                    <div class="filter-row">
                        <div class="filter-group">
                            <div class="filter-label">ğŸ” ê²€ìƒ‰</div>
                            <input 
                                type="text" 
                                id="searchInput"
                                class="filter-input" 
                                placeholder="ì´ë¦„, ì´ë©”ì¼, ì¡°ì§ëª… ê²€ìƒ‰..."
                                oninput="searchUsers(this.value)"
                            >
                        </div>

                        <div class="filter-group">
                            <div class="filter-label">ğŸ¢ ì¡°ì§</div>
                            <select class="filter-select" onchange="filterByOrganization(this.value)">
                                <option value="">ì „ì²´ ì¡°ì§</option>
                                <option value="org-1">ê¸€ë¡œë²Œë¬´ì—­</option>
                                <option value="org-2">í…Œí¬ìŠ¤íƒ€íŠ¸ì—… Inc.</option>
                                <option value="org-3">AIì—°êµ¬ì†Œ</option>
                                <option value="org-4">ë””ìì¸ìŠ¤íŠœë””ì˜¤</option>
                                <option value="org-5">ì»¨ì„¤íŒ…ê·¸ë£¹</option>
                            </select>
                        </div>

                        <div class="filter-group">
                            <div class="filter-label">ğŸ‘¤ ì—­í• </div>
                            <select class="filter-select" onchange="filterByRole(this.value)">
                                <option value="">ì „ì²´ ì—­í• </option>
                                <option value="admin">Admin</option>
                                <option value="manager">Manager</option>
                                <option value="employee">Employee</option>
                            </select>
                        </div>

                        <div class="filter-group">
                            <div class="filter-label">ğŸ”„ ìƒíƒœ</div>
                            <select class="filter-select" onchange="filterByStatus(this.value)">
                                <option value="">ì „ì²´ ìƒíƒœ</option>
                                <option value="active">Active</option>
                                <option value="inactive">Inactive</option>
                                <option value="suspended">Suspended</option>
                            </select>
                        </div>

                        <div class="filter-group">
                            <div class="filter-label">ğŸ“… ê°€ì…ì¼</div>
                            <select class="filter-select" onchange="filterByDate(this.value)">
                                <option value="">ì „ì²´ ê¸°ê°„</option>
                                <option value="today">ì˜¤ëŠ˜</option>
                                <option value="week">ìµœê·¼ 7ì¼</option>
                                <option value="month">ìµœê·¼ 30ì¼</option>
                                <option value="quarter">ìµœê·¼ 90ì¼</option>
                            </select>
                        </div>

                        <button class="btn btn--outline" onclick="resetFilters()">
                            ğŸ”„ ì´ˆê¸°í™”
                        </button>
                    </div>
                </div>

                <!-- ì‚¬ìš©ì í…Œì´ë¸” -->
                <div class="user-table-container">
                    <table class="user-table">
                        <thead>
                            <tr>
                                <th style="width: 40px;">
                                    <input type="checkbox" onclick="toggleSelectAll(this)">
                                </th>
                                <th class="sortable" onclick="sortTable('name')">
                                    ì‚¬ìš©ì <span>â†•ï¸</span>
                                </th>
                                <th class="sortable" onclick="sortTable('organization')">
                                    ì¡°ì§ <span>â†•ï¸</span>
                                </th>
                                <th class="sortable" onclick="sortTable('role')">
                                    ì—­í•  <span>â†•ï¸</span>
                                </th>
                                <th class="sortable" onclick="sortTable('status')">
                                    ìƒíƒœ <span>â†•ï¸</span>
                                </th>
                                <th class="sortable" onclick="sortTable('lastActive')">
                                    ë§ˆì§€ë§‰ í™œë™ <span>â†•ï¸</span>
                                </th>
                                <th class="sortable" onclick="sortTable('usage')">
                                    ì‚¬ìš©ëŸ‰ <span>â†•ï¸</span>
                                </th>
                                <th class="sortable" onclick="sortTable('created')">
                                    ê°€ì…ì¼ <span>â†•ï¸</span>
                                </th>
                                <th style="width: 120px;">ì•¡ì…˜</th>
                            </tr>
                        </thead>
                        <tbody id="usersTableBody">
                            <!-- ì‚¬ìš©ì 1 -->
                            <tr data-user-id="user-1" onclick="viewUserDetail('user-1')">
                                <td onclick="event.stopPropagation();">
                                    <input type="checkbox" class="user-checkbox" value="user-1">
                                </td>
                                <td>
                                    <div class="user-info">
                                        <div class="user-avatar" style="background: linear-gradient(135deg, #6366f1, #8b5cf6);">
                                            ê¹€
                                        </div>
                                        <div class="user-details">
                                            <div class="user-name">ê¹€ì² ìˆ˜</div>
                                            <div class="user-email">kim.cs@globaltrade.com</div>
                                        </div>
                                    </div>
                                </td>
                                <td>
                                    <a href="organization-management.html?id=org-1" class="org-link" onclick="event.stopPropagation();">
                                        ğŸ¢ ê¸€ë¡œë²Œë¬´ì—­
                                    </a>
                                </td>
                                <td>
                                    <span class="role-badge role-badge--admin">Admin</span>
                                </td>
                                <td>
                                    <div class="activity-indicator">
                                        <div class="activity-dot activity-dot--online"></div>
                                        <span class="status-badge status-badge--active">Active</span>
                                    </div>
                                </td>
                                <td style="color: var(--text-secondary);">5ë¶„ ì „</td>
                                <td>
                                    <strong style="color: var(--platform-primary);">847</strong>
                                    <span style="font-size: var(--text-xs); color: var(--text-secondary);">API í˜¸ì¶œ</span>
                                </td>
                                <td style="color: var(--text-secondary);">2024-03-15</td>
                                <td onclick="event.stopPropagation();">
                                    <div class="action-buttons">
                                        <button class="action-btn" onclick="viewUserDetail('user-1')" title="ìƒì„¸ ë³´ê¸°">
                                            ğŸ‘ï¸
                                        </button>
                                        <button class="action-btn" onclick="editUser('user-1')" title="í¸ì§‘">
                                            âœï¸
                                        </button>
                                        <button class="action-btn" onclick="showMoreActions('user-1')" title="ë”ë³´ê¸°">
                                            â‹®
                                        </button>
                                    </div>
                                </td>
                            </tr>

                            <!-- ì‚¬ìš©ì 2 -->
                            <tr data-user-id="user-2" onclick="viewUserDetail('user-2')">
                                <td onclick="event.stopPropagation();">
                                    <input type="checkbox" class="user-checkbox" value="user-2">
                                </td>
                                <td>
                                    <div class="user-info">
                                        <div class="user-avatar" style="background: linear-gradient(135deg, #ec4899, #f472b6);">
                                            ì´
                                        </div>
                                        <div class="user-details">
                                            <div class="user-name">ì´ì˜í¬</div>
                                            <div class="user-email">lee.yh@techstartup.com</div>
                                        </div>
                                    </div>
                                </td>
                                <td>
                                    <a href="organization-management.html?id=org-2" class="org-link" onclick="event.stopPropagation();">
                                        ğŸš€ í…Œí¬ìŠ¤íƒ€íŠ¸ì—… Inc.
                                    </a>
                                </td>
                                <td>
                                    <span class="role-badge role-badge--manager">Manager</span>
                                </td>
                                <td>
                                    <div class="activity-indicator">
                                        <div class="activity-dot activity-dot--online"></div>
                                        <span class="status-badge status-badge--active">Active</span>
                                    </div>
                                </td>
                                <td style="color: var(--text-secondary);">12ë¶„ ì „</td>
                                <td>
                                    <strong style="color: var(--platform-primary);">523</strong>
                                    <span style="font-size: var(--text-xs); color: var(--text-secondary);">API í˜¸ì¶œ</span>
                                </td>
                                <td style="color: var(--text-secondary);">2024-10-08</td>
                                <td onclick="event.stopPropagation();">
                                    <div class="action-buttons">
                                        <button class="action-btn" onclick="viewUserDetail('user-2')" title="ìƒì„¸ ë³´ê¸°">
                                            ğŸ‘ï¸
                                        </button>
                                        <button class="action-btn" onclick="editUser('user-2')" title="í¸ì§‘">
                                            âœï¸
                                        </button>
                                        <button class="action-btn" onclick="showMoreActions('user-2')" title="ë”ë³´ê¸°">
                                            â‹®
                                        </button>
                                    </div>
                                </td>
                            </tr>

                            <!-- ì‚¬ìš©ì 3 -->
                            <tr data-user-id="user-3" onclick="viewUserDetail('user-3')">
                                <td onclick="event.stopPropagation();">
                                    <input type="checkbox" class="user-checkbox" value="user-3">
                                </td>
                                <td>
                                    <div class="user-info">
                                        <div class="user-avatar" style="background: linear-gradient(135deg, #10b981, #34d399);">
                                            ë°•
                                        </div>
                                        <div class="user-details">
                                            <div class="user-name">ë°•ë¯¼ìˆ˜</div>
                                            <div class="user-email">park.ms@ailab.com</div>
                                        </div>
                                    </div>
                                </td>
                                <td>
                                    <a href="organization-management.html?id=org-3" class="org-link" onclick="event.stopPropagation();">
                                        ğŸ¤– AIì—°êµ¬ì†Œ
                                    </a>
                                </td>
                                <td>
                                    <span class="role-badge role-badge--employee">Employee</span>
                                </td>
                                <td>
                                    <div class="activity-indicator">
                                        <div class="activity-dot activity-dot--away"></div>
                                        <span class="status-badge status-badge--active">Active</span>
                                    </div>
                                </td>
                                <td style="color: var(--text-secondary);">1ì‹œê°„ ì „</td>
                                <td>
                                    <strong style="color: var(--platform-primary);">1,234</strong>
                                    <span style="font-size: var(--text-xs); color: var(--text-secondary);">API í˜¸ì¶œ</span>
                                </td>
                                <td style="color: var(--text-secondary);">2024-05-22</td>
                                <td onclick="event.stopPropagation();">
                                    <div class="action-buttons">
                                        <button class="action-btn" onclick="viewUserDetail('user-3')" title="ìƒì„¸ ë³´ê¸°">
                                            ğŸ‘ï¸
                                        </button>
                                        <button class="action-btn" onclick="editUser('user-3')" title="í¸ì§‘">
                                            âœï¸
                                        </button>
                                        <button class="action-btn" onclick="showMoreActions('user-3')" title="ë”ë³´ê¸°">
                                            â‹®
                                        </button>
                                    </div>
                                </td>
                            </tr>

                            <!-- ì‚¬ìš©ì 4 -->
                            <tr data-user-id="user-4" onclick="viewUserDetail('user-4')">
                                <td onclick="event.stopPropagation();">
                                    <input type="checkbox" class="user-checkbox" value="user-4">
                                </td>
                                <td>
                                    <div class="user-info">
                                        <div class="user-avatar" style="background: linear-gradient(135deg, #f59e0b, #fbbf24);">
                                            ìµœ
                                        </div>
                                        <div class="user-details">
                                            <div class="user-name">ìµœì§€ì€</div>
                                            <div class="user-email">choi.je@designstudio.com</div>
                                        </div>
                                    </div>
                                </td>
                                <td>
                                    <a href="organization-management.html?id=org-4" class="org-link" onclick="event.stopPropagation();">
                                        ğŸ¨ ë””ìì¸ìŠ¤íŠœë””ì˜¤
                                    </a>
                                </td>
                                <td>
                                    <span class="role-badge role-badge--employee">Employee</span>
                                </td>
                                <td>
                                    <div class="activity-indicator">
                                        <div class="activity-dot activity-dot--offline"></div>
                                        <span class="status-badge status-badge--active">Active</span>
                                    </div>
                                </td>
                                <td style="color: var(--text-secondary);">3ì‹œê°„ ì „</td>
                                <td>
                                    <strong style="color: var(--platform-primary);">234</strong>
                                    <span style="font-size: var(--text-xs); color: var(--text-secondary);">API í˜¸ì¶œ</span>
                                </td>
                                <td style="color: var(--text-secondary);">2024-07-10</td>
                                <td onclick="event.stopPropagation();">
                                    <div class="action-buttons">
                                        <button class="action-btn" onclick="viewUserDetail('user-4')" title="ìƒì„¸ ë³´ê¸°">
                                            ğŸ‘ï¸
                                        </button>
                                        <button class="action-btn" onclick="editUser('user-4')" title="í¸ì§‘">
                                            âœï¸
                                        </button>
                                        <button class="action-btn" onclick="showMoreActions('user-4')" title="ë”ë³´ê¸°">
                                            â‹®
                                        </button>
                                    </div>
                                </td>
                            </tr>

                            <!-- ì‚¬ìš©ì 5 -->
                            <tr data-user-id="user-5" onclick="viewUserDetail('user-5')">
                                <td onclick="event.stopPropagation();">
                                    <input type="checkbox" class="user-checkbox" value="user-5">
                                </td>
                                <td>
                                    <div class="user-info">
                                        <div class="user-avatar" style="background: linear-gradient(135deg, #3b82f6, #60a5fa);">
                                            ì •
                                        </div>
                                        <div class="user-details">
                                            <div class="user-name">ì •íƒœë¯¼</div>
                                            <div class="user-email">jung.tm@consulting.com</div>
                                        </div>
                                    </div>
                                </td>
                                <td>
                                    <a href="organization-management.html?id=org-5" class="org-link" onclick="event.stopPropagation();">
                                        ğŸ’¼ ì»¨ì„¤íŒ…ê·¸ë£¹
                                    </a>
                                </td>
                                <td>
                                    <span class="role-badge role-badge--admin">Admin</span>
                                </td>
                                <td>
                                    <div class="activity-indicator">
                                        <div class="activity-dot activity-dot--online"></div>
                                        <span class="status-badge status-badge--active">Active</span>
                                    </div>
                                </td>
                                <td style="color: var(--text-secondary);">ë°©ê¸ˆ ì „</td>
                                <td>
                                    <strong style="color: var(--platform-primary);">678</strong>
                                    <span style="font-size: var(--text-xs); color: var(--text-secondary);">API í˜¸ì¶œ</span>
                                </td>
                                <td style="color: var(--text-secondary);">2024-02-08</td>
                                <td onclick="event.stopPropagation();">
                                    <div class="action-buttons">
                                        <button class="action-btn" onclick="viewUserDetail('user-5')" title="ìƒì„¸ ë³´ê¸°">
                                            ğŸ‘ï¸
                                        </button>
                                        <button class="action-btn" onclick="editUser('user-5')" title="í¸ì§‘">
                                            âœï¸
                                        </button>
                                        <button class="action-btn" onclick="showMoreActions('user-5')" title="ë”ë³´ê¸°">
                                            â‹®
                                        </button>
                                    </div>
                                </td>
                            </tr>

                            <!-- ì‚¬ìš©ì 6 -->
                            <tr data-user-id="user-6" onclick="viewUserDetail('user-6')">
                                <td onclick="event.stopPropagation();">
                                    <input type="checkbox" class="user-checkbox" value="user-6">
                                </td>
                                <td>
                                    <div class="user-info">
                                        <div class="user-avatar" style="background: linear-gradient(135deg, #8b5cf6, #a78bfa);">
                                            í•œ
                                        </div>
                                        <div class="user-details">
                                            <div class="user-name">í•œìˆ˜ì§„</div>
                                            <div class="user-email">han.sj@ailab.com</div>
                                        </div>
                                    </div>
                                </td>
                                <td>
                                    <a href="organization-management.html?id=org-3" class="org-link" onclick="event.stopPropagation();">
                                        ğŸ¤– AIì—°êµ¬ì†Œ
                                    </a>
                                </td>
                                <td>
                                    <span class="role-badge role-badge--manager">Manager</span>
                                </td>
                                <td>
                                    <div class="activity-indicator">
                                        <div class="activity-dot activity-dot--online"></div>
                                        <span class="status-badge status-badge--active">Active</span>
                                    </div>
                                </td>
                                <td style="color: var(--text-secondary);">8ë¶„ ì „</td>
                                <td>
                                    <strong style="color: var(--platform-primary);">945</strong>
                                    <span style="font-size: var(--text-xs); color: var(--text-secondary);">API í˜¸ì¶œ</span>
                                </td>
                                <td style="color: var(--text-secondary);">2024-05-22</td>
                                <td onclick="event.stopPropagation();">
                                    <div class="action-buttons">
                                        <button class="action-btn" onclick="viewUserDetail('user-6')" title="ìƒì„¸ ë³´ê¸°">
                                            ğŸ‘ï¸
                                        </button>
                                        <button class="action-btn" onclick="editUser('user-6')" title="í¸ì§‘">
                                            âœï¸
                                        </button>
                                        <button class="action-btn" onclick="showMoreActions('user-6')" title="ë”ë³´ê¸°">
                                            â‹®
                                        </button>
                                    </div>
                                </td>
                            </tr>

                            <!-- ì‚¬ìš©ì 7 -->
                            <tr data-user-id="user-7" onclick="viewUserDetail('user-7')">
                                <td onclick="event.stopPropagation();">
                                    <input type="checkbox" class="user-checkbox" value="user-7">
                                </td>
                                <td>
                                    <div class="user-info">
                                        <div class="user-avatar" style="background: linear-gradient(135deg, #ef4444, #f87171);">
                                            ê°•
                                        </div>
                                        <div class="user-details">
                                            <div class="user-name">ê°•ë™ì›</div>
                                            <div class="user-email">kang.dw@techstartup.com</div>
                                        </div>
                                    </div>
                                </td>
                                <td>
                                    <a href="organization-management.html?id=org-2" class="org-link" onclick="event.stopPropagation();">
                                        ğŸš€ í…Œí¬ìŠ¤íƒ€íŠ¸ì—… Inc.
                                    </a>
                                </td>
                                <td>
                                    <span class="role-badge role-badge--employee">Employee</span>
                                </td>
                                <td>
                                    <div class="activity-indicator">
                                        <div class="activity-dot activity-dot--offline"></div>
                                        <span class="status-badge status-badge--inactive">Inactive</span>
                                    </div>
                                </td>
                                <td style="color: var(--text-secondary);">2ì¼ ì „</td>
                                <td>
                                    <strong style="color: var(--platform-primary);">156</strong>
                                    <span style="font-size: var(--text-xs); color: var(--text-secondary);">API í˜¸ì¶œ</span>
                                </td>
                                <td style="color: var(--text-secondary);">2024-10-08</td>
                                <td onclick="event.stopPropagation();">
                                    <div class="action-buttons">
                                        <button class="action-btn" onclick="viewUserDetail('user-7')" title="ìƒì„¸ ë³´ê¸°">
                                            ğŸ‘ï¸
                                        </button>
                                        <button class="action-btn" onclick="editUser('user-7')" title="í¸ì§‘">
                                            âœï¸
                                        </button>
                                        <button class="action-btn" onclick="showMoreActions('user-7')" title="ë”ë³´ê¸°">
                                            â‹®
                                        </button>
                                    </div>
                                </td>
                            </tr>

                            <!-- ì‚¬ìš©ì 8 -->
                            <tr data-user-id="user-8" onclick="viewUserDetail('user-8')">
                                <td onclick="event.stopPropagation();">
                                    <input type="checkbox" class="user-checkbox" value="user-8">
                                </td>
                                <td>
                                    <div class="user-info">
                                        <div class="user-avatar" style="background: linear-gradient(135deg, #14b8a6, #5eead4);">
                                            ìœ¤
                                        </div>
                                        <div class="user-details">
                                            <div class="user-name">ìœ¤ì„œì—°</div>
                                            <div class="user-email">yoon.sy@globaltrade.com</div>
                                        </div>
                                    </div>
                                </td>
                                <td>
                                    <a href="organization-management.html?id=org-1" class="org-link" onclick="event.stopPropagation();">
                                        ğŸ¢ ê¸€ë¡œë²Œë¬´ì—­
                                    </a>
                                </td>
                                <td>
                                    <span class="role-badge role-badge--manager">Manager</span>
                                </td>
                                <td>
                                    <div class="activity-indicator">
                                        <div class="activity-dot activity-dot--away"></div>
                                        <span class="status-badge status-badge--active">Active</span>
                                    </div>
                                </td>
                                <td style="color: var(--text-secondary);">45ë¶„ ì „</td>
                                <td>
                                    <strong style="color: var(--platform-primary);">567</strong>
                                    <span style="font-size: var(--text-xs); color: var(--text-secondary);">API í˜¸ì¶œ</span>
                                </td>
                                <td style="color: var(--text-secondary);">2024-03-15</td>
                                <td onclick="event.stopPropagation();">
                                    <div class="action-buttons">
                                        <button class="action-btn" onclick="viewUserDetail('user-8')" title="ìƒì„¸ ë³´ê¸°">
                                            ğŸ‘ï¸
                                        </button>
                                        <button class="action-btn" onclick="editUser('user-8')" title="í¸ì§‘">
                                            âœï¸
                                        </button>
                                        <button class="action-btn" onclick="showMoreActions('user-8')" title="ë”ë³´ê¸°">
                                            â‹®
                                        </button>
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>

                    <!-- í˜ì´ì§€ë„¤ì´ì…˜ -->
                    <div class="pagination">
                        <div class="pagination-info">
                            1-8 / 8,947ëª…
                        </div>
                        <div class="pagination-controls">
                            <button class="pagination-btn" disabled>â—€ ì´ì „</button>
                            <button class="pagination-btn pagination-btn--active">1</button>
                            <button class="pagination-btn">2</button>
                            <button class="pagination-btn">3</button>
                            <button class="pagination-btn">...</button>
                            <button class="pagination-btn">1119</button>
                            <button class="pagination-btn">ë‹¤ìŒ â–¶</button>
                        </div>
                    </div>
                </div>
            </main>
        </div>

        <!-- ì‚¬ìš©ì ìƒì„¸ ëª¨ë‹¬ -->
        <div id="userDetailModal" class="modal-overlay">
            <div class="modal">
                <div class="modal-header">
                    <h2 class="modal-title">ğŸ‘¤ ì‚¬ìš©ì ìƒì„¸ ì •ë³´</h2>
                    <button class="modal-close" onclick="closeUserDetailModal()">âœ•</button>
                </div>
                <div class="modal-body" id="userDetailContent">
                    <!-- ë™ì ìœ¼ë¡œ ì±„ì›Œì§ -->
                </div>
                <div class="modal-footer">
                    <button class="btn btn--outline" onclick="closeUserDetailModal()">ë‹«ê¸°</button>
                </div>
            </div>
        </div>
    </div>

    <!-- ê³µí†µ ìŠ¤í¬ë¦½íŠ¸ -->
    <script src="../common/layout.js"></script>
    <script src="../common/utils.js"></script>

    <!-- í˜ì´ì§€ ì „ìš© ìŠ¤í¬ë¦½íŠ¸ -->
    <script>
        // ========== User Management ì „ìš© ë¡œì§ ==========

        // ì „ì—­ ë³€ìˆ˜
        let usersData = [];
        let filteredUsers = [];
        let sortColumn = 'created';
        let sortDirection = 'desc';
        let currentPage = 1;
        let itemsPerPage = 8;

        // ========== ì´ˆê¸°í™” ==========
        document.addEventListener('DOMContentLoaded', function() {
            console.log('User Management í˜ì´ì§€ ì´ˆê¸°í™”');
            
            initializeUsers();
            loadUsersData();
        });

        function initializeUsers() {
            // ì´ˆê¸° ë°ì´í„° ë¡œë“œ
            usersData = getAllUsers();
            filteredUsers = [...usersData];
            
            // URL íŒŒë¼ë¯¸í„° í™•ì¸
            const urlParams = new URLSearchParams(window.location.search);
            const action = urlParams.get('action');
            const userId = urlParams.get('id');
            const orgId = urlParams.get('org');

            if (action === 'view' && userId) {
                viewUserDetail(userId);
            } else if (orgId) {
                filterByOrganization(orgId);
            }
        }

        function loadUsersData() {
            // ì‹¤ì œë¡œëŠ” ì„œë²„ì—ì„œ ë°ì´í„° ê°€ì ¸ì˜´
            console.log('ì‚¬ìš©ì ë°ì´í„° ë¡œë“œ ì™„ë£Œ:', usersData.length);
        }

        // ========== ë°ì´í„° ê°€ì ¸ì˜¤ê¸° ==========
        function getAllUsers() {
            // ì‹¤ì œë¡œëŠ” API í˜¸ì¶œ
            return [
                {
                    id: 'user-1',
                    name: 'ê¹€ì² ìˆ˜',
                    email: 'kim.cs@globaltrade.com',
                    organization: 'org-1',
                    organizationName: 'ê¸€ë¡œë²Œë¬´ì—­',
                    role: 'admin',
                    status: 'active',
                    lastActive: '5ë¶„ ì „',
                    usage: 847,
                    created: '2024-03-15',
                    online: true
                },
                {
                    id: 'user-2',
                    name: 'ì´ì˜í¬',
                    email: 'lee.yh@techstartup.com',
                    organization: 'org-2',
                    organizationName: 'í…Œí¬ìŠ¤íƒ€íŠ¸ì—… Inc.',
                    role: 'manager',
                    status: 'active',
                    lastActive: '12ë¶„ ì „',
                    usage: 523,
                    created: '2024-10-08',
                    online: true
                },
                {
                    id: 'user-3',
                    name: 'ë°•ë¯¼ìˆ˜',
                    email: 'park.ms@ailab.com',
                    organization: 'org-3',
                    organizationName: 'AIì—°êµ¬ì†Œ',
                    role: 'employee',
                    status: 'active',
                    lastActive: '1ì‹œê°„ ì „',
                    usage: 1234,
                    created: '2024-05-22',
                    online: false
                },
                {
                    id: 'user-4',
                    name: 'ìµœì§€ì€',
                    email: 'choi.je@designstudio.com',
                    organization: 'org-4',
                    organizationName: 'ë””ìì¸ìŠ¤íŠœë””ì˜¤',
                    role: 'employee',
                    status: 'active',
                    lastActive: '3ì‹œê°„ ì „',
                    usage: 234,
                    created: '2024-07-10',
                    online: false
                },
                {
                    id: 'user-5',
                    name: 'ì •íƒœë¯¼',
                    email: 'jung.tm@consulting.com',
                    organization: 'org-5',
                    organizationName: 'ì»¨ì„¤íŒ…ê·¸ë£¹',
                    role: 'admin',
                    status: 'active',
                    lastActive: 'ë°©ê¸ˆ ì „',
                    usage: 678,
                    created: '2024-02-08',
                    online: true
                },
                {
                    id: 'user-6',
                    name: 'í•œìˆ˜ì§„',
                    email: 'han.sj@ailab.com',
                    organization: 'org-3',
                    organizationName: 'AIì—°êµ¬ì†Œ',
                    role: 'manager',
                    status: 'active',
                    lastActive: '8ë¶„ ì „',
                    usage: 945,
                    created: '2024-05-22',
                    online: true
                },
                {
                    id: 'user-7',
                    name: 'ê°•ë™ì›',
                    email: 'kang.dw@techstartup.com',
                    organization: 'org-2',
                    organizationName: 'í…Œí¬ìŠ¤íƒ€íŠ¸ì—… Inc.',
                    role: 'employee',
                    status: 'inactive',
                    lastActive: '2ì¼ ì „',
                    usage: 156,
                    created: '2024-10-08',
                    online: false
                },
                {
                    id: 'user-8',
                    name: 'ìœ¤ì„œì—°',
                    email: 'yoon.sy@globaltrade.com',
                    organization: 'org-1',
                    organizationName: 'ê¸€ë¡œë²Œë¬´ì—­',
                    role: 'manager',
                    status: 'active',
                    lastActive: '45ë¶„ ì „',
                    usage: 567,
                    created: '2024-03-15',
                    online: false
                }
            ];
        }

        // ========== ê²€ìƒ‰ ==========
        function searchUsers(query) {
            const lowerQuery = query.toLowerCase();
            
            filteredUsers = usersData.filter(user => {
                return user.name.toLowerCase().includes(lowerQuery) ||
                       user.email.toLowerCase().includes(lowerQuery) ||
                       user.organizationName.toLowerCase().includes(lowerQuery);
            });

            currentPage = 1;
            renderUsersTable();
        }

        // ========== í•„í„°ë§ ==========
        function filterByOrganization(orgId) {
            if (!orgId) {
                filteredUsers = [...usersData];
            } else {
                filteredUsers = usersData.filter(user => user.organization === orgId);
            }
            currentPage = 1;
            renderUsersTable();
        }

        function filterByRole(role) {
            if (!role) {
                filteredUsers = [...usersData];
            } else {
                filteredUsers = usersData.filter(user => user.role === role);
            }
            currentPage = 1;
            renderUsersTable();
        }

        function filterByStatus(status) {
            if (!status) {
                filteredUsers = [...usersData];
            } else {
                filteredUsers = usersData.filter(user => user.status === status);
            }
            currentPage = 1;
            renderUsersTable();
        }

        function filterByDate(period) {
            const now = new Date();
            
            if (!period) {
                filteredUsers = [...usersData];
            } else {
                filteredUsers = usersData.filter(user => {
                    const userDate = new Date(user.created);
                    
                    switch(period) {
                        case 'today':
                            return userDate.toDateString() === now.toDateString();
                        case 'week':
                            const weekAgo = new Date(now - 7 * 24 * 60 * 60 * 1000);
                            return userDate >= weekAgo;
                        case 'month':
                            const monthAgo = new Date(now - 30 * 24 * 60 * 60 * 1000);
                            return userDate >= monthAgo;
                        case 'quarter':
                            const quarterAgo = new Date(now - 90 * 24 * 60 * 60 * 1000);
                            return userDate >= quarterAgo;
                        default:
                            return true;
                    }
                });
            }
            currentPage = 1;
            renderUsersTable();
        }

        function resetFilters() {
            // ëª¨ë“  í•„í„° ì´ˆê¸°í™”
            document.getElementById('searchInput').value = '';
            document.querySelectorAll('.filter-select').forEach(select => {
                select.selectedIndex = 0;
            });
            
            filteredUsers = [...usersData];
            currentPage = 1;
            renderUsersTable();
            
            window.GrowFitUtils.showToast('í•„í„°ê°€ ì´ˆê¸°í™”ë˜ì—ˆìŠµë‹ˆë‹¤', 'info');
        }

        // ========== ì •ë ¬ ==========
        function sortTable(column) {
            if (sortColumn === column) {
                sortDirection = sortDirection === 'asc' ? 'desc' : 'asc';
            } else {
                sortColumn = column;
                sortDirection = 'asc';
            }

            filteredUsers.sort((a, b) => {
                let aVal = a[column];
                let bVal = b[column];

                // ìˆ«ì ë¹„êµ
                if (typeof aVal === 'number') {
                    return sortDirection === 'asc' ? aVal - bVal : bVal - aVal;
                }

                // ë¬¸ìì—´ ë¹„êµ
                if (sortDirection === 'asc') {
                    return aVal > bVal ? 1 : -1;
                } else {
                    return aVal < bVal ? 1 : -1;
                }
            });

            renderUsersTable();
            
            window.GrowFitUtils.showToast(`${column}ë¡œ ì •ë ¬ë˜ì—ˆìŠµë‹ˆë‹¤`, 'info');
        }

        // ========== í…Œì´ë¸” ë Œë”ë§ ==========
        function renderUsersTable() {
            // ì‹¤ì œ êµ¬í˜„ì—ì„œëŠ” ë™ì ìœ¼ë¡œ í…Œì´ë¸” ìƒì„±
            console.log('í…Œì´ë¸” ë Œë”ë§:', filteredUsers.length, 'ëª… ì‚¬ìš©ì');
        }

        // ========== ì„ íƒ ê´€ë¦¬ ==========
        function toggleSelectAll(checkbox) {
            const checkboxes = document.querySelectorAll('.user-checkbox');
            checkboxes.forEach(cb => {
                cb.checked = checkbox.checked;
            });

            updateBulkActionButton();
        }

        function updateBulkActionButton() {
            const selectedCount = document.querySelectorAll('.user-checkbox:checked').length;
            
            if (selectedCount > 0) {
                console.log(`${selectedCount}ëª… ì‚¬ìš©ì ì„ íƒë¨`);
            }
        }

        // ========== ì‚¬ìš©ì ìƒì„¸ ë³´ê¸° ==========
        function viewUserDetail(userId) {
            const user = usersData.find(u => u.id === userId);
            
            if (!user) {
                window.GrowFitUtils.showToast('ì‚¬ìš©ìë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤', 'error');
                return;
            }

            const detailHtml = `
                <div style="display: grid; gap: var(--space-4);">
                    <div class="info-group">
                        <div class="info-label">ê¸°ë³¸ ì •ë³´</div>
                        <div style="padding: var(--space-4); background: var(--surface); border-radius: var(--radius-lg);">
                            <div style="display: grid; gap: var(--space-3);">
                                <div>
                                    <div style="font-size: var(--text-sm); color: var(--text-secondary);">ì´ë¦„</div>
                                    <div style="font-weight: var(--font-semibold);">${user.name}</div>
                                </div>
                                <div>
                                    <div style="font-size: var(--text-sm); color: var(--text-secondary);">ì´ë©”ì¼</div>
                                    <div style="font-weight: var(--font-semibold);">${user.email}</div>
                                </div>
                                <div>
                                    <div style="font-size: var(--text-sm); color: var(--text-secondary);">ì‚¬ìš©ì ID</div>
                                    <div style="font-family: 'Courier New', monospace; font-size: var(--text-sm);">${user.id}</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="info-group">
                        <div class="info-label">ì¡°ì§ & ì—­í• </div>
                        <div style="padding: var(--space-4); background: var(--surface); border-radius: var(--radius-lg);">
                            <div style="display: grid; gap: var(--space-3);">
                                <div>
                                    <div style="font-size: var(--text-sm); color: var(--text-secondary);">ì¡°ì§</div>
                                    <div style="font-weight: var(--font-semibold);">${user.organizationName}</div>
                                </div>
                                <div>
                                    <div style="font-size: var(--text-sm); color: var(--text-secondary);">ì—­í• </div>
                                    <div><span class="role-badge role-badge--${user.role}">${getRoleName(user.role)}</span></div>
                                </div>
                                <div>
                                    <div style="font-size: var(--text-sm); color: var(--text-secondary);">ìƒíƒœ</div>
                                    <div><span class="status-badge status-badge--${user.status}">${getStatusName(user.status)}</span></div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="info-group">
                        <div class="info-label">í™œë™ & ì‚¬ìš©ëŸ‰</div>
                        <div style="padding: var(--space-4); background: var(--surface); border-radius: var(--radius-lg);">
                            <div style="display: grid; gap: var(--space-3);">
                                <div>
                                    <div style="font-size: var(--text-sm); color: var(--text-secondary);">ë§ˆì§€ë§‰ í™œë™</div>
                                    <div style="font-weight: var(--font-semibold);">${user.lastActive}</div>
                                </div>
                                <div>
                                    <div style="font-size: var(--text-sm); color: var(--text-secondary);">ì´ë²ˆ ë‹¬ API í˜¸ì¶œ</div>
                                    <div style="font-weight: var(--font-semibold); color: var(--platform-primary);">${user.usage.toLocaleString()}íšŒ</div>
                                </div>
                                <div>
                                    <div style="font-size: var(--text-sm); color: var(--text-secondary);">ê°€ì…ì¼</div>
                                    <div style="font-weight: var(--font-semibold);">${user.created}</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="info-group">
                        <div class="info-label">ë¹ ë¥¸ ì•¡ì…˜</div>
                        <div style="display: flex; gap: var(--space-2); flex-wrap: wrap;">
                            <button class="btn btn--sm btn--outline" onclick="sendEmailToUser('${user.id}')">ğŸ“§ ì´ë©”ì¼ ë°œì†¡</button>
                            <button class="btn btn--sm btn--outline" onclick="viewUserActivity('${user.id}')">ğŸ“Š í™œë™ ë‚´ì—­</button>
                            <button class="btn btn--sm btn--outline" onclick="resetUserPassword('${user.id}')">ğŸ”‘ ë¹„ë°€ë²ˆí˜¸ ì´ˆê¸°í™”</button>
                            <button class="btn btn--sm btn--outline" onclick="changeUserRole('${user.id}')">ğŸ‘¤ ì—­í•  ë³€ê²½</button>
                        </div>
                    </div>
                </div>
            `;

            document.getElementById('userDetailContent').innerHTML = detailHtml;
            document.getElementById('userDetailModal').classList.add('modal-overlay--active');
        }

        function closeUserDetailModal() {
            document.getElementById('userDetailModal').classList.remove('modal-overlay--active');
        }

        // ========== ì‚¬ìš©ì í¸ì§‘ ==========
        function editUser(userId) {
            const user = usersData.find(u => u.id === userId);
            
            if (!user) {
                window.GrowFitUtils.showToast('ì‚¬ìš©ìë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤', 'error');
                return;
            }

            const options = `
âœï¸ ì‚¬ìš©ì í¸ì§‘: ${user.name}

ìˆ˜ì •í•  í•­ëª©:

1. ê¸°ë³¸ ì •ë³´ (ì´ë¦„, ì´ë©”ì¼)
2. ì—­í•  ë³€ê²½
3. ìƒíƒœ ë³€ê²½
4. ì¡°ì§ ë³€ê²½
5. ê¶Œí•œ ì„¤ì •

ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”:
            `.trim();

            const choice = prompt(options);

            if (choice && ['1', '2', '3', '4', '5'].includes(choice)) {
                handleEditAction(userId, choice);
            }
        }

        function handleEditAction(userId, action) {
            switch(action) {
                case '1':
                    editBasicInfo(userId);
                    break;
                case '2':
                    changeUserRole(userId);
                    break;
                case '3':
                    changeUserStatus(userId);
                    break;
                case '4':
                    changeUserOrganization(userId);
                    break;
                case '5':
                    setUserPermissions(userId);
                    break;
            }
        }

        function editBasicInfo(userId) {
            const user = usersData.find(u => u.id === userId);
            const newName = prompt('ìƒˆ ì´ë¦„:', user.name);
            
            if (newName && newName.trim()) {
                user.name = newName;
                window.GrowFitUtils.showToast('ì‚¬ìš©ì ì •ë³´ê°€ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤', 'success');
                renderUsersTable();
            }
        }

        function changeUserRole(userId) {
            const roles = `
ì—­í•  ë³€ê²½

1. Admin (ê´€ë¦¬ì)
2. Manager (ë§¤ë‹ˆì €)
3. Employee (ì¼ë°˜ ì‚¬ìš©ì)

ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”:
            `.trim();

            const choice = prompt(roles);

            if (choice && ['1', '2', '3'].includes(choice)) {
                const roleMap = {
                    '1': 'admin',
                    '2': 'manager',
                    '3': 'employee'
                };

                const user = usersData.find(u => u.id === userId);
                user.role = roleMap[choice];
                
                window.GrowFitUtils.showToast('ì—­í• ì´ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤', 'success');
                renderUsersTable();
            }
        }

        function changeUserStatus(userId) {
            const statuses = `
ìƒíƒœ ë³€ê²½

1. Active (í™œì„±)
2. Inactive (ë¹„í™œì„±)
3. Suspended (ì •ì§€)

ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”:
            `.trim();

            const choice = prompt(statuses);

            if (choice && ['1', '2', '3'].includes(choice)) {
                const statusMap = {
                    '1': 'active',
                    '2': 'inactive',
                    '3': 'suspended'
                };

                const user = usersData.find(u => u.id === userId);
                user.status = statusMap[choice];
                
                window.GrowFitUtils.showToast('ìƒíƒœê°€ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤', 'success');
                renderUsersTable();
            }
        }

        function changeUserOrganization(userId) {
            const orgs = `
ì¡°ì§ ë³€ê²½

1. ê¸€ë¡œë²Œë¬´ì—­
2. í…Œí¬ìŠ¤íƒ€íŠ¸ì—… Inc.
3. AIì—°êµ¬ì†Œ
4. ë””ìì¸ìŠ¤íŠœë””ì˜¤
5. ì»¨ì„¤íŒ…ê·¸ë£¹

ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”:
            `.trim();

            const choice = prompt(orgs);

            if (choice && ['1', '2', '3', '4', '5'].includes(choice)) {
                window.GrowFitUtils.showToast('ì¡°ì§ì´ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤', 'success');
            }
        }

        function setUserPermissions(userId) {
            alert('ê¶Œí•œ ì„¤ì • ê¸°ëŠ¥ì€ ê°œë°œ ì¤‘ì…ë‹ˆë‹¤');
        }

        // ========== ë”ë³´ê¸° ì•¡ì…˜ ==========
        function showMoreActions(userId) {
            const user = usersData.find(u => u.id === userId);

            const actions = `
â‹® ${user.name} ì¶”ê°€ ì‘ì—…

1. ğŸ“Š í™œë™ ë‚´ì—­ ë³´ê¸°
2. ğŸ“§ ì´ë©”ì¼ ë°œì†¡
3. ğŸ”‘ ë¹„ë°€ë²ˆí˜¸ ì´ˆê¸°í™”
4. ğŸ‘¤ ì—­í•  ë³€ê²½
5. ğŸ¢ ì¡°ì§ ë³€ê²½
6. â¸ï¸ ê³„ì • ì •ì§€
7. ğŸ—‘ï¸ ì‚¬ìš©ì ì‚­ì œ

ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”:
            `.trim();

            const choice = prompt(actions);

            if (choice && ['1', '2', '3', '4', '5', '6', '7'].includes(choice)) {
                handleMoreAction(userId, choice);
            }
        }

        function handleMoreAction(userId, action) {
            const user = usersData.find(u => u.id === userId);

            switch(action) {
                case '1':
                    viewUserActivity(userId);
                    break;
                case '2':
                    sendEmailToUser(userId);
                    break;
                case '3':
                    resetUserPassword(userId);
                    break;
                case '4':
                    changeUserRole(userId);
                    break;
                case '5':
                    changeUserOrganization(userId);
                    break;
                case '6':
                    suspendUser(userId);
                    break;
                case '7':
                    deleteUser(userId);
                    break;
            }
        }

        function viewUserActivity(userId) {
            const user = usersData.find(u => u.id === userId);

            const activity = `
ğŸ“Š ${user.name} í™œë™ ë‚´ì—­

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ì´ë²ˆ ë‹¬:
- API í˜¸ì¶œ: ${user.usage.toLocaleString()}íšŒ
- í‰ê·  ì¼ì¼ í˜¸ì¶œ: ${Math.floor(user.usage / 30)}íšŒ
- ì„¸ì…˜ ì‹œê°„: 47.2ì‹œê°„

ì˜¤ëŠ˜:
- API í˜¸ì¶œ: 234íšŒ
- ë¡œê·¸ì¸: 14:23
- ë§ˆì§€ë§‰ í™œë™: ${user.lastActive}

ìµœê·¼ í™œë™:
- 15:47 - ë¬¸ì„œ ë¶„ì„ ì‹¤í–‰
- 15:32 - í”„ë¡œì íŠ¸ ìƒì„±
- 14:56 - íŒ€ì› ì´ˆëŒ€
- 14:23 - ë¡œê·¸ì¸

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

LLM ì‚¬ìš© ë¶„í¬:
- OpenAI: 45%
- Claude: 35%
- Gemini: 20%

[ìƒì„¸ ë¦¬í¬íŠ¸] [ë‚´ë³´ë‚´ê¸°]
            `.trim();

            alert(activity);
        }

        function sendEmailToUser(userId) {
            const user = usersData.find(u => u.id === userId);

            const templates = `
ğŸ“§ ì´ë©”ì¼ ë°œì†¡

ë°›ëŠ” ì‚¬ëŒ: ${user.email}

í…œí”Œë¦¿ ì„ íƒ:

1. í™˜ì˜ ë©”ì‹œì§€
2. ë¹„ë°€ë²ˆí˜¸ ì´ˆê¸°í™”
3. ê³„ì • ì •ë³´ ì—…ë°ì´íŠ¸
4. ì‚¬ìš©ëŸ‰ ì•Œë¦¼
5. ì»¤ìŠ¤í…€ ì´ë©”ì¼

ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”:
            `.trim();

            const choice = prompt(templates);

            if (choice) {
                window.GrowFitUtils.showToast('ì´ë©”ì¼ì´ ë°œì†¡ë˜ì—ˆìŠµë‹ˆë‹¤', 'success');
            }
        }

        function resetUserPassword(userId) {
            const user = usersData.find(u => u.id === userId);

            if (confirm(`${user.name}ì˜ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì´ˆê¸°í™”í•˜ì‹œê² ìŠµë‹ˆê¹Œ?\n\nì´ˆê¸°í™” ë§í¬ê°€ ${user.email}ë¡œ ë°œì†¡ë©ë‹ˆë‹¤.`)) {
                window.GrowFitUtils.showToast('ë¹„ë°€ë²ˆí˜¸ ì´ˆê¸°í™” ì´ë©”ì¼ì´ ë°œì†¡ë˜ì—ˆìŠµë‹ˆë‹¤', 'success');
            }
        }

        function suspendUser(userId) {
            const user = usersData.find(u => u.id === userId);

            if (confirm(`${user.name}ì˜ ê³„ì •ì„ ì •ì§€í•˜ì‹œê² ìŠµë‹ˆê¹Œ?\n\nì‚¬ìš©ìì˜ ì ‘ê·¼ì´ ì°¨ë‹¨ë©ë‹ˆë‹¤.`)) {
                user.status = 'suspended';
                window.GrowFitUtils.showToast('ê³„ì •ì´ ì •ì§€ë˜ì—ˆìŠµë‹ˆë‹¤', 'success');
                renderUsersTable();
            }
        }

        function deleteUser(userId) {
            const user = usersData.find(u => u.id === userId);

            const confirmText = prompt(`
âš ï¸ ì‚¬ìš©ì ì‚­ì œ

ì •ë§ë¡œ "${user.name}"ì„(ë¥¼) ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?

ì´ ì‘ì—…ì€ ë˜ëŒë¦´ ìˆ˜ ì—†ìœ¼ë©°:
- ëª¨ë“  ë°ì´í„° ì˜êµ¬ ì‚­ì œ
- ì‘ì—… ë‚´ì—­ ì‚­ì œ
- ì ‘ê·¼ ê¶Œí•œ ì œê±°

ì‚­ì œí•˜ë ¤ë©´ ì‚¬ìš©ìëª…ì„ ì…ë ¥í•˜ì„¸ìš”:
            `.trim());

            if (confirmText === user.name) {
                window.GrowFitUtils.showToast('ì‚¬ìš©ìë¥¼ ì‚­ì œí•˜ëŠ” ì¤‘...', 'info');

                setTimeout(() => {
                    const index = usersData.findIndex(u => u.id === userId);
                    if (index > -1) {
                        usersData.splice(index, 1);
                        filteredUsers = [...usersData];
                    }

                    window.GrowFitUtils.showToast('ì‚¬ìš©ìê°€ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤', 'success');
                    renderUsersTable();
                }, 2000);
            } else if (confirmText) {
                window.GrowFitUtils.showToast('ì‚¬ìš©ìëª…ì´ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤', 'error');
            }
        }

        // ========== ëŒ€ëŸ‰ ì‘ì—… ==========
        function bulkActions() {
            const selectedUsers = Array.from(document.querySelectorAll('.user-checkbox:checked'));
            
            if (selectedUsers.length === 0) {
                window.GrowFitUtils.showToast('ì‚¬ìš©ìë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”', 'warning');
                return;
            }

            const actions = `
âš™ï¸ ëŒ€ëŸ‰ ì‘ì—…

ì„ íƒëœ ì‚¬ìš©ì: ${selectedUsers.length}ëª…

ì‘ì—… ì„ íƒ:

1. ì—­í•  ì¼ê´„ ë³€ê²½
2. ìƒíƒœ ì¼ê´„ ë³€ê²½
3. ì´ë©”ì¼ ì¼ê´„ ë°œì†¡
4. ì¡°ì§ ì¼ê´„ ë³€ê²½
5. íƒœê·¸ ì¶”ê°€
6. ë‚´ë³´ë‚´ê¸°
7. ì‚­ì œ

ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”:
            `.trim();

            const choice = prompt(actions);

            if (choice && ['1', '2', '3', '4', '5', '6', '7'].includes(choice)) {
                handleBulkAction(selectedUsers, choice);
            }
        }

        function handleBulkAction(selectedUsers, action) {
            const count = selectedUsers.length;

            switch(action) {
                case '1':
                    bulkChangeRole(selectedUsers);
                    break;
                case '2':
                    bulkChangeStatus(selectedUsers);
                    break;
                case '3':
                    bulkSendEmail(selectedUsers);
                    break;
                case '4':
                    bulkChangeOrganization(selectedUsers);
                    break;
                case '5':
                    bulkAddTags(selectedUsers);
                    break;
                case '6':
                    bulkExport(selectedUsers);
                    break;
                case '7':
                    bulkDelete(selectedUsers);
                    break;
            }
        }

        function bulkChangeRole(selectedUsers) {
            const roles = `
ì—­í•  ì¼ê´„ ë³€ê²½

ëŒ€ìƒ: ${selectedUsers.length}ëª…

1. Admin (ê´€ë¦¬ì)
2. Manager (ë§¤ë‹ˆì €)
3. Employee (ì¼ë°˜ ì‚¬ìš©ì)

ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”:
            `.trim();

            const choice = prompt(roles);

            if (choice && ['1', '2', '3'].includes(choice)) {
                window.GrowFitUtils.showToast(`${selectedUsers.length}ëª…ì˜ ì—­í• ì„ ë³€ê²½í•˜ëŠ” ì¤‘...`, 'info');
                
                setTimeout(() => {
                    window.GrowFitUtils.showToast('ì—­í• ì´ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤', 'success');
                }, 1500);
            }
        }

        function bulkChangeStatus(selectedUsers) {
            const statuses = `
ìƒíƒœ ì¼ê´„ ë³€ê²½

ëŒ€ìƒ: ${selectedUsers.length}ëª…

1. Active (í™œì„±)
2. Inactive (ë¹„í™œì„±)
3. Suspended (ì •ì§€)

ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”:
            `.trim();

            const choice = prompt(statuses);

            if (choice && ['1', '2', '3'].includes(choice)) {
                window.GrowFitUtils.showToast(`${selectedUsers.length}ëª…ì˜ ìƒíƒœë¥¼ ë³€ê²½í•˜ëŠ” ì¤‘...`, 'info');
                
                setTimeout(() => {
                    window.GrowFitUtils.showToast('ìƒíƒœê°€ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤', 'success');
                }, 1500);
            }
        }

        function bulkSendEmail(selectedUsers) {
            window.GrowFitUtils.showToast(`${selectedUsers.length}ëª…ì—ê²Œ ì´ë©”ì¼ ë°œì†¡ ì¤‘...`, 'info');
            
            setTimeout(() => {
                window.GrowFitUtils.showToast('ì´ë©”ì¼ ë°œì†¡ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤', 'success');
            }, 2000);
        }

        function bulkChangeOrganization(selectedUsers) {
            const orgs = `
ì¡°ì§ ì¼ê´„ ë³€ê²½

ëŒ€ìƒ: ${selectedUsers.length}ëª…

1. ê¸€ë¡œë²Œë¬´ì—­
2. í…Œí¬ìŠ¤íƒ€íŠ¸ì—… Inc.
3. AIì—°êµ¬ì†Œ
4. ë””ìì¸ìŠ¤íŠœë””ì˜¤
5. ì»¨ì„¤íŒ…ê·¸ë£¹

ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”:
            `.trim();

            const choice = prompt(orgs);

            if (choice && ['1', '2', '3', '4', '5'].includes(choice)) {
                window.GrowFitUtils.showToast(`${selectedUsers.length}ëª…ì˜ ì¡°ì§ì„ ë³€ê²½í•˜ëŠ” ì¤‘...`, 'info');
                
                setTimeout(() => {
                    window.GrowFitUtils.showToast('ì¡°ì§ì´ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤', 'success');
                }, 1500);
            }
        }

        function bulkAddTags(selectedUsers) {
            const tags = prompt('ì¶”ê°€í•  íƒœê·¸ (ì‰¼í‘œë¡œ êµ¬ë¶„):');
            
            if (tags && tags.trim()) {
                window.GrowFitUtils.showToast(`${selectedUsers.length}ëª…ì—ê²Œ íƒœê·¸ë¥¼ ì¶”ê°€í•˜ëŠ” ì¤‘...`, 'info');
                
                setTimeout(() => {
                    window.GrowFitUtils.showToast('íƒœê·¸ê°€ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤', 'success');
                }, 1500);
            }
        }

        function bulkExport(selectedUsers) {
            window.GrowFitUtils.showToast(`${selectedUsers.length}ëª…ì„ ë‚´ë³´ë‚´ëŠ” ì¤‘...`, 'info');
            
            setTimeout(() => {
                window.GrowFitUtils.showToast('users_export.csvê°€ ë‹¤ìš´ë¡œë“œë˜ì—ˆìŠµë‹ˆë‹¤', 'success');
            }, 2000);
        }

        function bulkDelete(selectedUsers) {
            if (confirm(`ì •ë§ë¡œ ${selectedUsers.length}ëª…ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?\n\nì´ ì‘ì—…ì€ ë˜ëŒë¦´ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.`)) {
                window.GrowFitUtils.showToast(`${selectedUsers.length}ëª…ì„ ì‚­ì œí•˜ëŠ” ì¤‘...`, 'info');
                
                setTimeout(() => {
                    window.GrowFitUtils.showToast('ì‚¬ìš©ìê°€ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤', 'success');
                }, 2000);
            }
        }

        // ========== ë‚´ë³´ë‚´ê¸° ==========
        function exportUsers() {
            const formats = `
ğŸ“¥ ì‚¬ìš©ì ë°ì´í„° ë‚´ë³´ë‚´ê¸°

ë‚´ë³´ë‚¼ í˜•ì‹:

1. CSV (ì „ì²´ ë°ì´í„°)
2. Excel (ì „ì²´ ë°ì´í„°)
3. JSON (API í˜•ì‹)
4. PDF (ë¦¬í¬íŠ¸)

ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”:
            `.trim();

            const choice = prompt(formats);

            if (choice && ['1', '2', '3', '4'].includes(choice)) {
                handleExport(choice);
            }
        }

        function handleExport(format) {
            const formatMap = {
                '1': 'users.csv',
                '2': 'users.xlsx',
                '3': 'users.json',
                '4': 'users_report.pdf'
            };

            window.GrowFitUtils.showToast('ë°ì´í„°ë¥¼ ë‚´ë³´ë‚´ëŠ” ì¤‘...', 'info');

            setTimeout(() => {
                const filename = formatMap[format];
                window.GrowFitUtils.showToast(`${filename}ì´(ê°€) ë‹¤ìš´ë¡œë“œë˜ì—ˆìŠµë‹ˆë‹¤`, 'success');
            }, 2000);
        }

        // ========== ì‚¬ìš©ì ë¶„ì„ ==========
        function showUserAnalytics() {
            const analytics = `
ğŸ“Š ì‚¬ìš©ì ë¶„ì„

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ì „ì²´ ì‚¬ìš©ì: ${usersData.length.toLocaleString()}ëª…

ì—­í• ë³„ ë¶„í¬:
- Admin: ${usersData.filter(u => u.role === 'admin').length}ëª… (${Math.round(usersData.filter(u => u.role === 'admin').length / usersData.length * 100)}%)
- Manager: ${usersData.filter(u => u.role === 'manager').length}ëª… (${Math.round(usersData.filter(u => u.role === 'manager').length / usersData.length * 100)}%)
- Employee: ${usersData.filter(u => u.role === 'employee').length}ëª… (${Math.round(usersData.filter(u => u.role === 'employee').length / usersData.length * 100)}%)

ìƒíƒœë³„ ë¶„í¬:
- Active: ${usersData.filter(u => u.status === 'active').length}ëª…
- Inactive: ${usersData.filter(u => u.status === 'inactive').length}ëª…
- Suspended: ${usersData.filter(u => u.status === 'suspended').length}ëª…

í™œë™ í˜„í™©:
- ì˜¨ë¼ì¸: ${usersData.filter(u => u.online).length}ëª…
- ì˜¤í”„ë¼ì¸: ${usersData.filter(u => !u.online).length}ëª…
- í‰ê·  ì„¸ì…˜: 2.4ì‹œê°„
- í‰ê·  API í˜¸ì¶œ: ${Math.round(usersData.reduce((s, u) => s + u.usage, 0) / usersData.length)}íšŒ/ì›”

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ì„±ì¥ ì¶”ì´:
- ì´ë²ˆ ë‹¬ ê°€ì…: 1,384ëª… (+22.1%)
- í™œì„± ì‚¬ìš©ì ì¦ê°€: +15.2%
- í‰ê·  ì„¸ì…˜ ì‹œê°„ ì¦ê°€: +5.3%

ì¡°ì§ë³„ ë¶„í¬:
- ê¸€ë¡œë²Œë¬´ì—­: ${usersData.filter(u => u.organization === 'org-1').length}ëª…
- í…Œí¬ìŠ¤íƒ€íŠ¸ì—… Inc.: ${usersData.filter(u => u.organization === 'org-2').length}ëª…
- AIì—°êµ¬ì†Œ: ${usersData.filter(u => u.organization === 'org-3').length}ëª…
- ê¸°íƒ€: ${usersData.filter(u => !['org-1', 'org-2', 'org-3'].includes(u.organization)).length}ëª…

[ìƒì„¸ ë¦¬í¬íŠ¸] [PDF ë‹¤ìš´ë¡œë“œ]
            `.trim();

            alert(analytics);
        }

        // ========== ìƒˆë¡œê³ ì¹¨ ==========
        function refreshUsers() {
            window.GrowFitUtils.showToast('ì‚¬ìš©ì ëª©ë¡ì„ ìƒˆë¡œê³ ì¹¨í•˜ëŠ” ì¤‘...', 'info');
            
            setTimeout(() => {
                loadUsersData();
                renderUsersTable();
                window.GrowFitUtils.showToast('ëª©ë¡ì´ ì—…ë°ì´íŠ¸ë˜ì—ˆìŠµë‹ˆë‹¤', 'success');
            }, 1000);
        }

        // ========== ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ ==========
        function getRoleName(role) {
            const names = {
                'admin': 'Admin',
                'manager': 'Manager',
                'employee': 'Employee'
            };
            return names[role] || role;
        }

        function getStatusName(status) {
            const names = {
                'active': 'Active',
                'inactive': 'Inactive',
                'suspended': 'Suspended'
            };
            return names[status] || status;
        }

        // ========== ê³ ê¸‰ ê²€ìƒ‰ ==========
        function advancedSearch() {
            const criteria = `
ğŸ” ê³ ê¸‰ ê²€ìƒ‰

ê²€ìƒ‰ ì¡°ê±´:

1. ì—­í• ë³„ ê²€ìƒ‰
2. í™œë™ ê¸°ì¤€ ê²€ìƒ‰
3. ì‚¬ìš©ëŸ‰ ê¸°ì¤€ ê²€ìƒ‰
4. ê°€ì…ì¼ ë²”ìœ„
5. ì¡°ì§ë³„ ê²€ìƒ‰
6. ì˜¨ë¼ì¸ ìƒíƒœ

ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”:
            `.trim();

            const choice = prompt(criteria);

            if (choice && ['1', '2', '3', '4', '5', '6'].includes(choice)) {
                handleAdvancedSearch(choice);
            }
        }

        function handleAdvancedSearch(type) {
            switch(type) {
                case '1':
                    // ì—­í• ë³„ ê²€ìƒ‰ì€ ì´ë¯¸ í•„í„°ì— ìˆìŒ
                    break;
                case '2':
                    searchByActivity();
                    break;
                case '3':
                    searchByUsage();
                    break;
                case '4':
                    searchByDateRange();
                    break;
                case '5':
                    // ì¡°ì§ë³„ ê²€ìƒ‰ì€ ì´ë¯¸ í•„í„°ì— ìˆìŒ
                    break;
                case '6':
                    searchByOnlineStatus();
                    break;
            }
        }

        function searchByActivity() {
            const threshold = prompt('í™œë™ ì„ê³„ê°’ (ì‹œê°„):', '24');
            
            if (threshold) {
                window.GrowFitUtils.showToast('í™œë™ ê¸°ì¤€ ê²€ìƒ‰ ê¸°ëŠ¥ì€ ê°œë°œ ì¤‘ì…ë‹ˆë‹¤', 'info');
            }
        }

        function searchByUsage() {
            const threshold = prompt('ìµœì†Œ API í˜¸ì¶œ ìˆ˜:', '500');
            
            if (threshold && !isNaN(threshold)) {
                filteredUsers = usersData.filter(user => user.usage >= parseInt(threshold));
                currentPage = 1;
                renderUsersTable();
                
                window.GrowFitUtils.showToast(`ì‚¬ìš©ëŸ‰ ${threshold}íšŒ ì´ìƒ: ${filteredUsers.length}ëª…`, 'info');
            }
        }

        function searchByDateRange() {
            const start = prompt('ì‹œì‘ì¼ (YYYY-MM-DD):');
            const end = prompt('ì¢…ë£Œì¼ (YYYY-MM-DD):');
            
            if (start && end) {
                filteredUsers = usersData.filter(user => {
                    return user.created >= start && user.created <= end;
                });
                currentPage = 1;
                renderUsersTable();
                
                window.GrowFitUtils.showToast(`ê¸°ê°„ ë‚´ ì‚¬ìš©ì: ${filteredUsers.length}ëª…`, 'info');
            }
        }

        function searchByOnlineStatus() {
            const status = prompt('ì˜¨ë¼ì¸ ìƒíƒœ (online/offline):');
            
            if (status === 'online') {
                filteredUsers = usersData.filter(user => user.online);
            } else if (status === 'offline') {
                filteredUsers = usersData.filter(user => !user.online);
            }
            
            currentPage = 1;
            renderUsersTable();
            
            window.GrowFitUtils.showToast(`${status} ì‚¬ìš©ì: ${filteredUsers.length}ëª…`, 'info');
        }

        // ========== í†µê³„ ì—…ë°ì´íŠ¸ ==========
        function updateStatistics() {
            const stats = {
                total: usersData.length,
                active: usersData.filter(u => u.status === 'active').length,
                online: usersData.filter(u => u.online).length,
                newThisMonth: usersData.filter(u => {
                    const userDate = new Date(u.created);
                    const now = new Date();
                    return userDate.getMonth() === now.getMonth() && userDate.getFullYear() === now.getFullYear();
                }).length,
                avgSession: 2.4
            };

            console.log('í†µê³„ ì—…ë°ì´íŠ¸:', stats);
        }

        // ========== ì‚¬ìš©ì ì´ˆëŒ€ ==========
        function inviteUser() {
            const email = prompt('ì´ˆëŒ€í•  ì‚¬ìš©ìì˜ ì´ë©”ì¼:');
            
            if (email && email.includes('@')) {
                window.GrowFitUtils.showToast('ì´ˆëŒ€ ì´ë©”ì¼ì„ ë°œì†¡í•˜ëŠ” ì¤‘...', 'info');
                
                setTimeout(() => {
                    window.GrowFitUtils.showToast(`${email}ë¡œ ì´ˆëŒ€ ì´ë©”ì¼ì´ ë°œì†¡ë˜ì—ˆìŠµë‹ˆë‹¤`, 'success');
                }, 1500);
            } else if (email) {
                window.GrowFitUtils.showToast('ì˜¬ë°”ë¥¸ ì´ë©”ì¼ ì£¼ì†Œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”', 'error');
            }
        }

        // ========== ì‚¬ìš©ì í™œë™ ëª¨ë‹ˆí„°ë§ ==========
        function monitorUserActivity() {
            const monitor = `
ğŸ“¡ ì‹¤ì‹œê°„ ì‚¬ìš©ì í™œë™

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

í˜„ì¬ ì˜¨ë¼ì¸: ${usersData.filter(u => u.online).length}ëª…

ìµœê·¼ í™œë™:
- 15:47 - ê¹€ì² ìˆ˜: ë¬¸ì„œ ë¶„ì„ ì‹¤í–‰
- 15:45 - ì´ì˜í¬: í”„ë¡œì íŠ¸ ìƒì„±
- 15:43 - ì •íƒœë¯¼: API í˜¸ì¶œ (847íšŒ)
- 15:41 - í•œìˆ˜ì§„: íŒ€ì› ì´ˆëŒ€
- 15:39 - ìœ¤ì„œì—°: íŒŒì¼ ì—…ë¡œë“œ

í™œë™ ì§‘ì¤‘ ì‹œê°„:
- í”¼í¬ ì‹œê°„: 14:00-16:00
- í‰ê·  ë™ì‹œ ì ‘ì†: 1,247ëª…
- ìµœëŒ€ ë™ì‹œ ì ‘ì†: 1,892ëª… (14:32)

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

API í˜¸ì¶œ í˜„í™©:
- ì´ í˜¸ì¶œ: 34.2K (ì˜¤ëŠ˜)
- í‰ê·  ì‘ë‹µ: 0.12ì´ˆ
- ì—ëŸ¬ìœ¨: 0.3%

[ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§] [ì•Œë¦¼ ì„¤ì •]
            `.trim();

            alert(monitor);
        }

        // ========== í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤ ==========
        document.addEventListener('keydown', function(e) {
            // Ctrl/Cmd + F: ê²€ìƒ‰ í¬ì»¤ìŠ¤
            if ((e.ctrlKey || e.metaKey) && e.key === 'f') {
                e.preventDefault();
                document.getElementById('searchInput').focus();
            }

            // Ctrl/Cmd + R: ìƒˆë¡œê³ ì¹¨
            if ((e.ctrlKey || e.metaKey) && e.key === 'r') {
                e.preventDefault();
                refreshUsers();
            }

            // Ctrl/Cmd + E: ë‚´ë³´ë‚´ê¸°
            if ((e.ctrlKey || e.metaKey) && e.key === 'e') {
                e.preventDefault();
                exportUsers();
            }

            // Ctrl/Cmd + A: ì „ì²´ ì„ íƒ
            if ((e.ctrlKey || e.metaKey) && e.key === 'a') {
                const checkboxes = document.querySelectorAll('.user-checkbox');
                if (checkboxes.length > 0) {
                    e.preventDefault();
                    checkboxes.forEach(cb => cb.checked = true);
                    updateBulkActionButton();
                }
            }

            // Esc: ëª¨ë‹¬ ë‹«ê¸°
            if (e.key === 'Escape') {
                closeUserDetailModal();
            }
        });

        // ========== ëª¨ë‹¬ ì™¸ë¶€ í´ë¦­ ì‹œ ë‹«ê¸° ==========
        document.getElementById('userDetailModal')?.addEventListener('click', function(e) {
            if (e.target === this) {
                closeUserDetailModal();
            }
        });

        // ========== ì‹¤ì‹œê°„ ì˜¨ë¼ì¸ ìƒíƒœ ì—…ë°ì´íŠ¸ ==========
        function updateOnlineStatus() {
            // ì‹¤ì œë¡œëŠ” WebSocketìœ¼ë¡œ ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸
            // ì—¬ê¸°ì„œëŠ” ì‹œë®¬ë ˆì´ì…˜
            setInterval(() => {
                // ëœë¤í•˜ê²Œ ì˜¨ë¼ì¸ ìƒíƒœ ë³€ê²½
                usersData.forEach(user => {
                    if (Math.random() < 0.1) { // 10% í™•ë¥ ë¡œ ìƒíƒœ ë³€ê²½
                        user.online = !user.online;
                    }
                });
            }, 30000); // 30ì´ˆë§ˆë‹¤
        }

        // ========== ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§ ==========
        function logPerformance() {
            if (window.performance) {
                const perfData = window.performance.timing;
                const pageLoadTime = perfData.loadEventEnd - perfData.navigationStart;
                
                console.log('â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”');
                console.log('ğŸ“Š í˜ì´ì§€ ì„±ëŠ¥ ë©”íŠ¸ë¦­');
                console.log('â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”');
                console.log('í˜ì´ì§€ ë¡œë“œ ì‹œê°„:', pageLoadTime + 'ms');
                console.log('DOM ì¤€ë¹„ ì‹œê°„:', (perfData.domContentLoadedEventEnd - perfData.navigationStart) + 'ms');
                console.log('â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”');
            }
        }

        // í˜ì´ì§€ ë¡œë“œ ì™„ë£Œ í›„ ì„±ëŠ¥ ì¸¡ì •
        window.addEventListener('load', function() {
            setTimeout(logPerformance, 0);
        });

        // ========== ì´ˆê¸°í™” ì™„ë£Œ ==========
        console.log('âœ… User Management ì™„ì „íˆ ë¡œë“œë¨');
        console.log('â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”');
        console.log('ğŸ‘¥ ì´ ì‚¬ìš©ì:', usersData.length.toLocaleString());
        console.log('âœ… í™œì„± ì‚¬ìš©ì:', usersData.filter(u => u.status === 'active').length.toLocaleString());
        console.log('ğŸŸ¢ ì˜¨ë¼ì¸:', usersData.filter(u => u.online).length);
        console.log('ğŸ“Š í‰ê·  ì‚¬ìš©ëŸ‰:', Math.round(usersData.reduce((s, u) => s + u.usage, 0) / usersData.length) + 'íšŒ');
        console.log('â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”');
        console.log('ë‹¨ì¶•í‚¤: Ctrl+F(ê²€ìƒ‰), Ctrl+R(ìƒˆë¡œê³ ì¹¨), Ctrl+E(ë‚´ë³´ë‚´ê¸°), Ctrl+A(ì „ì²´ì„ íƒ)');

        // ì‹¤ì‹œê°„ ìƒíƒœ ì—…ë°ì´íŠ¸ ì‹œì‘
        // updateOnlineStatus();
    </script>
</body>
</html>